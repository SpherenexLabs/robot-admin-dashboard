(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function l(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=l(o);fetch(o.href,c)}})();function q_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Kc={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function rS(){if(Tg)return Yl;Tg=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Yl.Fragment=n,Yl.jsx=l,Yl.jsxs=l,Yl}var Cg;function oS(){return Cg||(Cg=1,Kc.exports=rS()),Kc.exports}var v=oS(),Zc={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function uS(){if(Rg)return ue;Rg=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function B(T,I,H){this.props=T,this.context=I,this.refs=k,this.updater=H||M}B.prototype.isReactComponent={},B.prototype.setState=function(T,I){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,I,"setState")},B.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function J(){}J.prototype=B.prototype;function Z(T,I,H){this.props=T,this.context=I,this.refs=k,this.updater=H||M}var G=Z.prototype=new J;G.constructor=Z,D(G,B.prototype),G.isPureReactComponent=!0;var oe=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function P(T,I,H,q,Q,$){return H=$.ref,{$$typeof:s,type:T,key:I,ref:H!==void 0?H:null,props:$}}function Te(T,I){return P(T.type,I,void 0,void 0,void 0,T.props)}function Ie(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function me(T){var I={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(H){return I[H]})}var Me=/\/+/g;function Be(T,I){return typeof T=="object"&&T!==null&&T.key!=null?me(""+T.key):I.toString(36)}function St(){}function Et(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(St,St):(T.status="pending",T.then(function(I){T.status==="pending"&&(T.status="fulfilled",T.value=I)},function(I){T.status==="pending"&&(T.status="rejected",T.reason=I)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Ge(T,I,H,q,Q){var $=typeof T;($==="undefined"||$==="boolean")&&(T=null);var K=!1;if(T===null)K=!0;else switch($){case"bigint":case"string":case"number":K=!0;break;case"object":switch(T.$$typeof){case s:case n:K=!0;break;case y:return K=T._init,Ge(K(T._payload),I,H,q,Q)}}if(K)return Q=Q(T),K=q===""?"."+Be(T,0):q,oe(Q)?(H="",K!=null&&(H=K.replace(Me,"$&/")+"/"),Ge(Q,I,H,"",function(mn){return mn})):Q!=null&&(Ie(Q)&&(Q=Te(Q,H+(Q.key==null||T&&T.key===Q.key?"":(""+Q.key).replace(Me,"$&/")+"/")+K)),I.push(Q)),1;K=0;var ke=q===""?".":q+":";if(oe(T))for(var Ee=0;Ee<T.length;Ee++)q=T[Ee],$=ke+Be(q,Ee),K+=Ge(q,I,H,$,Q);else if(Ee=E(T),typeof Ee=="function")for(T=Ee.call(T),Ee=0;!(q=T.next()).done;)q=q.value,$=ke+Be(q,Ee++),K+=Ge(q,I,H,$,Q);else if($==="object"){if(typeof T.then=="function")return Ge(Et(T),I,H,q,Q);throw I=String(T),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return K}function U(T,I,H){if(T==null)return T;var q=[],Q=0;return Ge(T,q,"","",function($){return I.call(H,$,Q++)}),q}function V(T){if(T._status===-1){var I=T._result;I=I(),I.then(function(H){(T._status===0||T._status===-1)&&(T._status=1,T._result=H)},function(H){(T._status===0||T._status===-1)&&(T._status=2,T._result=H)}),T._status===-1&&(T._status=0,T._result=I)}if(T._status===1)return T._result.default;throw T._result}var te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ce(){}return ue.Children={map:U,forEach:function(T,I,H){U(T,function(){I.apply(this,arguments)},H)},count:function(T){var I=0;return U(T,function(){I++}),I},toArray:function(T){return U(T,function(I){return I})||[]},only:function(T){if(!Ie(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ue.Component=B,ue.Fragment=l,ue.Profiler=o,ue.PureComponent=Z,ue.StrictMode=a,ue.Suspense=g,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ue.__COMPILER_RUNTIME={__proto__:null,c:function(T){return X.H.useMemoCache(T)}},ue.cache=function(T){return function(){return T.apply(null,arguments)}},ue.cloneElement=function(T,I,H){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var q=D({},T.props),Q=T.key,$=void 0;if(I!=null)for(K in I.ref!==void 0&&($=void 0),I.key!==void 0&&(Q=""+I.key),I)!ee.call(I,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&I.ref===void 0||(q[K]=I[K]);var K=arguments.length-2;if(K===1)q.children=H;else if(1<K){for(var ke=Array(K),Ee=0;Ee<K;Ee++)ke[Ee]=arguments[Ee+2];q.children=ke}return P(T.type,Q,void 0,void 0,$,q)},ue.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},ue.createElement=function(T,I,H){var q,Q={},$=null;if(I!=null)for(q in I.key!==void 0&&($=""+I.key),I)ee.call(I,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(Q[q]=I[q]);var K=arguments.length-2;if(K===1)Q.children=H;else if(1<K){for(var ke=Array(K),Ee=0;Ee<K;Ee++)ke[Ee]=arguments[Ee+2];Q.children=ke}if(T&&T.defaultProps)for(q in K=T.defaultProps,K)Q[q]===void 0&&(Q[q]=K[q]);return P(T,$,void 0,void 0,null,Q)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(T){return{$$typeof:h,render:T}},ue.isValidElement=Ie,ue.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:V}},ue.memo=function(T,I){return{$$typeof:p,type:T,compare:I===void 0?null:I}},ue.startTransition=function(T){var I=X.T,H={};X.T=H;try{var q=T(),Q=X.S;Q!==null&&Q(H,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Ce,te)}catch($){te($)}finally{X.T=I}},ue.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ue.use=function(T){return X.H.use(T)},ue.useActionState=function(T,I,H){return X.H.useActionState(T,I,H)},ue.useCallback=function(T,I){return X.H.useCallback(T,I)},ue.useContext=function(T){return X.H.useContext(T)},ue.useDebugValue=function(){},ue.useDeferredValue=function(T,I){return X.H.useDeferredValue(T,I)},ue.useEffect=function(T,I,H){var q=X.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(T,I)},ue.useId=function(){return X.H.useId()},ue.useImperativeHandle=function(T,I,H){return X.H.useImperativeHandle(T,I,H)},ue.useInsertionEffect=function(T,I){return X.H.useInsertionEffect(T,I)},ue.useLayoutEffect=function(T,I){return X.H.useLayoutEffect(T,I)},ue.useMemo=function(T,I){return X.H.useMemo(T,I)},ue.useOptimistic=function(T,I){return X.H.useOptimistic(T,I)},ue.useReducer=function(T,I,H){return X.H.useReducer(T,I,H)},ue.useRef=function(T){return X.H.useRef(T)},ue.useState=function(T){return X.H.useState(T)},ue.useSyncExternalStore=function(T,I,H){return X.H.useSyncExternalStore(T,I,H)},ue.useTransition=function(){return X.H.useTransition()},ue.version="19.1.1",ue}var Ag;function Yf(){return Ag||(Ag=1,Zc.exports=uS()),Zc.exports}var ae=Yf();const cS=q_(ae);var Wc={exports:{}},Vl={},Jc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function fS(){return Ng||(Ng=1,(function(s){function n(U,V){var te=U.length;U.push(V);e:for(;0<te;){var Ce=te-1>>>1,T=U[Ce];if(0<o(T,V))U[Ce]=V,U[te]=T,te=Ce;else break e}}function l(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var V=U[0],te=U.pop();if(te!==V){U[0]=te;e:for(var Ce=0,T=U.length,I=T>>>1;Ce<I;){var H=2*(Ce+1)-1,q=U[H],Q=H+1,$=U[Q];if(0>o(q,te))Q<T&&0>o($,q)?(U[Ce]=$,U[Q]=te,Ce=Q):(U[Ce]=q,U[H]=te,Ce=H);else if(Q<T&&0>o($,te))U[Ce]=$,U[Q]=te,Ce=Q;else break e}}return V}function o(U,V){var te=U.sortIndex-V.sortIndex;return te!==0?te:U.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();s.unstable_now=function(){return d.now()-h}}var g=[],p=[],y=1,b=null,E=3,M=!1,D=!1,k=!1,B=!1,J=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function oe(U){for(var V=l(p);V!==null;){if(V.callback===null)a(p);else if(V.startTime<=U)a(p),V.sortIndex=V.expirationTime,n(g,V);else break;V=l(p)}}function X(U){if(k=!1,oe(U),!D)if(l(g)!==null)D=!0,ee||(ee=!0,Be());else{var V=l(p);V!==null&&Ge(X,V.startTime-U)}}var ee=!1,P=-1,Te=5,Ie=-1;function me(){return B?!0:!(s.unstable_now()-Ie<Te)}function Me(){if(B=!1,ee){var U=s.unstable_now();Ie=U;var V=!0;try{e:{D=!1,k&&(k=!1,Z(P),P=-1),M=!0;var te=E;try{t:{for(oe(U),b=l(g);b!==null&&!(b.expirationTime>U&&me());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,E=b.priorityLevel;var T=Ce(b.expirationTime<=U);if(U=s.unstable_now(),typeof T=="function"){b.callback=T,oe(U),V=!0;break t}b===l(g)&&a(g),oe(U)}else a(g);b=l(g)}if(b!==null)V=!0;else{var I=l(p);I!==null&&Ge(X,I.startTime-U),V=!1}}break e}finally{b=null,E=te,M=!1}V=void 0}}finally{V?Be():ee=!1}}}var Be;if(typeof G=="function")Be=function(){G(Me)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,Et=St.port2;St.port1.onmessage=Me,Be=function(){Et.postMessage(null)}}else Be=function(){J(Me,0)};function Ge(U,V){P=J(function(){U(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(U){switch(E){case 1:case 2:case 3:var V=3;break;default:V=E}var te=E;E=V;try{return U()}finally{E=te}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=E;E=U;try{return V()}finally{E=te}},s.unstable_scheduleCallback=function(U,V,te){var Ce=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ce+te:Ce):te=Ce,U){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=te+T,U={id:y++,callback:V,priorityLevel:U,startTime:te,expirationTime:T,sortIndex:-1},te>Ce?(U.sortIndex=te,n(p,U),l(g)===null&&U===l(p)&&(k?(Z(P),P=-1):k=!0,Ge(X,te-Ce))):(U.sortIndex=T,n(g,U),D||M||(D=!0,ee||(ee=!0,Be()))),U},s.unstable_shouldYield=me,s.unstable_wrapCallback=function(U){var V=E;return function(){var te=E;E=V;try{return U.apply(this,arguments)}finally{E=te}}}})($c)),$c}var xg;function dS(){return xg||(xg=1,Jc.exports=fS()),Jc.exports}var ef={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function hS(){if(wg)return pt;wg=1;var s=Yf();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return c(g,p,null,y)},pt.flushSync=function(g){var p=d.T,y=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=p,a.p=y,a.d.f()}},pt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},pt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},pt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:M}):y==="script"&&a.d.X(g,{crossOrigin:b,integrity:E,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},pt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin);a.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=h(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},pt.requestFormReset=function(g){a.d.r(g)},pt.unstable_batchedUpdates=function(g,p){return g(p)},pt.useFormState=function(g,p,y){return d.H.useFormState(g,p,y)},pt.useFormStatus=function(){return d.H.useHostTransitionStatus()},pt.version="19.1.1",pt}var Dg;function mS(){if(Dg)return ef.exports;Dg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),ef.exports=hS(),ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function pS(){if(Og)return Vl;Og=1;var s=dS(),n=Yf(),l=mS();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(c(e)!==e)throw Error(a(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,r=t;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){i=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return h(u),e;if(f===r)return h(u),t;f=f.sibling}throw Error(a(188))}if(i.return!==r.return)i=u,r=f;else{for(var m=!1,_=u.child;_;){if(_===i){m=!0,i=u,r=f;break}if(_===r){m=!0,r=u,i=f;break}_=_.sibling}if(!m){for(_=f.child;_;){if(_===i){m=!0,i=f,r=u;break}if(_===r){m=!0,r=f,i=u;break}_=_.sibling}if(!m)throw Error(a(189))}}if(i.alternate!==r)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),G=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Ie=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function Be(e){return e===null||typeof e!="object"?null:(e=Me&&e[Me]||e["@@iterator"],typeof e=="function"?e:null)}var St=Symbol.for("react.client.reference");function Et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===St?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case X:return"Suspense";case ee:return"SuspenseList";case Ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case G:return(e.displayName||"Context")+".Provider";case Z:return(e._context.displayName||"Context")+".Consumer";case oe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:Et(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return Et(e(t))}catch{}}return null}var Ge=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ce=[],T=-1;function I(e){return{current:e}}function H(e){0>T||(e.current=Ce[T],Ce[T]=null,T--)}function q(e,t){T++,Ce[T]=e.current,e.current=t}var Q=I(null),$=I(null),K=I(null),ke=I(null);function Ee(e,t){switch(q(K,t),q($,e),q(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wp(t),e=Jp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(Q),q(Q,e)}function mn(){H(Q),H($),H(K)}function jo(e){e.memoizedState!==null&&q(ke,e);var t=Q.current,i=Jp(t,e.type);t!==i&&(q($,e),q(Q,i))}function Ta(e){$.current===e&&(H(Q),H($)),ke.current===e&&(H(ke),Il._currentValue=te)}var Lo=Object.prototype.hasOwnProperty,zo=s.unstable_scheduleCallback,Bo=s.unstable_cancelCallback,Hv=s.unstable_shouldYield,kv=s.unstable_requestPaint,an=s.unstable_now,qv=s.unstable_getCurrentPriorityLevel,Od=s.unstable_ImmediatePriority,Md=s.unstable_UserBlockingPriority,Ca=s.unstable_NormalPriority,Gv=s.unstable_LowPriority,Ud=s.unstable_IdlePriority,Yv=s.log,Vv=s.unstable_setDisableYieldValue,Fs=null,Mt=null;function Ln(e){if(typeof Yv=="function"&&Vv(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Fs,e)}catch{}}var Ut=Math.clz32?Math.clz32:Xv,Qv=Math.log,Fv=Math.LN2;function Xv(e){return e>>>=0,e===0?32:31-(Qv(e)/Fv|0)|0}var Ra=256,Aa=4194304;function di(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Na(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var u=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~f,r!==0?u=di(r):(m&=_,m!==0?u=di(m):i||(i=_&~e,i!==0&&(u=di(i))))):(_=r&~f,_!==0?u=di(_):m!==0?u=di(m):i||(i=r&~e,i!==0&&(u=di(i)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:u}function Xs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jd(){var e=Ra;return Ra<<=1,(Ra&4194048)===0&&(Ra=256),e}function Ld(){var e=Aa;return Aa<<=1,(Aa&62914560)===0&&(Aa=4194304),e}function Io(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ps(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kv(e,t,i,r,u,f){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,S=e.expirationTimes,N=e.hiddenUpdates;for(i=m&~i;0<i;){var j=31-Ut(i),z=1<<j;_[j]=0,S[j]=-1;var x=N[j];if(x!==null)for(N[j]=null,j=0;j<x.length;j++){var w=x[j];w!==null&&(w.lane&=-536870913)}i&=~z}r!==0&&zd(e,r,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~t))}function zd(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ut(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&4194090}function Bd(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Ut(i),u=1<<r;u&t|e[r]&t&&(e[r]|=t),i&=~u}}function Ho(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ko(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Id(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:_g(e.type))}function Zv(e,t){var i=V.p;try{return V.p=e,t()}finally{V.p=i}}var zn=Math.random().toString(36).slice(2),ht="__reactFiber$"+zn,Tt="__reactProps$"+zn,Gi="__reactContainer$"+zn,qo="__reactEvents$"+zn,Wv="__reactListeners$"+zn,Jv="__reactHandles$"+zn,Hd="__reactResources$"+zn,Ks="__reactMarker$"+zn;function Go(e){delete e[ht],delete e[Tt],delete e[qo],delete e[Wv],delete e[Jv]}function Yi(e){var t=e[ht];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Gi]||i[ht]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ng(e);e!==null;){if(i=e[ht])return i;e=ng(e)}return t}e=i,i=e.parentNode}return null}function Vi(e){if(e=e[ht]||e[Gi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Zs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Qi(e){var t=e[Hd];return t||(t=e[Hd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ks]=!0}var kd=new Set,qd={};function hi(e,t){Fi(e,t),Fi(e+"Capture",t)}function Fi(e,t){for(qd[e]=t,e=0;e<t.length;e++)kd.add(t[e])}var $v=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gd={},Yd={};function e0(e){return Lo.call(Yd,e)?!0:Lo.call(Gd,e)?!1:$v.test(e)?Yd[e]=!0:(Gd[e]=!0,!1)}function xa(e,t,i){if(e0(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function wa(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function pn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}var Yo,Vd;function Xi(e){if(Yo===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Yo=t&&t[1]||"",Vd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yo+e+Vd}var Vo=!1;function Qo(e,t){if(!e||Vo)return"";Vo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(w){var x=w}Reflect.construct(e,[],z)}else{try{z.call()}catch(w){x=w}e.call(z.prototype)}}else{try{throw Error()}catch(w){x=w}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(w){if(w&&x&&typeof w.stack=="string")return[w.stack,x.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),m=f[0],_=f[1];if(m&&_){var S=m.split(`
`),N=_.split(`
`);for(u=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(r===S.length||u===N.length)for(r=S.length-1,u=N.length-1;1<=r&&0<=u&&S[r]!==N[u];)u--;for(;1<=r&&0<=u;r--,u--)if(S[r]!==N[u]){if(r!==1||u!==1)do if(r--,u--,0>u||S[r]!==N[u]){var j=`
`+S[r].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=r&&0<=u);break}}}finally{Vo=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Xi(i):""}function t0(e){switch(e.tag){case 26:case 27:case 5:return Xi(e.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Qo(e.type,!1);case 11:return Qo(e.type.render,!1);case 1:return Qo(e.type,!0);case 31:return Xi("Activity");default:return""}}function Qd(e){try{var t="";do t+=t0(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n0(e){var t=Fd(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){r=""+m,f.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(m){r=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Da(e){e._valueTracker||(e._valueTracker=n0(e))}function Xd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Fd(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Oa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var i0=/[\n"\\]/g;function Gt(e){return e.replace(i0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fo(e,t,i,r,u,f,m,_){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Xo(e,m,qt(t)):i!=null?Xo(e,m,qt(i)):r!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+qt(_):e.removeAttribute("name")}function Pd(e,t,i,r,u,f,m,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;i=i!=null?""+qt(i):"",t=t!=null?""+qt(t):i,_||t===e.value||(e.value=t),e.defaultValue=t}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function Xo(e,t,i){t==="number"&&Oa(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Pi(e,t,i,r){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&r&&(e[i].defaultSelected=!0)}else{for(i=""+qt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Kd(e,t,i){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+qt(i):""}function Zd(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(a(92));if(Ge(r)){if(1<r.length)throw Error(a(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=qt(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r)}function Ki(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var s0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||s0.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Jd(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in t)r=t[u],t.hasOwnProperty(u)&&i[u]!==r&&Wd(e,u,r)}else for(var f in t)t.hasOwnProperty(f)&&Wd(e,f,t[f])}function Po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(e){return a0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ko=null;function Zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,Wi=null;function $d(e){var t=Vi(e);if(t&&(e=t.stateNode)){var i=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var u=r[Tt]||null;if(!u)throw Error(a(90));Fo(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Xd(r)}break e;case"textarea":Kd(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Pi(e,!!i.multiple,t,!1)}}}var Wo=!1;function eh(e,t,i){if(Wo)return e(t,i);Wo=!0;try{var r=e(t);return r}finally{if(Wo=!1,(Zi!==null||Wi!==null)&&(_r(),Zi&&(t=Zi,e=Wi,Wi=Zi=null,$d(t),e)))for(t=0;t<e.length;t++)$d(e[t])}}function Ws(e,t){var i=e.stateNode;if(i===null)return null;var r=i[Tt]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=!1;if(gn)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Jo=!1}var Bn=null,$o=null,Ua=null;function th(){if(Ua)return Ua;var e,t=$o,i=t.length,r,u="value"in Bn?Bn.value:Bn.textContent,f=u.length;for(e=0;e<i&&t[e]===u[e];e++);var m=i-e;for(r=1;r<=m&&t[i-r]===u[f-r];r++);return Ua=u.slice(e,1<r?1-r:void 0)}function ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function La(){return!0}function nh(){return!1}function Ct(e){function t(i,r,u,f,m){this._reactName=i,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?La:nh,this.isPropagationStopped=nh,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Ct(mi),$s=y({},mi,{view:0,detail:0}),r0=Ct($s),eu,tu,el,Ba=y({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==el&&(el&&e.type==="mousemove"?(eu=e.screenX-el.screenX,tu=e.screenY-el.screenY):tu=eu=0,el=e),eu)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),ih=Ct(Ba),o0=y({},Ba,{dataTransfer:0}),u0=Ct(o0),c0=y({},$s,{relatedTarget:0}),nu=Ct(c0),f0=y({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),d0=Ct(f0),h0=y({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m0=Ct(h0),p0=y({},mi,{data:0}),sh=Ct(p0),g0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y0[e])?!!t[e]:!1}function iu(){return v0}var b0=y({},$s,{key:function(e){if(e.key){var t=g0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(e){return e.type==="keypress"?ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S0=Ct(b0),E0=y({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=Ct(E0),T0=y({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),C0=Ct(T0),R0=y({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A0=Ct(R0),N0=y({},Ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=Ct(N0),w0=y({},mi,{newState:0,oldState:0}),D0=Ct(w0),O0=[9,13,27,32],su=gn&&"CompositionEvent"in window,tl=null;gn&&"documentMode"in document&&(tl=document.documentMode);var M0=gn&&"TextEvent"in window&&!tl,ah=gn&&(!su||tl&&8<tl&&11>=tl),rh=" ",oh=!1;function uh(e,t){switch(e){case"keyup":return O0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function U0(e,t){switch(e){case"compositionend":return ch(t);case"keypress":return t.which!==32?null:(oh=!0,rh);case"textInput":return e=t.data,e===rh&&oh?null:e;default:return null}}function j0(e,t){if(Ji)return e==="compositionend"||!su&&uh(e,t)?(e=th(),Ua=$o=Bn=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ah&&t.locale!=="ko"?null:t.data;default:return null}}var L0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!L0[e.type]:t==="textarea"}function dh(e,t,i,r){Zi?Wi?Wi.push(r):Wi=[r]:Zi=r,t=Tr(t,"onChange"),0<t.length&&(i=new za("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var nl=null,il=null;function z0(e){Fp(e,0)}function Ia(e){var t=Zs(e);if(Xd(t))return e}function hh(e,t){if(e==="change")return t}var mh=!1;if(gn){var lu;if(gn){var au="oninput"in document;if(!au){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),au=typeof ph.oninput=="function"}lu=au}else lu=!1;mh=lu&&(!document.documentMode||9<document.documentMode)}function gh(){nl&&(nl.detachEvent("onpropertychange",_h),il=nl=null)}function _h(e){if(e.propertyName==="value"&&Ia(il)){var t=[];dh(t,il,e,Zo(e)),eh(z0,t)}}function B0(e,t,i){e==="focusin"?(gh(),nl=t,il=i,nl.attachEvent("onpropertychange",_h)):e==="focusout"&&gh()}function I0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ia(il)}function H0(e,t){if(e==="click")return Ia(t)}function k0(e,t){if(e==="input"||e==="change")return Ia(t)}function q0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:q0;function sl(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var u=i[r];if(!Lo.call(t,u)||!jt(e[u],t[u]))return!1}return!0}function yh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vh(e,t){var i=yh(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=yh(i)}}function bh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Oa(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Oa(e.document)}return t}function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var G0=gn&&"documentMode"in document&&11>=document.documentMode,$i=null,ou=null,ll=null,uu=!1;function Eh(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;uu||$i==null||$i!==Oa(r)||(r=$i,"selectionStart"in r&&ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&sl(ll,r)||(ll=r,r=Tr(ou,"onSelect"),0<r.length&&(t=new za("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=$i)))}function pi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var es={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},cu={},Th={};gn&&(Th=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function gi(e){if(cu[e])return cu[e];if(!es[e])return e;var t=es[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Th)return cu[e]=t[i];return e}var Ch=gi("animationend"),Rh=gi("animationiteration"),Ah=gi("animationstart"),Y0=gi("transitionrun"),V0=gi("transitionstart"),Q0=gi("transitioncancel"),Nh=gi("transitionend"),xh=new Map,fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fu.push("scrollEnd");function Wt(e,t){xh.set(e,t),hi(t,[e])}var wh=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var i=wh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Qd(t)},wh.set(e,t),t)}return{value:e,source:t,stack:Qd(t)}}var Vt=[],ts=0,du=0;function Ha(){for(var e=ts,t=du=ts=0;t<e;){var i=Vt[t];Vt[t++]=null;var r=Vt[t];Vt[t++]=null;var u=Vt[t];Vt[t++]=null;var f=Vt[t];if(Vt[t++]=null,r!==null&&u!==null){var m=r.pending;m===null?u.next=u:(u.next=m.next,m.next=u),r.pending=u}f!==0&&Dh(i,u,f)}}function ka(e,t,i,r){Vt[ts++]=e,Vt[ts++]=t,Vt[ts++]=i,Vt[ts++]=r,du|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function hu(e,t,i,r){return ka(e,t,i,r),qa(e)}function ns(e,t){return ka(e,null,null,t),qa(e)}function Dh(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var u=!1,f=e.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-Ut(i),e=f.hiddenUpdates,r=e[u],r===null?e[u]=[t]:r.push(t),t.lane=i|536870912),f):null}function qa(e){if(50<Dl)throw Dl=0,vc=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var is={};function F0(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,i,r){return new F0(e,t,i,r)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,t){var i=e.alternate;return i===null?(i=Lt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Oh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ga(e,t,i,r,u,f){var m=0;if(r=e,typeof e=="function")mu(e)&&(m=1);else if(typeof e=="string")m=Pb(e,i,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ie:return e=Lt(31,i,t,u),e.elementType=Ie,e.lanes=f,e;case D:return _i(i.children,u,f,t);case k:m=8,u|=24;break;case B:return e=Lt(12,i,t,u|2),e.elementType=B,e.lanes=f,e;case X:return e=Lt(13,i,t,u),e.elementType=X,e.lanes=f,e;case ee:return e=Lt(19,i,t,u),e.elementType=ee,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case G:m=10;break e;case Z:m=9;break e;case oe:m=11;break e;case P:m=14;break e;case Te:m=16,r=null;break e}m=29,i=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=Lt(m,i,t,u),t.elementType=e,t.type=r,t.lanes=f,t}function _i(e,t,i,r){return e=Lt(7,e,r,t),e.lanes=i,e}function pu(e,t,i){return e=Lt(6,e,null,t),e.lanes=i,e}function gu(e,t,i){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ss=[],ls=0,Ya=null,Va=0,Qt=[],Ft=0,yi=null,yn=1,vn="";function vi(e,t){ss[ls++]=Va,ss[ls++]=Ya,Ya=e,Va=t}function Mh(e,t,i){Qt[Ft++]=yn,Qt[Ft++]=vn,Qt[Ft++]=yi,yi=e;var r=yn;e=vn;var u=32-Ut(r)-1;r&=~(1<<u),i+=1;var f=32-Ut(t)+u;if(30<f){var m=u-u%5;f=(r&(1<<m)-1).toString(32),r>>=m,u-=m,yn=1<<32-Ut(t)+u|i<<u|r,vn=f+e}else yn=1<<f|i<<u|r,vn=e}function _u(e){e.return!==null&&(vi(e,1),Mh(e,1,0))}function yu(e){for(;e===Ya;)Ya=ss[--ls],ss[ls]=null,Va=ss[--ls],ss[ls]=null;for(;e===yi;)yi=Qt[--Ft],Qt[Ft]=null,vn=Qt[--Ft],Qt[Ft]=null,yn=Qt[--Ft],Qt[Ft]=null}var vt=null,Ye=null,be=!1,bi=null,rn=!1,vu=Error(a(519));function Si(e){var t=Error(a(418,""));throw ol(Yt(t,e)),vu}function Uh(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[ht]=e,t[Tt]=r,i){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(i=0;i<Ml.length;i++)ge(Ml[i],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),Pd(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Da(t);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),Zd(t,r.value,r.defaultValue,r.children),Da(t)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Zp(t.textContent,i)?(r.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),r.onScroll!=null&&ge("scroll",t),r.onScrollEnd!=null&&ge("scrollend",t),r.onClick!=null&&(t.onclick=Cr),t=!0):t=!1,t||Si(e)}function jh(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:vt=vt.return}}function al(e){if(e!==vt)return!1;if(!be)return jh(e),be=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Lc(e.type,e.memoizedProps)),i=!i),i&&Ye&&Si(e),jh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Ye=$t(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Ye=null}}else t===27?(t=Ye,$n(e.type)?(e=Hc,Hc=null,Ye=e):Ye=t):Ye=vt?$t(e.stateNode.nextSibling):null;return!0}function rl(){Ye=vt=null,be=!1}function Lh(){var e=bi;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),bi=null),e}function ol(e){bi===null?bi=[e]:bi.push(e)}var bu=I(null),Ei=null,bn=null;function In(e,t,i){q(bu,t._currentValue),t._currentValue=i}function Sn(e){e._currentValue=bu.current,H(bu)}function Su(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Eu(e,t,i,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var S=0;S<t.length;S++)if(_.context===t[S]){f.lanes|=i,_=f.alternate,_!==null&&(_.lanes|=i),Su(f.return,i,e),r||(m=null);break e}f=_.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(a(341));m.lanes|=i,f=m.alternate,f!==null&&(f.lanes|=i),Su(m,i,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function ul(e,t,i,r){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(a(387));if(m=m.memoizedProps,m!==null){var _=u.type;jt(u.pendingProps.value,m.value)||(e!==null?e.push(_):e=[_])}}else if(u===ke.current){if(m=u.alternate,m===null)throw Error(a(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}u=u.return}e!==null&&Eu(t,e,i,r),t.flags|=262144}function Qa(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){Ei=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return zh(Ei,e)}function Fa(e,t){return Ei===null&&Ti(e),zh(e,t)}function zh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},bn===null){if(e===null)throw Error(a(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return i}var X0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},P0=s.unstable_scheduleCallback,K0=s.unstable_NormalPriority,Je={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new X0,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&P0(K0,function(){e.controller.abort()})}var fl=null,Cu=0,as=0,rs=null;function Z0(e,t){if(fl===null){var i=fl=[];Cu=0,as=Ac(),rs={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Cu++,t.then(Bh,Bh),t}function Bh(){if(--Cu===0&&fl!==null){rs!==null&&(rs.status="fulfilled");var e=fl;fl=null,as=0,rs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function W0(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(r.status="rejected",r.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),r}var Ih=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Z0(e,t),Ih!==null&&Ih(e,t)};var Ci=I(null);function Ru(){var e=Ci.current;return e!==null?e:Ue.pooledCache}function Xa(e,t){t===null?q(Ci,Ci.current):q(Ci,t.pool)}function Hh(){var e=Ru();return e===null?null:{parent:Je._currentValue,pool:e}}var dl=Error(a(460)),kh=Error(a(474)),Pa=Error(a(542)),Au={then:function(){}};function qh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ka(){}function Gh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Ka,Ka),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vh(e),e;default:if(typeof t.status=="string")t.then(Ka,Ka);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=r}},function(r){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vh(e),e}throw hl=t,dl}}var hl=null;function Yh(){if(hl===null)throw Error(a(459));var e=hl;return hl=null,e}function Vh(e){if(e===dl||e===Pa)throw Error(a(483))}var Hn=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Re&2)!==0){var u=r.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),r.pending=t,t=qa(e),Dh(e,null,i),t}return ka(e,r,t,i),qa(e)}function ml(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Bd(e,i)}}function wu(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,i=i.next}while(i!==null);f===null?u=f=t:f=f.next=t}else u=f=t;i={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Du=!1;function pl(){if(Du){var e=rs;if(e!==null)throw e}}function gl(e,t,i,r){Du=!1;var u=e.updateQueue;Hn=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var S=_,N=S.next;S.next=null,m===null?f=N:m.next=N,m=S;var j=e.alternate;j!==null&&(j=j.updateQueue,_=j.lastBaseUpdate,_!==m&&(_===null?j.firstBaseUpdate=N:_.next=N,j.lastBaseUpdate=S))}if(f!==null){var z=u.baseState;m=0,j=N=S=null,_=f;do{var x=_.lane&-536870913,w=x!==_.lane;if(w?(ye&x)===x:(r&x)===x){x!==0&&x===as&&(Du=!0),j!==null&&(j=j.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var se=e,ne=_;x=t;var we=i;switch(ne.tag){case 1:if(se=ne.payload,typeof se=="function"){z=se.call(we,z,x);break e}z=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ne.payload,x=typeof se=="function"?se.call(we,z,x):se,x==null)break e;z=y({},z,x);break e;case 2:Hn=!0}}x=_.callback,x!==null&&(e.flags|=64,w&&(e.flags|=8192),w=u.callbacks,w===null?u.callbacks=[x]:w.push(x))}else w={lane:x,tag:_.tag,payload:_.payload,callback:_.callback,next:null},j===null?(N=j=w,S=z):j=j.next=w,m|=x;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;w=_,_=w.next,w.next=null,u.lastBaseUpdate=w,u.shared.pending=null}}while(!0);j===null&&(S=z),u.baseState=S,u.firstBaseUpdate=N,u.lastBaseUpdate=j,f===null&&(u.shared.lanes=0),Kn|=m,e.lanes=m,e.memoizedState=z}}function Qh(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Fh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Qh(i[e],t)}var os=I(null),Za=I(0);function Xh(e,t){e=xn,q(Za,e),q(os,t),xn=e|t.baseLanes}function Ou(){q(Za,xn),q(os,os.current)}function Mu(){xn=Za.current,H(os),H(Za)}var Gn=0,ce=null,Ne=null,Ze=null,Wa=!1,us=!1,Ri=!1,Ja=0,_l=0,cs=null,J0=0;function Pe(){throw Error(a(321))}function Uu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!jt(e[i],t[i]))return!1;return!0}function ju(e,t,i,r,u,f){return Gn=f,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Dm:Om,Ri=!1,f=i(r,u),Ri=!1,us&&(f=Kh(t,i,r,u)),Ph(e),f}function Ph(e){U.H=sr;var t=Ne!==null&&Ne.next!==null;if(Gn=0,Ze=Ne=ce=null,Wa=!1,_l=0,cs=null,t)throw Error(a(300));e===null||tt||(e=e.dependencies,e!==null&&Qa(e)&&(tt=!0))}function Kh(e,t,i,r){ce=e;var u=0;do{if(us&&(cs=null),_l=0,us=!1,25<=u)throw Error(a(301));if(u+=1,Ze=Ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=lb,f=t(i,r)}while(us);return f}function $0(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?yl(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(ce.flags|=1024),t}function Lu(){var e=Ja!==0;return Ja=0,e}function zu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Bu(e){if(Wa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Wa=!1}Gn=0,Ze=Ne=ce=null,us=!1,_l=Ja=0,cs=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ce.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function We(){if(Ne===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ze===null?ce.memoizedState:Ze.next;if(t!==null)Ze=t,Ne=e;else{if(e===null)throw ce.alternate===null?Error(a(467)):Error(a(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ze===null?ce.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(e){var t=_l;return _l+=1,cs===null&&(cs=[]),e=Gh(cs,e,t),t=ce,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Dm:Om),e}function $a(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yl(e);if(e.$$typeof===G)return mt(e)}throw Error(a(438,String(e)))}function Hu(e){var t=null,i=ce.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Iu(),ce.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=me;return t.index++,i}function En(e,t){return typeof t=="function"?t(e):t}function er(e){var t=We();return ku(t,Ne,e)}function ku(e,t,i){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=i;var u=e.baseQueue,f=r.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}t.baseQueue=u=f,r.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var _=m=null,S=null,N=t,j=!1;do{var z=N.lane&-536870913;if(z!==N.lane?(ye&z)===z:(Gn&z)===z){var x=N.revertLane;if(x===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),z===as&&(j=!0);else if((Gn&x)===x){N=N.next,x===as&&(j=!0);continue}else z={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(_=S=z,m=f):S=S.next=z,ce.lanes|=x,Kn|=x;z=N.action,Ri&&i(f,z),f=N.hasEagerState?N.eagerState:i(f,z)}else x={lane:z,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(_=S=x,m=f):S=S.next=x,ce.lanes|=z,Kn|=z;N=N.next}while(N!==null&&N!==t);if(S===null?m=f:S.next=_,!jt(f,e.memoizedState)&&(tt=!0,j&&(i=rs,i!==null)))throw i;e.memoizedState=f,e.baseState=m,e.baseQueue=S,r.lastRenderedState=f}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qu(e){var t=We(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var r=i.dispatch,u=i.pending,f=t.memoizedState;if(u!==null){i.pending=null;var m=u=u.next;do f=e(f,m.action),m=m.next;while(m!==u);jt(f,t.memoizedState)||(tt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,r]}function Zh(e,t,i){var r=ce,u=We(),f=be;if(f){if(i===void 0)throw Error(a(407));i=i()}else i=t();var m=!jt((Ne||u).memoizedState,i);m&&(u.memoizedState=i,tt=!0),u=u.queue;var _=$h.bind(null,r,u,e);if(vl(2048,8,_,[e]),u.getSnapshot!==t||m||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,fs(9,tr(),Jh.bind(null,r,u,i,t),null),Ue===null)throw Error(a(349));f||(Gn&124)!==0||Wh(r,t,i)}return i}function Wh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ce.updateQueue,t===null?(t=Iu(),ce.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Jh(e,t,i,r){t.value=i,t.getSnapshot=r,em(t)&&tm(e)}function $h(e,t,i){return i(function(){em(t)&&tm(e)})}function em(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!jt(e,i)}catch{return!0}}function tm(e){var t=ns(e,2);t!==null&&kt(t,e,2)}function Gu(e){var t=Rt();if(typeof e=="function"){var i=e;if(e=i(),Ri){Ln(!0);try{i()}finally{Ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:e},t}function nm(e,t,i,r){return e.baseState=i,ku(e,Ne,typeof r=="function"?r:En)}function eb(e,t,i,r,u){if(ir(e))throw Error(a(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};U.T!==null?i(!0):f.isTransition=!1,r(f),i=t.pending,i===null?(f.next=t.pending=f,im(t,f)):(f.next=i.next,t.pending=i.next=f)}}function im(e,t){var i=t.action,r=t.payload,u=e.state;if(t.isTransition){var f=U.T,m={};U.T=m;try{var _=i(u,r),S=U.S;S!==null&&S(m,_),sm(e,t,_)}catch(N){Yu(e,t,N)}finally{U.T=f}}else try{f=i(u,r),sm(e,t,f)}catch(N){Yu(e,t,N)}}function sm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){lm(e,t,r)},function(r){return Yu(e,t,r)}):lm(e,t,i)}function lm(e,t,i){t.status="fulfilled",t.value=i,am(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,im(e,i)))}function Yu(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,am(t),t=t.next;while(t!==r)}e.action=null}function am(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rm(e,t){return t}function om(e,t){if(be){var i=Ue.formState;if(i!==null){e:{var r=ce;if(be){if(Ye){t:{for(var u=Ye,f=rn;u.nodeType!==8;){if(!f){u=null;break t}if(u=$t(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ye=$t(u.nextSibling),r=u.data==="F!";break e}}Si(r)}r=!1}r&&(t=i[0])}}return i=Rt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:t},i.queue=r,i=Nm.bind(null,ce,r),r.dispatch=i,r=Gu(!1),f=Pu.bind(null,ce,!1,r.queue),r=Rt(),u={state:t,dispatch:null,action:e,pending:null},r.queue=u,i=eb.bind(null,ce,u,f,i),u.dispatch=i,r.memoizedState=e,[t,i,!1]}function um(e){var t=We();return cm(t,Ne,e)}function cm(e,t,i){if(t=ku(e,t,rm)[0],e=er(En)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=yl(t)}catch(m){throw m===dl?Pa:m}else r=t;t=We();var u=t.queue,f=u.dispatch;return i!==t.memoizedState&&(ce.flags|=2048,fs(9,tr(),tb.bind(null,u,i),null)),[r,f,e]}function tb(e,t){e.action=t}function fm(e){var t=We(),i=Ne;if(i!==null)return cm(t,i,e);We(),t=t.memoizedState,i=We();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function fs(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=ce.updateQueue,t===null&&(t=Iu(),ce.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function tr(){return{destroy:void 0,resource:void 0}}function dm(){return We().memoizedState}function nr(e,t,i,r){var u=Rt();r=r===void 0?null:r,ce.flags|=e,u.memoizedState=fs(1|t,tr(),i,r)}function vl(e,t,i,r){var u=We();r=r===void 0?null:r;var f=u.memoizedState.inst;Ne!==null&&r!==null&&Uu(r,Ne.memoizedState.deps)?u.memoizedState=fs(t,f,i,r):(ce.flags|=e,u.memoizedState=fs(1|t,f,i,r))}function hm(e,t){nr(8390656,8,e,t)}function mm(e,t){vl(2048,8,e,t)}function pm(e,t){return vl(4,2,e,t)}function gm(e,t){return vl(4,4,e,t)}function _m(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ym(e,t,i){i=i!=null?i.concat([e]):null,vl(4,4,_m.bind(null,t,e),i)}function Vu(){}function vm(e,t){var i=We();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&Uu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function bm(e,t){var i=We();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&Uu(t,r[1]))return r[0];if(r=e(),Ri){Ln(!0);try{e()}finally{Ln(!1)}}return i.memoizedState=[r,t],r}function Qu(e,t,i){return i===void 0||(Gn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Tp(),ce.lanes|=e,Kn|=e,i)}function Sm(e,t,i,r){return jt(i,t)?i:os.current!==null?(e=Qu(e,i,r),jt(e,t)||(tt=!0),e):(Gn&42)===0?(tt=!0,e.memoizedState=i):(e=Tp(),ce.lanes|=e,Kn|=e,t)}function Em(e,t,i,r,u){var f=V.p;V.p=f!==0&&8>f?f:8;var m=U.T,_={};U.T=_,Pu(e,!1,t,i);try{var S=u(),N=U.S;if(N!==null&&N(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var j=W0(S,r);bl(e,t,j,Ht(e))}else bl(e,t,r,Ht(e))}catch(z){bl(e,t,{then:function(){},status:"rejected",reason:z},Ht())}finally{V.p=f,U.T=m}}function nb(){}function Fu(e,t,i,r){if(e.tag!==5)throw Error(a(476));var u=Tm(e).queue;Em(e,u,t,te,i===null?nb:function(){return Cm(e),i(r)})}function Tm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:te},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cm(e){var t=Tm(e).next.queue;bl(e,t,{},Ht())}function Xu(){return mt(Il)}function Rm(){return We().memoizedState}function Am(){return We().memoizedState}function ib(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ht();e=kn(i);var r=qn(t,e,i);r!==null&&(kt(r,t,i),ml(r,t,i)),t={cache:Tu()},e.payload=t;return}t=t.return}}function sb(e,t,i){var r=Ht();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},ir(e)?xm(t,i):(i=hu(e,t,i,r),i!==null&&(kt(i,e,r),wm(i,t,r)))}function Nm(e,t,i){var r=Ht();bl(e,t,i,r)}function bl(e,t,i,r){var u={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(ir(e))xm(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var m=t.lastRenderedState,_=f(m,i);if(u.hasEagerState=!0,u.eagerState=_,jt(_,m))return ka(e,t,u,0),Ue===null&&Ha(),!1}catch{}finally{}if(i=hu(e,t,u,r),i!==null)return kt(i,e,r),wm(i,t,r),!0}return!1}function Pu(e,t,i,r){if(r={lane:2,revertLane:Ac(),action:r,hasEagerState:!1,eagerState:null,next:null},ir(e)){if(t)throw Error(a(479))}else t=hu(e,i,r,2),t!==null&&kt(t,e,2)}function ir(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function xm(e,t){us=Wa=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function wm(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Bd(e,i)}}var sr={readContext:mt,use:$a,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},Dm={readContext:mt,use:$a,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:hm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,nr(4194308,4,_m.bind(null,t,e),i)},useLayoutEffect:function(e,t){return nr(4194308,4,e,t)},useInsertionEffect:function(e,t){nr(4,2,e,t)},useMemo:function(e,t){var i=Rt();t=t===void 0?null:t;var r=e();if(Ri){Ln(!0);try{e()}finally{Ln(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=Rt();if(i!==void 0){var u=i(t);if(Ri){Ln(!0);try{i(t)}finally{Ln(!1)}}}else u=t;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=sb.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=Gu(e);var t=e.queue,i=Nm.bind(null,ce,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Vu,useDeferredValue:function(e,t){var i=Rt();return Qu(i,e,t)},useTransition:function(){var e=Gu(!1);return e=Em.bind(null,ce,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=ce,u=Rt();if(be){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),Ue===null)throw Error(a(349));(ye&124)!==0||Wh(r,t,i)}u.memoizedState=i;var f={value:i,getSnapshot:t};return u.queue=f,hm($h.bind(null,r,f,e),[e]),r.flags|=2048,fs(9,tr(),Jh.bind(null,r,f,i,t),null),i},useId:function(){var e=Rt(),t=Ue.identifierPrefix;if(be){var i=vn,r=yn;i=(r&~(1<<32-Ut(r)-1)).toString(32)+i,t="«"+t+"R"+i,i=Ja++,0<i&&(t+="H"+i.toString(32)),t+="»"}else i=J0++,t="«"+t+"r"+i.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Xu,useFormState:om,useActionState:om,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Pu.bind(null,ce,!0,i),i.dispatch=t,[e,t]},useMemoCache:Hu,useCacheRefresh:function(){return Rt().memoizedState=ib.bind(null,ce)}},Om={readContext:mt,use:$a,useCallback:vm,useContext:mt,useEffect:mm,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:gm,useMemo:bm,useReducer:er,useRef:dm,useState:function(){return er(En)},useDebugValue:Vu,useDeferredValue:function(e,t){var i=We();return Sm(i,Ne.memoizedState,e,t)},useTransition:function(){var e=er(En)[0],t=We().memoizedState;return[typeof e=="boolean"?e:yl(e),t]},useSyncExternalStore:Zh,useId:Rm,useHostTransitionStatus:Xu,useFormState:um,useActionState:um,useOptimistic:function(e,t){var i=We();return nm(i,Ne,e,t)},useMemoCache:Hu,useCacheRefresh:Am},lb={readContext:mt,use:$a,useCallback:vm,useContext:mt,useEffect:mm,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:gm,useMemo:bm,useReducer:qu,useRef:dm,useState:function(){return qu(En)},useDebugValue:Vu,useDeferredValue:function(e,t){var i=We();return Ne===null?Qu(i,e,t):Sm(i,Ne.memoizedState,e,t)},useTransition:function(){var e=qu(En)[0],t=We().memoizedState;return[typeof e=="boolean"?e:yl(e),t]},useSyncExternalStore:Zh,useId:Rm,useHostTransitionStatus:Xu,useFormState:fm,useActionState:fm,useOptimistic:function(e,t){var i=We();return Ne!==null?nm(i,Ne,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Hu,useCacheRefresh:Am},ds=null,Sl=0;function lr(e){var t=Sl;return Sl+=1,ds===null&&(ds=[]),Gh(ds,e,t)}function El(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ar(e,t){throw t.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mm(e){var t=e._init;return t(e._payload)}function Um(e){function t(R,C){if(e){var A=R.deletions;A===null?(R.deletions=[C],R.flags|=16):A.push(C)}}function i(R,C){if(!e)return null;for(;C!==null;)t(R,C),C=C.sibling;return null}function r(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function u(R,C){return R=_n(R,C),R.index=0,R.sibling=null,R}function f(R,C,A){return R.index=A,e?(A=R.alternate,A!==null?(A=A.index,A<C?(R.flags|=67108866,C):A):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function m(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,C,A,L){return C===null||C.tag!==6?(C=pu(A,R.mode,L),C.return=R,C):(C=u(C,A),C.return=R,C)}function S(R,C,A,L){var F=A.type;return F===D?j(R,C,A.props.children,L,A.key):C!==null&&(C.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Te&&Mm(F)===C.type)?(C=u(C,A.props),El(C,A),C.return=R,C):(C=Ga(A.type,A.key,A.props,null,R.mode,L),El(C,A),C.return=R,C)}function N(R,C,A,L){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=gu(A,R.mode,L),C.return=R,C):(C=u(C,A.children||[]),C.return=R,C)}function j(R,C,A,L,F){return C===null||C.tag!==7?(C=_i(A,R.mode,L,F),C.return=R,C):(C=u(C,A),C.return=R,C)}function z(R,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=pu(""+C,R.mode,A),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case E:return A=Ga(C.type,C.key,C.props,null,R.mode,A),El(A,C),A.return=R,A;case M:return C=gu(C,R.mode,A),C.return=R,C;case Te:var L=C._init;return C=L(C._payload),z(R,C,A)}if(Ge(C)||Be(C))return C=_i(C,R.mode,A,null),C.return=R,C;if(typeof C.then=="function")return z(R,lr(C),A);if(C.$$typeof===G)return z(R,Fa(R,C),A);ar(R,C)}return null}function x(R,C,A,L){var F=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return F!==null?null:_(R,C,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return A.key===F?S(R,C,A,L):null;case M:return A.key===F?N(R,C,A,L):null;case Te:return F=A._init,A=F(A._payload),x(R,C,A,L)}if(Ge(A)||Be(A))return F!==null?null:j(R,C,A,L,null);if(typeof A.then=="function")return x(R,C,lr(A),L);if(A.$$typeof===G)return x(R,C,Fa(R,A),L);ar(R,A)}return null}function w(R,C,A,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return R=R.get(A)||null,_(C,R,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return R=R.get(L.key===null?A:L.key)||null,S(C,R,L,F);case M:return R=R.get(L.key===null?A:L.key)||null,N(C,R,L,F);case Te:var fe=L._init;return L=fe(L._payload),w(R,C,A,L,F)}if(Ge(L)||Be(L))return R=R.get(A)||null,j(C,R,L,F,null);if(typeof L.then=="function")return w(R,C,A,lr(L),F);if(L.$$typeof===G)return w(R,C,A,Fa(C,L),F);ar(C,L)}return null}function se(R,C,A,L){for(var F=null,fe=null,W=C,ie=C=0,it=null;W!==null&&ie<A.length;ie++){W.index>ie?(it=W,W=null):it=W.sibling;var ve=x(R,W,A[ie],L);if(ve===null){W===null&&(W=it);break}e&&W&&ve.alternate===null&&t(R,W),C=f(ve,C,ie),fe===null?F=ve:fe.sibling=ve,fe=ve,W=it}if(ie===A.length)return i(R,W),be&&vi(R,ie),F;if(W===null){for(;ie<A.length;ie++)W=z(R,A[ie],L),W!==null&&(C=f(W,C,ie),fe===null?F=W:fe.sibling=W,fe=W);return be&&vi(R,ie),F}for(W=r(W);ie<A.length;ie++)it=w(W,R,ie,A[ie],L),it!==null&&(e&&it.alternate!==null&&W.delete(it.key===null?ie:it.key),C=f(it,C,ie),fe===null?F=it:fe.sibling=it,fe=it);return e&&W.forEach(function(si){return t(R,si)}),be&&vi(R,ie),F}function ne(R,C,A,L){if(A==null)throw Error(a(151));for(var F=null,fe=null,W=C,ie=C=0,it=null,ve=A.next();W!==null&&!ve.done;ie++,ve=A.next()){W.index>ie?(it=W,W=null):it=W.sibling;var si=x(R,W,ve.value,L);if(si===null){W===null&&(W=it);break}e&&W&&si.alternate===null&&t(R,W),C=f(si,C,ie),fe===null?F=si:fe.sibling=si,fe=si,W=it}if(ve.done)return i(R,W),be&&vi(R,ie),F;if(W===null){for(;!ve.done;ie++,ve=A.next())ve=z(R,ve.value,L),ve!==null&&(C=f(ve,C,ie),fe===null?F=ve:fe.sibling=ve,fe=ve);return be&&vi(R,ie),F}for(W=r(W);!ve.done;ie++,ve=A.next())ve=w(W,R,ie,ve.value,L),ve!==null&&(e&&ve.alternate!==null&&W.delete(ve.key===null?ie:ve.key),C=f(ve,C,ie),fe===null?F=ve:fe.sibling=ve,fe=ve);return e&&W.forEach(function(aS){return t(R,aS)}),be&&vi(R,ie),F}function we(R,C,A,L){if(typeof A=="object"&&A!==null&&A.type===D&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case E:e:{for(var F=A.key;C!==null;){if(C.key===F){if(F=A.type,F===D){if(C.tag===7){i(R,C.sibling),L=u(C,A.props.children),L.return=R,R=L;break e}}else if(C.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Te&&Mm(F)===C.type){i(R,C.sibling),L=u(C,A.props),El(L,A),L.return=R,R=L;break e}i(R,C);break}else t(R,C);C=C.sibling}A.type===D?(L=_i(A.props.children,R.mode,L,A.key),L.return=R,R=L):(L=Ga(A.type,A.key,A.props,null,R.mode,L),El(L,A),L.return=R,R=L)}return m(R);case M:e:{for(F=A.key;C!==null;){if(C.key===F)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){i(R,C.sibling),L=u(C,A.children||[]),L.return=R,R=L;break e}else{i(R,C);break}else t(R,C);C=C.sibling}L=gu(A,R.mode,L),L.return=R,R=L}return m(R);case Te:return F=A._init,A=F(A._payload),we(R,C,A,L)}if(Ge(A))return se(R,C,A,L);if(Be(A)){if(F=Be(A),typeof F!="function")throw Error(a(150));return A=F.call(A),ne(R,C,A,L)}if(typeof A.then=="function")return we(R,C,lr(A),L);if(A.$$typeof===G)return we(R,C,Fa(R,A),L);ar(R,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,C!==null&&C.tag===6?(i(R,C.sibling),L=u(C,A),L.return=R,R=L):(i(R,C),L=pu(A,R.mode,L),L.return=R,R=L),m(R)):i(R,C)}return function(R,C,A,L){try{Sl=0;var F=we(R,C,A,L);return ds=null,F}catch(W){if(W===dl||W===Pa)throw W;var fe=Lt(29,W,null,R.mode);return fe.lanes=L,fe.return=R,fe}finally{}}}var hs=Um(!0),jm=Um(!1),Xt=I(null),on=null;function Yn(e){var t=e.alternate;q($e,$e.current&1),q(Xt,e),on===null&&(t===null||os.current!==null||t.memoizedState!==null)&&(on=e)}function Lm(e){if(e.tag===22){if(q($e,$e.current),q(Xt,e),on===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(on=e)}}else Vn()}function Vn(){q($e,$e.current),q(Xt,Xt.current)}function Tn(e){H(Xt),on===e&&(on=null),H($e)}var $e=I(0);function rr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Ic(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ku(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Zu={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Ht(),u=kn(r);u.payload=t,i!=null&&(u.callback=i),t=qn(e,u,r),t!==null&&(kt(t,e,r),ml(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Ht(),u=kn(r);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=qn(e,u,r),t!==null&&(kt(t,e,r),ml(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ht(),r=kn(i);r.tag=2,t!=null&&(r.callback=t),t=qn(e,r,i),t!==null&&(kt(t,e,i),ml(t,e,i))}};function zm(e,t,i,r,u,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,m):t.prototype&&t.prototype.isPureReactComponent?!sl(i,r)||!sl(u,f):!0}function Bm(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function Ai(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=y({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}var or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Im(e){or(e)}function Hm(e){console.error(e)}function km(e){or(e)}function ur(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function qm(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Wu(e,t,i){return i=kn(i),i.tag=3,i.payload={element:null},i.callback=function(){ur(e,t)},i}function Gm(e){return e=kn(e),e.tag=3,e}function Ym(e,t,i,r){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;e.payload=function(){return u(f)},e.callback=function(){qm(t,i,r)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){qm(t,i,r),typeof u!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function ab(e,t,i,r,u){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&ul(t,i,u,!0),i=Xt.current,i!==null){switch(i.tag){case 13:return on===null?Sc():i.alternate===null&&Ve===0&&(Ve=3),i.flags&=-257,i.flags|=65536,i.lanes=u,r===Au?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),Tc(e,r,u)),!1;case 22:return i.flags|=65536,r===Au?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),Tc(e,r,u)),!1}throw Error(a(435,i.tag))}return Tc(e,r,u),Sc(),!1}if(be)return t=Xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,r!==vu&&(e=Error(a(422),{cause:r}),ol(Yt(e,i)))):(r!==vu&&(t=Error(a(423),{cause:r}),ol(Yt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Yt(r,i),u=Wu(e.stateNode,r,u),wu(e,u),Ve!==4&&(Ve=2)),!1;var f=Error(a(520),{cause:r});if(f=Yt(f,i),wl===null?wl=[f]:wl.push(f),Ve!==4&&(Ve=2),t===null)return!0;r=Yt(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Wu(i.stateNode,r,e),wu(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zn===null||!Zn.has(f))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Gm(u),Ym(u,e,i,r),wu(i,u),!1}i=i.return}while(i!==null);return!1}var Vm=Error(a(461)),tt=!1;function ot(e,t,i,r){t.child=e===null?jm(t,null,i,r):hs(t,e.child,i,r)}function Qm(e,t,i,r,u){i=i.render;var f=t.ref;if("ref"in r){var m={};for(var _ in r)_!=="ref"&&(m[_]=r[_])}else m=r;return Ti(t),r=ju(e,t,i,m,f,u),_=Lu(),e!==null&&!tt?(zu(e,t,u),Cn(e,t,u)):(be&&_&&_u(t),t.flags|=1,ot(e,t,r,u),t.child)}function Fm(e,t,i,r,u){if(e===null){var f=i.type;return typeof f=="function"&&!mu(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,Xm(e,t,f,r,u)):(e=Ga(i.type,null,r,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!lc(e,u)){var m=f.memoizedProps;if(i=i.compare,i=i!==null?i:sl,i(m,r)&&e.ref===t.ref)return Cn(e,t,u)}return t.flags|=1,e=_n(f,r),e.ref=t.ref,e.return=t,t.child=e}function Xm(e,t,i,r,u){if(e!==null){var f=e.memoizedProps;if(sl(f,r)&&e.ref===t.ref)if(tt=!1,t.pendingProps=r=f,lc(e,u))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Cn(e,t,u)}return Ju(e,t,i,r,u)}function Pm(e,t,i){var r=t.pendingProps,u=r.children,f=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=f!==null?f.baseLanes|i:i,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~r}else t.childLanes=0,t.child=null;return Km(e,t,r,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xa(t,f!==null?f.cachePool:null),f!==null?Xh(t,f):Ou(),Lm(t);else return t.lanes=t.childLanes=536870912,Km(e,t,f!==null?f.baseLanes|i:i,i)}else f!==null?(Xa(t,f.cachePool),Xh(t,f),Vn(),t.memoizedState=null):(e!==null&&Xa(t,null),Ou(),Vn());return ot(e,t,u,i),t.child}function Km(e,t,i,r){var u=Ru();return u=u===null?null:{parent:Je._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Xa(t,null),Ou(),Lm(t),e!==null&&ul(e,t,r,!0),null}function cr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Ju(e,t,i,r,u){return Ti(t),i=ju(e,t,i,r,void 0,u),r=Lu(),e!==null&&!tt?(zu(e,t,u),Cn(e,t,u)):(be&&r&&_u(t),t.flags|=1,ot(e,t,i,u),t.child)}function Zm(e,t,i,r,u,f){return Ti(t),t.updateQueue=null,i=Kh(t,r,i,u),Ph(e),r=Lu(),e!==null&&!tt?(zu(e,t,f),Cn(e,t,f)):(be&&r&&_u(t),t.flags|=1,ot(e,t,i,f),t.child)}function Wm(e,t,i,r,u){if(Ti(t),t.stateNode===null){var f=is,m=i.contextType;typeof m=="object"&&m!==null&&(f=mt(m)),f=new i(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},Nu(t),m=i.contextType,f.context=typeof m=="object"&&m!==null?mt(m):is,f.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Ku(t,i,m,r),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&Zu.enqueueReplaceState(f,f.state,null),gl(t,r,f,u),pl(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var _=t.memoizedProps,S=Ai(i,_);f.props=S;var N=f.context,j=i.contextType;m=is,typeof j=="object"&&j!==null&&(m=mt(j));var z=i.getDerivedStateFromProps;j=typeof z=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||N!==m)&&Bm(t,f,r,m),Hn=!1;var x=t.memoizedState;f.state=x,gl(t,r,f,u),pl(),N=t.memoizedState,_||x!==N||Hn?(typeof z=="function"&&(Ku(t,i,z,r),N=t.memoizedState),(S=Hn||zm(t,i,S,r,x,N,m))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=N),f.props=r,f.state=N,f.context=m,r=S):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,xu(e,t),m=t.memoizedProps,j=Ai(i,m),f.props=j,z=t.pendingProps,x=f.context,N=i.contextType,S=is,typeof N=="object"&&N!==null&&(S=mt(N)),_=i.getDerivedStateFromProps,(N=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==z||x!==S)&&Bm(t,f,r,S),Hn=!1,x=t.memoizedState,f.state=x,gl(t,r,f,u),pl();var w=t.memoizedState;m!==z||x!==w||Hn||e!==null&&e.dependencies!==null&&Qa(e.dependencies)?(typeof _=="function"&&(Ku(t,i,_,r),w=t.memoizedState),(j=Hn||zm(t,i,j,r,x,w,S)||e!==null&&e.dependencies!==null&&Qa(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,w,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,w,S)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),f.props=r,f.state=w,f.context=S,r=j):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,cr(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=hs(t,e.child,null,u),t.child=hs(t,null,i,u)):ot(e,t,i,u),t.memoizedState=f.state,e=t.child):e=Cn(e,t,u),e}function Jm(e,t,i,r){return rl(),t.flags|=256,ot(e,t,i,r),t.child}var $u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ec(e){return{baseLanes:e,cachePool:Hh()}}function tc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Pt),e}function $m(e,t,i){var r=t.pendingProps,u=!1,f=(t.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),m&&(u=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(u?Yn(t):Vn(),be){var _=Ye,S;if(S=_){e:{for(S=_,_=rn;S.nodeType!==8;){if(!_){_=null;break e}if(S=$t(S.nextSibling),S===null){_=null;break e}}_=S}_!==null?(t.memoizedState={dehydrated:_,treeContext:yi!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},S=Lt(18,null,null,0),S.stateNode=_,S.return=t,t.child=S,vt=t,Ye=null,S=!0):S=!1}S||Si(t)}if(_=t.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Ic(_)?t.lanes=32:t.lanes=536870912,null;Tn(t)}return _=r.children,r=r.fallback,u?(Vn(),u=t.mode,_=fr({mode:"hidden",children:_},u),r=_i(r,u,i,null),_.return=t,r.return=t,_.sibling=r,t.child=_,u=t.child,u.memoizedState=ec(i),u.childLanes=tc(e,m,i),t.memoizedState=$u,r):(Yn(t),nc(t,_))}if(S=e.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(f)t.flags&256?(Yn(t),t.flags&=-257,t=ic(e,t,i)):t.memoizedState!==null?(Vn(),t.child=e.child,t.flags|=128,t=null):(Vn(),u=r.fallback,_=t.mode,r=fr({mode:"visible",children:r.children},_),u=_i(u,_,i,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,hs(t,e.child,null,i),r=t.child,r.memoizedState=ec(i),r.childLanes=tc(e,m,i),t.memoizedState=$u,t=u);else if(Yn(t),Ic(_)){if(m=_.nextSibling&&_.nextSibling.dataset,m)var N=m.dgst;m=N,r=Error(a(419)),r.stack="",r.digest=m,ol({value:r,source:null,stack:null}),t=ic(e,t,i)}else if(tt||ul(e,t,i,!1),m=(i&e.childLanes)!==0,tt||m){if(m=Ue,m!==null&&(r=i&-i,r=(r&42)!==0?1:Ho(r),r=(r&(m.suspendedLanes|i))!==0?0:r,r!==0&&r!==S.retryLane))throw S.retryLane=r,ns(e,r),kt(m,e,r),Vm;_.data==="$?"||Sc(),t=ic(e,t,i)}else _.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Ye=$t(_.nextSibling),vt=t,be=!0,bi=null,rn=!1,e!==null&&(Qt[Ft++]=yn,Qt[Ft++]=vn,Qt[Ft++]=yi,yn=e.id,vn=e.overflow,yi=t),t=nc(t,r.children),t.flags|=4096);return t}return u?(Vn(),u=r.fallback,_=t.mode,S=e.child,N=S.sibling,r=_n(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,N!==null?u=_n(N,u):(u=_i(u,_,i,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,_=e.child.memoizedState,_===null?_=ec(i):(S=_.cachePool,S!==null?(N=Je._currentValue,S=S.parent!==N?{parent:N,pool:N}:S):S=Hh(),_={baseLanes:_.baseLanes|i,cachePool:S}),u.memoizedState=_,u.childLanes=tc(e,m,i),t.memoizedState=$u,r):(Yn(t),i=e.child,e=i.sibling,i=_n(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function nc(e,t){return t=fr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fr(e,t){return e=Lt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ic(e,t,i){return hs(t,e.child,null,i),e=nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ep(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Su(e.return,t,i)}function sc(e,t,i,r,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=i,f.tailMode=u)}function tp(e,t,i){var r=t.pendingProps,u=r.revealOrder,f=r.tail;if(ot(e,t,r.children,i),r=$e.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ep(e,i,t);else if(e.tag===19)ep(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(q($e,r),u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&rr(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),sc(t,!1,u,i,f);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&rr(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}sc(t,!0,i,null,f);break;case"together":sc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ul(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=_n(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=_n(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function lc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Qa(e)))}function rb(e,t,i){switch(t.tag){case 3:Ee(t,t.stateNode.containerInfo),In(t,Je,e.memoizedState.cache),rl();break;case 27:case 5:jo(t);break;case 4:Ee(t,t.stateNode.containerInfo);break;case 10:In(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Yn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?$m(e,t,i):(Yn(t),e=Cn(e,t,i),e!==null?e.sibling:null);Yn(t);break;case 19:var u=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(ul(e,t,i,!1),r=(i&t.childLanes)!==0),u){if(r)return tp(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),q($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,Pm(e,t,i);case 24:In(t,Je,e.memoizedState.cache)}return Cn(e,t,i)}function np(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!lc(e,i)&&(t.flags&128)===0)return tt=!1,rb(e,t,i);tt=(e.flags&131072)!==0}else tt=!1,be&&(t.flags&1048576)!==0&&Mh(t,Va,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,u=r._init;if(r=u(r._payload),t.type=r,typeof r=="function")mu(r)?(e=Ai(r,e),t.tag=1,t=Wm(null,t,r,e,i)):(t.tag=0,t=Ju(null,t,r,e,i));else{if(r!=null){if(u=r.$$typeof,u===oe){t.tag=11,t=Qm(null,t,r,e,i);break e}else if(u===P){t.tag=14,t=Fm(null,t,r,e,i);break e}}throw t=Et(r)||r,Error(a(306,t,""))}}return t;case 0:return Ju(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,u=Ai(r,t.pendingProps),Wm(e,t,r,u,i);case 3:e:{if(Ee(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var f=t.memoizedState;u=f.element,xu(e,t),gl(t,r,null,i);var m=t.memoizedState;if(r=m.cache,In(t,Je,r),r!==f.cache&&Eu(t,[Je],i,!0),pl(),r=m.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Jm(e,t,r,i);break e}else if(r!==u){u=Yt(Error(a(424)),t),ol(u),t=Jm(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=$t(e.firstChild),vt=t,be=!0,bi=null,rn=!0,i=jm(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(rl(),r===u){t=Cn(e,t,i);break e}ot(e,t,r,i)}t=t.child}return t;case 26:return cr(e,t),e===null?(i=ag(t.type,null,t.pendingProps,null))?t.memoizedState=i:be||(i=t.type,e=t.pendingProps,r=Rr(K.current).createElement(i),r[ht]=t,r[Tt]=e,ct(r,i,e),et(r),t.stateNode=r):t.memoizedState=ag(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return jo(t),e===null&&be&&(r=t.stateNode=ig(t.type,t.pendingProps,K.current),vt=t,rn=!0,u=Ye,$n(t.type)?(Hc=u,Ye=$t(r.firstChild)):Ye=u),ot(e,t,t.pendingProps.children,i),cr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((u=r=Ye)&&(r=Lb(r,t.type,t.pendingProps,rn),r!==null?(t.stateNode=r,vt=t,Ye=$t(r.firstChild),rn=!1,u=!0):u=!1),u||Si(t)),jo(t),u=t.type,f=t.pendingProps,m=e!==null?e.memoizedProps:null,r=f.children,Lc(u,f)?r=null:m!==null&&Lc(u,m)&&(t.flags|=32),t.memoizedState!==null&&(u=ju(e,t,$0,null,null,i),Il._currentValue=u),cr(e,t),ot(e,t,r,i),t.child;case 6:return e===null&&be&&((e=i=Ye)&&(i=zb(i,t.pendingProps,rn),i!==null?(t.stateNode=i,vt=t,Ye=null,e=!0):e=!1),e||Si(t)),null;case 13:return $m(e,t,i);case 4:return Ee(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hs(t,null,r,i):ot(e,t,r,i),t.child;case 11:return Qm(e,t,t.type,t.pendingProps,i);case 7:return ot(e,t,t.pendingProps,i),t.child;case 8:return ot(e,t,t.pendingProps.children,i),t.child;case 12:return ot(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,In(t,t.type,r.value),ot(e,t,r.children,i),t.child;case 9:return u=t.type._context,r=t.pendingProps.children,Ti(t),u=mt(u),r=r(u),t.flags|=1,ot(e,t,r,i),t.child;case 14:return Fm(e,t,t.type,t.pendingProps,i);case 15:return Xm(e,t,t.type,t.pendingProps,i);case 19:return tp(e,t,i);case 31:return r=t.pendingProps,i=t.mode,r={mode:r.mode,children:r.children},e===null?(i=fr(r,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=_n(e.child,r),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return Pm(e,t,i);case 24:return Ti(t),r=mt(Je),e===null?(u=Ru(),u===null&&(u=Ue,f=Tu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=i),u=f),t.memoizedState={parent:r,cache:u},Nu(t),In(t,Je,u)):((e.lanes&i)!==0&&(xu(e,t),gl(t,null,null,i),pl()),u=e.memoizedState,f=t.memoizedState,u.parent!==r?(u={parent:r,cache:r},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),In(t,Je,r)):(r=f.cache,In(t,Je,r),r!==u.cache&&Eu(t,[Je],i,!0))),ot(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Rn(e){e.flags|=4}function ip(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fg(t)){if(t=Xt.current,t!==null&&((ye&4194048)===ye?on!==null:(ye&62914560)!==ye&&(ye&536870912)===0||t!==on))throw hl=Au,kh;e.flags|=8192}}function dr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ld():536870912,e.lanes|=t,_s|=t)}function Tl(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function ob(e,t,i){var r=t.pendingProps;switch(yu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Sn(Je),mn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(al(t)?Rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lh())),qe(t),null;case 26:return i=t.memoizedState,e===null?(Rn(t),i!==null?(qe(t),ip(t,i)):(qe(t),t.flags&=-16777217)):i?i!==e.memoizedState?(Rn(t),qe(t),ip(t,i)):(qe(t),t.flags&=-16777217):(e.memoizedProps!==r&&Rn(t),qe(t),t.flags&=-16777217),null;case 27:Ta(t),i=K.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Rn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return qe(t),null}e=Q.current,al(t)?Uh(t):(e=ig(u,r,i),t.stateNode=e,Rn(t))}return qe(t),null;case 5:if(Ta(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Rn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return qe(t),null}if(e=Q.current,al(t))Uh(t);else{switch(u=Rr(K.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?u.createElement("select",{is:r.is}):u.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?u.createElement(i,{is:r.is}):u.createElement(i)}}e[ht]=t,e[Tt]=r;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(ct(e,i,r),i){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Rn(t)}}return qe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Rn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=K.current,al(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,u=vt,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[ht]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Zp(e.nodeValue,i)),e||Si(t)}else e=Rr(e).createTextNode(r),e[ht]=t,t.stateNode=e}return qe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=al(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[ht]=t}else rl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),u=!1}else u=Lh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Tn(t),t):(Tn(t),null)}if(Tn(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=r!==null,e=e!==null&&e.memoizedState!==null,i){r=t.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),dr(t,t.updateQueue),qe(t),null;case 4:return mn(),e===null&&Dc(t.stateNode.containerInfo),qe(t),null;case 10:return Sn(t.type),qe(t),null;case 19:if(H($e),u=t.memoizedState,u===null)return qe(t),null;if(r=(t.flags&128)!==0,f=u.rendering,f===null)if(r)Tl(u,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=rr(e),f!==null){for(t.flags|=128,Tl(u,!1),e=f.updateQueue,t.updateQueue=e,dr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Oh(i,e),i=i.sibling;return q($e,$e.current&1|2),t.child}e=e.sibling}u.tail!==null&&an()>pr&&(t.flags|=128,r=!0,Tl(u,!1),t.lanes=4194304)}else{if(!r)if(e=rr(f),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,dr(t,e),Tl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!be)return qe(t),null}else 2*an()-u.renderingStartTime>pr&&i!==536870912&&(t.flags|=128,r=!0,Tl(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=an(),t.sibling=null,e=$e.current,q($e,r?e&1|2:e&1),t):(qe(t),null);case 22:case 23:return Tn(t),Mu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),i=t.updateQueue,i!==null&&dr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&H(Ci),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Sn(Je),qe(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function ub(e,t){switch(yu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sn(Je),mn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ta(t),null;case 13:if(Tn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H($e),null;case 4:return mn(),null;case 10:return Sn(t.type),null;case 22:case 23:return Tn(t),Mu(),e!==null&&H(Ci),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Sn(Je),null;case 25:return null;default:return null}}function sp(e,t){switch(yu(t),t.tag){case 3:Sn(Je),mn();break;case 26:case 27:case 5:Ta(t);break;case 4:mn();break;case 13:Tn(t);break;case 19:H($e);break;case 10:Sn(t.type);break;case 22:case 23:Tn(t),Mu(),e!==null&&H(Ci);break;case 24:Sn(Je)}}function Cl(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var u=r.next;i=u;do{if((i.tag&e)===e){r=void 0;var f=i.create,m=i.inst;r=f(),m.destroy=r}i=i.next}while(i!==u)}}catch(_){Oe(t,t.return,_)}}function Qn(e,t,i){try{var r=t.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){var m=r.inst,_=m.destroy;if(_!==void 0){m.destroy=void 0,u=t;var S=i,N=_;try{N()}catch(j){Oe(u,S,j)}}}r=r.next}while(r!==f)}}catch(j){Oe(t,t.return,j)}}function lp(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Fh(t,i)}catch(r){Oe(e,e.return,r)}}}function ap(e,t,i){i.props=Ai(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){Oe(e,t,r)}}function Rl(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(u){Oe(e,t,u)}}function un(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(u){Oe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Oe(e,t,u)}else i.current=null}function rp(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(u){Oe(e,e.return,u)}}function ac(e,t,i){try{var r=e.stateNode;Db(r,e.type,i,t),r[Tt]=t}catch(u){Oe(e,e.return,u)}}function op(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$n(e.type)||e.tag===4}function rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$n(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oc(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Cr));else if(r!==4&&(r===27&&$n(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(oc(e,t,i),e=e.sibling;e!==null;)oc(e,t,i),e=e.sibling}function hr(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&$n(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(hr(e,t,i),e=e.sibling;e!==null;)hr(e,t,i),e=e.sibling}function up(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ct(t,r,i),t[ht]=e,t[Tt]=i}catch(f){Oe(e,e.return,f)}}var An=!1,Ke=!1,uc=!1,cp=typeof WeakSet=="function"?WeakSet:Set,nt=null;function cb(e,t){if(e=e.containerInfo,Uc=Or,e=Sh(e),ru(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var m=0,_=-1,S=-1,N=0,j=0,z=e,x=null;t:for(;;){for(var w;z!==i||u!==0&&z.nodeType!==3||(_=m+u),z!==f||r!==0&&z.nodeType!==3||(S=m+r),z.nodeType===3&&(m+=z.nodeValue.length),(w=z.firstChild)!==null;)x=z,z=w;for(;;){if(z===e)break t;if(x===i&&++N===u&&(_=m),x===f&&++j===r&&(S=m),(w=z.nextSibling)!==null)break;z=x,x=z.parentNode}z=w}i=_===-1||S===-1?null:{start:_,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(jc={focusedElem:e,selectionRange:i},Or=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,u=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var se=Ai(i.type,u,i.elementType===i.type);e=r.getSnapshotBeforeUpdate(se,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Oe(i,i.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Bc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function fp(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Fn(e,i),r&4&&Cl(5,i);break;case 1:if(Fn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){Oe(i,i.return,m)}else{var u=Ai(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Oe(i,i.return,m)}}r&64&&lp(i),r&512&&Rl(i,i.return);break;case 3:if(Fn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Fh(e,t)}catch(m){Oe(i,i.return,m)}}break;case 27:t===null&&r&4&&up(i);case 26:case 5:Fn(e,i),t===null&&r&4&&rp(i),r&512&&Rl(i,i.return);break;case 12:Fn(e,i);break;case 13:Fn(e,i),r&4&&mp(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=vb.bind(null,i),Bb(e,i))));break;case 22:if(r=i.memoizedState!==null||An,!r){t=t!==null&&t.memoizedState!==null||Ke,u=An;var f=Ke;An=r,(Ke=t)&&!f?Xn(e,i,(i.subtreeFlags&8772)!==0):Fn(e,i),An=u,Ke=f}break;case 30:break;default:Fn(e,i)}}function dp(e){var t=e.alternate;t!==null&&(e.alternate=null,dp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Go(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,At=!1;function Nn(e,t,i){for(i=i.child;i!==null;)hp(e,t,i),i=i.sibling}function hp(e,t,i){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Fs,i)}catch{}switch(i.tag){case 26:Ke||un(i,t),Nn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ke||un(i,t);var r=He,u=At;$n(i.type)&&(He=i.stateNode,At=!1),Nn(e,t,i),jl(i.stateNode),He=r,At=u;break;case 5:Ke||un(i,t);case 6:if(r=He,u=At,He=null,Nn(e,t,i),He=r,At=u,He!==null)if(At)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(i.stateNode)}catch(f){Oe(i,t,f)}else try{He.removeChild(i.stateNode)}catch(f){Oe(i,t,f)}break;case 18:He!==null&&(At?(e=He,tg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Gl(e)):tg(He,i.stateNode));break;case 4:r=He,u=At,He=i.stateNode.containerInfo,At=!0,Nn(e,t,i),He=r,At=u;break;case 0:case 11:case 14:case 15:Ke||Qn(2,i,t),Ke||Qn(4,i,t),Nn(e,t,i);break;case 1:Ke||(un(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&ap(i,t,r)),Nn(e,t,i);break;case 21:Nn(e,t,i);break;case 22:Ke=(r=Ke)||i.memoizedState!==null,Nn(e,t,i),Ke=r;break;default:Nn(e,t,i)}}function mp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gl(e)}catch(i){Oe(t,t.return,i)}}function fb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cp),t;default:throw Error(a(435,e.tag))}}function cc(e,t){var i=fb(e);t.forEach(function(r){var u=bb.bind(null,e,r);i.has(r)||(i.add(r),r.then(u,u))})}function zt(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var u=i[r],f=e,m=t,_=m;e:for(;_!==null;){switch(_.tag){case 27:if($n(_.type)){He=_.stateNode,At=!1;break e}break;case 5:He=_.stateNode,At=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,At=!0;break e}_=_.return}if(He===null)throw Error(a(160));hp(f,m,u),He=null,At=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)pp(t,e),t=t.sibling}var Jt=null;function pp(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Bt(e),r&4&&(Qn(3,e,e.return),Cl(3,e),Qn(5,e,e.return));break;case 1:zt(t,e),Bt(e),r&512&&(Ke||i===null||un(i,i.return)),r&64&&An&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var u=Jt;if(zt(t,e),Bt(e),r&512&&(Ke||i===null||un(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Ks]||f[ht]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),ct(f,r,i),f[ht]=e,et(f),r=f;break e;case"link":var m=ug("link","href",u).get(r+(i.href||""));if(m){for(var _=0;_<m.length;_++)if(f=m[_],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(_,1);break t}}f=u.createElement(r),ct(f,r,i),u.head.appendChild(f);break;case"meta":if(m=ug("meta","content",u).get(r+(i.content||""))){for(_=0;_<m.length;_++)if(f=m[_],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(_,1);break t}}f=u.createElement(r),ct(f,r,i),u.head.appendChild(f);break;default:throw Error(a(468,r))}f[ht]=e,et(f),r=f}e.stateNode=r}else cg(u,e.type,e.stateNode);else e.stateNode=og(u,r,e.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?cg(u,e.type,e.stateNode):og(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&ac(e,e.memoizedProps,i.memoizedProps)}break;case 27:zt(t,e),Bt(e),r&512&&(Ke||i===null||un(i,i.return)),i!==null&&r&4&&ac(e,e.memoizedProps,i.memoizedProps);break;case 5:if(zt(t,e),Bt(e),r&512&&(Ke||i===null||un(i,i.return)),e.flags&32){u=e.stateNode;try{Ki(u,"")}catch(w){Oe(e,e.return,w)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,ac(e,u,i!==null?i.memoizedProps:u)),r&1024&&(uc=!0);break;case 6:if(zt(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(w){Oe(e,e.return,w)}}break;case 3:if(xr=null,u=Jt,Jt=Ar(t.containerInfo),zt(t,e),Jt=u,Bt(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Gl(t.containerInfo)}catch(w){Oe(e,e.return,w)}uc&&(uc=!1,gp(e));break;case 4:r=Jt,Jt=Ar(e.stateNode.containerInfo),zt(t,e),Bt(e),Jt=r;break;case 12:zt(t,e),Bt(e);break;case 13:zt(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(gc=an()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,cc(e,r)));break;case 22:u=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,N=An,j=Ke;if(An=N||u,Ke=j||S,zt(t,e),Ke=j,An=N,Bt(e),r&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||S||An||Ke||Ni(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(f=S.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=S.stateNode;var z=S.memoizedProps.style,x=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(w){Oe(S,S.return,w)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(w){Oe(S,S.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,cc(e,i))));break;case 19:zt(t,e),Bt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,cc(e,r)));break;case 30:break;case 21:break;default:zt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(op(r)){i=r;break}r=r.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var u=i.stateNode,f=rc(e);hr(e,f,u);break;case 5:var m=i.stateNode;i.flags&32&&(Ki(m,""),i.flags&=-33);var _=rc(e);hr(e,_,m);break;case 3:case 4:var S=i.stateNode.containerInfo,N=rc(e);oc(e,N,S);break;default:throw Error(a(161))}}catch(j){Oe(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fp(e,t.alternate,t),t=t.sibling}function Ni(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qn(4,t,t.return),Ni(t);break;case 1:un(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&ap(t,t.return,i),Ni(t);break;case 27:jl(t.stateNode);case 26:case 5:un(t,t.return),Ni(t);break;case 22:t.memoizedState===null&&Ni(t);break;case 30:Ni(t);break;default:Ni(t)}e=e.sibling}}function Xn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,u=e,f=t,m=f.flags;switch(f.tag){case 0:case 11:case 15:Xn(u,f,i),Cl(4,f);break;case 1:if(Xn(u,f,i),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){Oe(r,r.return,N)}if(r=f,u=r.updateQueue,u!==null){var _=r.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)Qh(S[u],_)}catch(N){Oe(r,r.return,N)}}i&&m&64&&lp(f),Rl(f,f.return);break;case 27:up(f);case 26:case 5:Xn(u,f,i),i&&r===null&&m&4&&rp(f),Rl(f,f.return);break;case 12:Xn(u,f,i);break;case 13:Xn(u,f,i),i&&m&4&&mp(u,f);break;case 22:f.memoizedState===null&&Xn(u,f,i),Rl(f,f.return);break;case 30:break;default:Xn(u,f,i)}t=t.sibling}}function fc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&cl(i))}function dc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cl(e))}function cn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_p(e,t,i,r),t=t.sibling}function _p(e,t,i,r){var u=t.flags;switch(t.tag){case 0:case 11:case 15:cn(e,t,i,r),u&2048&&Cl(9,t);break;case 1:cn(e,t,i,r);break;case 3:cn(e,t,i,r),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cl(e)));break;case 12:if(u&2048){cn(e,t,i,r),e=t.stateNode;try{var f=t.memoizedProps,m=f.id,_=f.onPostCommit;typeof _=="function"&&_(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Oe(t,t.return,S)}}else cn(e,t,i,r);break;case 13:cn(e,t,i,r);break;case 23:break;case 22:f=t.stateNode,m=t.alternate,t.memoizedState!==null?f._visibility&2?cn(e,t,i,r):Al(e,t):f._visibility&2?cn(e,t,i,r):(f._visibility|=2,ms(e,t,i,r,(t.subtreeFlags&10256)!==0)),u&2048&&fc(m,t);break;case 24:cn(e,t,i,r),u&2048&&dc(t.alternate,t);break;default:cn(e,t,i,r)}}function ms(e,t,i,r,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,m=t,_=i,S=r,N=m.flags;switch(m.tag){case 0:case 11:case 15:ms(f,m,_,S,u),Cl(8,m);break;case 23:break;case 22:var j=m.stateNode;m.memoizedState!==null?j._visibility&2?ms(f,m,_,S,u):Al(f,m):(j._visibility|=2,ms(f,m,_,S,u)),u&&N&2048&&fc(m.alternate,m);break;case 24:ms(f,m,_,S,u),u&&N&2048&&dc(m.alternate,m);break;default:ms(f,m,_,S,u)}t=t.sibling}}function Al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,u=r.flags;switch(r.tag){case 22:Al(i,r),u&2048&&fc(r.alternate,r);break;case 24:Al(i,r),u&2048&&dc(r.alternate,r);break;default:Al(i,r)}t=t.sibling}}var Nl=8192;function ps(e){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)yp(e),e=e.sibling}function yp(e){switch(e.tag){case 26:ps(e),e.flags&Nl&&e.memoizedState!==null&&Zb(Jt,e.memoizedState,e.memoizedProps);break;case 5:ps(e);break;case 3:case 4:var t=Jt;Jt=Ar(e.stateNode.containerInfo),ps(e),Jt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Nl,Nl=16777216,ps(e),Nl=t):ps(e));break;default:ps(e)}}function vp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];nt=r,Sp(r,e)}vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bp(e),e=e.sibling}function bp(e){switch(e.tag){case 0:case 11:case 15:xl(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:xl(e);break;case 12:xl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,mr(e)):xl(e);break;default:xl(e)}}function mr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];nt=r,Sp(r,e)}vp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qn(8,t,t.return),mr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,mr(t));break;default:mr(t)}e=e.sibling}}function Sp(e,t){for(;nt!==null;){var i=nt;switch(i.tag){case 0:case 11:case 15:Qn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:cl(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,nt=r;else e:for(i=e;nt!==null;){r=nt;var u=r.sibling,f=r.return;if(dp(r),r===i){nt=null;break e}if(u!==null){u.return=f,nt=u;break e}nt=f}}}var db={getCacheForType:function(e){var t=mt(Je),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},hb=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ue=null,pe=null,ye=0,Ae=0,It=null,Pn=!1,gs=!1,hc=!1,xn=0,Ve=0,Kn=0,xi=0,mc=0,Pt=0,_s=0,wl=null,Nt=null,pc=!1,gc=0,pr=1/0,gr=null,Zn=null,ut=0,Wn=null,ys=null,vs=0,_c=0,yc=null,Ep=null,Dl=0,vc=null;function Ht(){if((Re&2)!==0&&ye!==0)return ye&-ye;if(U.T!==null){var e=as;return e!==0?e:Ac()}return Id()}function Tp(){Pt===0&&(Pt=(ye&536870912)===0||be?jd():536870912);var e=Xt.current;return e!==null&&(e.flags|=32),Pt}function kt(e,t,i){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(bs(e,0),Jn(e,ye,Pt,!1)),Ps(e,i),((Re&2)===0||e!==Ue)&&(e===Ue&&((Re&2)===0&&(xi|=i),Ve===4&&Jn(e,ye,Pt,!1)),fn(e))}function Cp(e,t,i){if((Re&6)!==0)throw Error(a(327));var r=!i&&(t&124)===0&&(t&e.expiredLanes)===0||Xs(e,t),u=r?gb(e,t):Ec(e,t,!0),f=r;do{if(u===0){gs&&!r&&Jn(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!mb(i)){u=Ec(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var _=e;u=wl;var S=_.current.memoizedState.isDehydrated;if(S&&(bs(_,m).flags|=256),m=Ec(_,m,!1),m!==2){if(hc&&!S){_.errorRecoveryDisabledLanes|=f,xi|=f,u=4;break e}f=Nt,Nt=u,f!==null&&(Nt===null?Nt=f:Nt.push.apply(Nt,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){bs(e,0),Jn(e,t,0,!0);break}e:{switch(r=e,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:Jn(r,t,Pt,!Pn);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(u=gc+300-an(),10<u)){if(Jn(r,t,Pt,!Pn),Na(r,0,!0)!==0)break e;r.timeoutHandle=$p(Rp.bind(null,r,i,Nt,gr,pc,t,Pt,xi,_s,Pn,f,2,-0,0),u);break e}Rp(r,i,Nt,gr,pc,t,Pt,xi,_s,Pn,f,0,-0,0)}}break}while(!0);fn(e)}function Rp(e,t,i,r,u,f,m,_,S,N,j,z,x,w){if(e.timeoutHandle=-1,z=t.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:Kb},yp(t),z=Wb(),z!==null)){e.cancelPendingCommit=z(Mp.bind(null,e,t,f,i,r,u,m,_,S,j,1,x,w)),Jn(e,f,m,!N);return}Mp(e,t,f,i,r,u,m,_,S)}function mb(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var u=i[r],f=u.getSnapshot;u=u.value;try{if(!jt(f(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t,i,r){t&=~mc,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var u=t;0<u;){var f=31-Ut(u),m=1<<f;r[f]=-1,u&=~m}i!==0&&zd(e,i,t)}function _r(){return(Re&6)===0?(Ol(0),!1):!0}function bc(){if(pe!==null){if(Ae===0)var e=pe.return;else e=pe,bn=Ei=null,Bu(e),ds=null,Sl=0,e=pe;for(;e!==null;)sp(e.alternate,e),e=e.return;pe=null}}function bs(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Mb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),bc(),Ue=e,pe=i=_n(e.current,null),ye=t,Ae=0,It=null,Pn=!1,gs=Xs(e,t),hc=!1,_s=Pt=mc=xi=Kn=Ve=0,Nt=wl=null,pc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var u=31-Ut(r),f=1<<u;t|=e[u],r&=~f}return xn=t,Ha(),i}function Ap(e,t){ce=null,U.H=sr,t===dl||t===Pa?(t=Yh(),Ae=3):t===kh?(t=Yh(),Ae=4):Ae=t===Vm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,It=t,pe===null&&(Ve=1,ur(e,Yt(t,e.current)))}function Np(){var e=U.H;return U.H=sr,e===null?sr:e}function xp(){var e=U.A;return U.A=db,e}function Sc(){Ve=4,Pn||(ye&4194048)!==ye&&Xt.current!==null||(gs=!0),(Kn&134217727)===0&&(xi&134217727)===0||Ue===null||Jn(Ue,ye,Pt,!1)}function Ec(e,t,i){var r=Re;Re|=2;var u=Np(),f=xp();(Ue!==e||ye!==t)&&(gr=null,bs(e,t)),t=!1;var m=Ve;e:do try{if(Ae!==0&&pe!==null){var _=pe,S=It;switch(Ae){case 8:bc(),m=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(t=!0);var N=Ae;if(Ae=0,It=null,Ss(e,_,S,N),i&&gs){m=0;break e}break;default:N=Ae,Ae=0,It=null,Ss(e,_,S,N)}}pb(),m=Ve;break}catch(j){Ap(e,j)}while(!0);return t&&e.shellSuspendCounter++,bn=Ei=null,Re=r,U.H=u,U.A=f,pe===null&&(Ue=null,ye=0,Ha()),m}function pb(){for(;pe!==null;)wp(pe)}function gb(e,t){var i=Re;Re|=2;var r=Np(),u=xp();Ue!==e||ye!==t?(gr=null,pr=an()+500,bs(e,t)):gs=Xs(e,t);e:do try{if(Ae!==0&&pe!==null){t=pe;var f=It;t:switch(Ae){case 1:Ae=0,It=null,Ss(e,t,f,1);break;case 2:case 9:if(qh(f)){Ae=0,It=null,Dp(t);break}t=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),fn(e)},f.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:qh(f)?(Ae=0,It=null,Dp(t)):(Ae=0,It=null,Ss(e,t,f,7));break;case 5:var m=null;switch(pe.tag){case 26:m=pe.memoizedState;case 5:case 27:var _=pe;if(!m||fg(m)){Ae=0,It=null;var S=_.sibling;if(S!==null)pe=S;else{var N=_.return;N!==null?(pe=N,yr(N)):pe=null}break t}}Ae=0,It=null,Ss(e,t,f,5);break;case 6:Ae=0,It=null,Ss(e,t,f,6);break;case 8:bc(),Ve=6;break e;default:throw Error(a(462))}}_b();break}catch(j){Ap(e,j)}while(!0);return bn=Ei=null,U.H=r,U.A=u,Re=i,pe!==null?0:(Ue=null,ye=0,Ha(),Ve)}function _b(){for(;pe!==null&&!Hv();)wp(pe)}function wp(e){var t=np(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?yr(e):pe=t}function Dp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Zm(i,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=Zm(i,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:Bu(t);default:sp(i,t),t=pe=Oh(t,xn),t=np(i,t,xn)}e.memoizedProps=e.pendingProps,t===null?yr(e):pe=t}function Ss(e,t,i,r){bn=Ei=null,Bu(t),ds=null,Sl=0;var u=t.return;try{if(ab(e,u,t,i,ye)){Ve=1,ur(e,Yt(i,e.current)),pe=null;return}}catch(f){if(u!==null)throw pe=u,f;Ve=1,ur(e,Yt(i,e.current)),pe=null;return}t.flags&32768?(be||r===1?e=!0:gs||(ye&536870912)!==0?e=!1:(Pn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Xt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Op(t,e)):yr(t)}function yr(e){var t=e;do{if((t.flags&32768)!==0){Op(t,Pn);return}e=t.return;var i=ob(t.alternate,t,xn);if(i!==null){pe=i;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);Ve===0&&(Ve=5)}function Op(e,t){do{var i=ub(e.alternate,e);if(i!==null){i.flags&=32767,pe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=i}while(e!==null);Ve=6,pe=null}function Mp(e,t,i,r,u,f,m,_,S){e.cancelPendingCommit=null;do vr();while(ut!==0);if((Re&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(f=t.lanes|t.childLanes,f|=du,Kv(e,i,f,m,_,S),e===Ue&&(pe=Ue=null,ye=0),ys=t,Wn=e,vs=i,_c=f,yc=u,Ep=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sb(Ca,function(){return Bp(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,u=V.p,V.p=2,m=Re,Re|=4;try{cb(e,t,i)}finally{Re=m,V.p=u,U.T=r}}ut=1,Up(),jp(),Lp()}}function Up(){if(ut===1){ut=0;var e=Wn,t=ys,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=U.T,U.T=null;var r=V.p;V.p=2;var u=Re;Re|=4;try{pp(t,e);var f=jc,m=Sh(e.containerInfo),_=f.focusedElem,S=f.selectionRange;if(m!==_&&_&&_.ownerDocument&&bh(_.ownerDocument.documentElement,_)){if(S!==null&&ru(_)){var N=S.start,j=S.end;if(j===void 0&&(j=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(j,_.value.length);else{var z=_.ownerDocument||document,x=z&&z.defaultView||window;if(x.getSelection){var w=x.getSelection(),se=_.textContent.length,ne=Math.min(S.start,se),we=S.end===void 0?ne:Math.min(S.end,se);!w.extend&&ne>we&&(m=we,we=ne,ne=m);var R=vh(_,ne),C=vh(_,we);if(R&&C&&(w.rangeCount!==1||w.anchorNode!==R.node||w.anchorOffset!==R.offset||w.focusNode!==C.node||w.focusOffset!==C.offset)){var A=z.createRange();A.setStart(R.node,R.offset),w.removeAllRanges(),ne>we?(w.addRange(A),w.extend(C.node,C.offset)):(A.setEnd(C.node,C.offset),w.addRange(A))}}}}for(z=[],w=_;w=w.parentNode;)w.nodeType===1&&z.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var L=z[_];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Or=!!Uc,jc=Uc=null}finally{Re=u,V.p=r,U.T=i}}e.current=t,ut=2}}function jp(){if(ut===2){ut=0;var e=Wn,t=ys,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=U.T,U.T=null;var r=V.p;V.p=2;var u=Re;Re|=4;try{fp(e,t.alternate,t)}finally{Re=u,V.p=r,U.T=i}}ut=3}}function Lp(){if(ut===4||ut===3){ut=0,kv();var e=Wn,t=ys,i=vs,r=Ep;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ut=5:(ut=0,ys=Wn=null,zp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Zn=null),ko(i),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Fs,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=U.T,u=V.p,V.p=2,U.T=null;try{for(var f=e.onRecoverableError,m=0;m<r.length;m++){var _=r[m];f(_.value,{componentStack:_.stack})}}finally{U.T=t,V.p=u}}(vs&3)!==0&&vr(),fn(e),u=e.pendingLanes,(i&4194090)!==0&&(u&42)!==0?e===vc?Dl++:(Dl=0,vc=e):Dl=0,Ol(0)}}function zp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cl(t)))}function vr(e){return Up(),jp(),Lp(),Bp()}function Bp(){if(ut!==5)return!1;var e=Wn,t=_c;_c=0;var i=ko(vs),r=U.T,u=V.p;try{V.p=32>i?32:i,U.T=null,i=yc,yc=null;var f=Wn,m=vs;if(ut=0,ys=Wn=null,vs=0,(Re&6)!==0)throw Error(a(331));var _=Re;if(Re|=4,bp(f.current),_p(f,f.current,m,i),Re=_,Ol(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Fs,f)}catch{}return!0}finally{V.p=u,U.T=r,zp(e,t)}}function Ip(e,t,i){t=Yt(i,t),t=Wu(e.stateNode,t,2),e=qn(e,t,2),e!==null&&(Ps(e,2),fn(e))}function Oe(e,t,i){if(e.tag===3)Ip(e,e,i);else for(;t!==null;){if(t.tag===3){Ip(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){e=Yt(i,e),i=Gm(2),r=qn(t,i,2),r!==null&&(Ym(i,r,t,e),Ps(r,2),fn(r));break}}t=t.return}}function Tc(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new hb;var u=new Set;r.set(t,u)}else u=r.get(t),u===void 0&&(u=new Set,r.set(t,u));u.has(i)||(hc=!0,u.add(i),e=yb.bind(null,e,t,i),t.then(e,e))}function yb(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ue===e&&(ye&i)===i&&(Ve===4||Ve===3&&(ye&62914560)===ye&&300>an()-gc?(Re&2)===0&&bs(e,0):mc|=i,_s===ye&&(_s=0)),fn(e)}function Hp(e,t){t===0&&(t=Ld()),e=ns(e,t),e!==null&&(Ps(e,t),fn(e))}function vb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Hp(e,i)}function bb(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),Hp(e,i)}function Sb(e,t){return zo(e,t)}var br=null,Es=null,Cc=!1,Sr=!1,Rc=!1,wi=0;function fn(e){e!==Es&&e.next===null&&(Es===null?br=Es=e:Es=Es.next=e),Sr=!0,Cc||(Cc=!0,Tb())}function Ol(e,t){if(!Rc&&Sr){Rc=!0;do for(var i=!1,r=br;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var m=r.suspendedLanes,_=r.pingedLanes;f=(1<<31-Ut(42|e)+1)-1,f&=u&~(m&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Yp(r,f))}else f=ye,f=Na(r,r===Ue?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Xs(r,f)||(i=!0,Yp(r,f));r=r.next}while(i);Rc=!1}}function Eb(){kp()}function kp(){Sr=Cc=!1;var e=0;wi!==0&&(Ob()&&(e=wi),wi=0);for(var t=an(),i=null,r=br;r!==null;){var u=r.next,f=qp(r,t);f===0?(r.next=null,i===null?br=u:i.next=u,u===null&&(Es=i)):(i=r,(e!==0||(f&3)!==0)&&(Sr=!0)),r=u}Ol(e)}function qp(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-Ut(f),_=1<<m,S=u[m];S===-1?((_&i)===0||(_&r)!==0)&&(u[m]=Pv(_,t)):S<=t&&(e.expiredLanes|=_),f&=~_}if(t=Ue,i=ye,i=Na(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Bo(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Xs(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Bo(r),ko(i)){case 2:case 8:i=Md;break;case 32:i=Ca;break;case 268435456:i=Ud;break;default:i=Ca}return r=Gp.bind(null,e),i=zo(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Bo(r),e.callbackPriority=2,e.callbackNode=null,2}function Gp(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(vr()&&e.callbackNode!==i)return null;var r=ye;return r=Na(e,e===Ue?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Cp(e,r,t),qp(e,an()),e.callbackNode!=null&&e.callbackNode===i?Gp.bind(null,e):null)}function Yp(e,t){if(vr())return null;Cp(e,t,!0)}function Tb(){Ub(function(){(Re&6)!==0?zo(Od,Eb):kp()})}function Ac(){return wi===0&&(wi=jd()),wi}function Vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ma(""+e)}function Qp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Cb(e,t,i,r,u){if(t==="submit"&&i&&i.stateNode===u){var f=Vp((u[Tt]||null).action),m=r.submitter;m&&(t=(t=m[Tt]||null)?Vp(t.formAction):m.getAttribute("formAction"),t!==null&&(f=t,m=null));var _=new za("action","action",null,r,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(wi!==0){var S=m?Qp(u,m):new FormData(u);Fu(i,{pending:!0,data:S,method:u.method,action:f},null,S)}}else typeof f=="function"&&(_.preventDefault(),S=m?Qp(u,m):new FormData(u),Fu(i,{pending:!0,data:S,method:u.method,action:f},f,S))},currentTarget:u}]})}}for(var Nc=0;Nc<fu.length;Nc++){var xc=fu[Nc],Rb=xc.toLowerCase(),Ab=xc[0].toUpperCase()+xc.slice(1);Wt(Rb,"on"+Ab)}Wt(Ch,"onAnimationEnd"),Wt(Rh,"onAnimationIteration"),Wt(Ah,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Y0,"onTransitionRun"),Wt(V0,"onTransitionStart"),Wt(Q0,"onTransitionCancel"),Wt(Nh,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Fp(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],u=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var m=r.length-1;0<=m;m--){var _=r[m],S=_.instance,N=_.currentTarget;if(_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=N;try{f(u)}catch(j){or(j)}u.currentTarget=null,f=S}else for(m=0;m<r.length;m++){if(_=r[m],S=_.instance,N=_.currentTarget,_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=N;try{f(u)}catch(j){or(j)}u.currentTarget=null,f=S}}}}function ge(e,t){var i=t[qo];i===void 0&&(i=t[qo]=new Set);var r=e+"__bubble";i.has(r)||(Xp(t,e,2,!1),i.add(r))}function wc(e,t,i){var r=0;t&&(r|=4),Xp(i,e,r,t)}var Er="_reactListening"+Math.random().toString(36).slice(2);function Dc(e){if(!e[Er]){e[Er]=!0,kd.forEach(function(i){i!=="selectionchange"&&(Nb.has(i)||wc(i,!1,e),wc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Er]||(t[Er]=!0,wc("selectionchange",!1,t))}}function Xp(e,t,i,r){switch(_g(t)){case 2:var u=eS;break;case 8:u=tS;break;default:u=Vc}i=u.bind(null,t,i,e),u=void 0,!Jo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Oc(e,t,i,r,u){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var _=r.stateNode.containerInfo;if(_===u)break;if(m===4)for(m=r.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;_!==null;){if(m=Yi(_),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){r=f=m;continue e}_=_.parentNode}}r=r.return}eh(function(){var N=f,j=Zo(i),z=[];e:{var x=xh.get(e);if(x!==void 0){var w=za,se=e;switch(e){case"keypress":if(ja(i)===0)break e;case"keydown":case"keyup":w=S0;break;case"focusin":se="focus",w=nu;break;case"focusout":se="blur",w=nu;break;case"beforeblur":case"afterblur":w=nu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=u0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=C0;break;case Ch:case Rh:case Ah:w=d0;break;case Nh:w=A0;break;case"scroll":case"scrollend":w=r0;break;case"wheel":w=x0;break;case"copy":case"cut":case"paste":w=m0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=lh;break;case"toggle":case"beforetoggle":w=D0}var ne=(t&4)!==0,we=!ne&&(e==="scroll"||e==="scrollend"),R=ne?x!==null?x+"Capture":null:x;ne=[];for(var C=N,A;C!==null;){var L=C;if(A=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||A===null||R===null||(L=Ws(C,R),L!=null&&ne.push(Ul(C,L,A))),we)break;C=C.return}0<ne.length&&(x=new w(x,se,null,i,j),z.push({event:x,listeners:ne}))}}if((t&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",x&&i!==Ko&&(se=i.relatedTarget||i.fromElement)&&(Yi(se)||se[Gi]))break e;if((w||x)&&(x=j.window===j?j:(x=j.ownerDocument)?x.defaultView||x.parentWindow:window,w?(se=i.relatedTarget||i.toElement,w=N,se=se?Yi(se):null,se!==null&&(we=c(se),ne=se.tag,se!==we||ne!==5&&ne!==27&&ne!==6)&&(se=null)):(w=null,se=N),w!==se)){if(ne=ih,L="onMouseLeave",R="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ne=lh,L="onPointerLeave",R="onPointerEnter",C="pointer"),we=w==null?x:Zs(w),A=se==null?x:Zs(se),x=new ne(L,C+"leave",w,i,j),x.target=we,x.relatedTarget=A,L=null,Yi(j)===N&&(ne=new ne(R,C+"enter",se,i,j),ne.target=A,ne.relatedTarget=we,L=ne),we=L,w&&se)t:{for(ne=w,R=se,C=0,A=ne;A;A=Ts(A))C++;for(A=0,L=R;L;L=Ts(L))A++;for(;0<C-A;)ne=Ts(ne),C--;for(;0<A-C;)R=Ts(R),A--;for(;C--;){if(ne===R||R!==null&&ne===R.alternate)break t;ne=Ts(ne),R=Ts(R)}ne=null}else ne=null;w!==null&&Pp(z,x,w,ne,!1),se!==null&&we!==null&&Pp(z,we,se,ne,!0)}}e:{if(x=N?Zs(N):window,w=x.nodeName&&x.nodeName.toLowerCase(),w==="select"||w==="input"&&x.type==="file")var F=hh;else if(fh(x))if(mh)F=k0;else{F=I0;var fe=B0}else w=x.nodeName,!w||w.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?N&&Po(N.elementType)&&(F=hh):F=H0;if(F&&(F=F(e,N))){dh(z,F,i,j);break e}fe&&fe(e,x,N),e==="focusout"&&N&&x.type==="number"&&N.memoizedProps.value!=null&&Xo(x,"number",x.value)}switch(fe=N?Zs(N):window,e){case"focusin":(fh(fe)||fe.contentEditable==="true")&&($i=fe,ou=N,ll=null);break;case"focusout":ll=ou=$i=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,Eh(z,i,j);break;case"selectionchange":if(G0)break;case"keydown":case"keyup":Eh(z,i,j)}var W;if(su)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Ji?uh(e,i)&&(ie="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ie="onCompositionStart");ie&&(ah&&i.locale!=="ko"&&(Ji||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Ji&&(W=th()):(Bn=j,$o="value"in Bn?Bn.value:Bn.textContent,Ji=!0)),fe=Tr(N,ie),0<fe.length&&(ie=new sh(ie,e,null,i,j),z.push({event:ie,listeners:fe}),W?ie.data=W:(W=ch(i),W!==null&&(ie.data=W)))),(W=M0?U0(e,i):j0(e,i))&&(ie=Tr(N,"onBeforeInput"),0<ie.length&&(fe=new sh("onBeforeInput","beforeinput",null,i,j),z.push({event:fe,listeners:ie}),fe.data=W)),Cb(z,e,N,i,j)}Fp(z,t)})}function Ul(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Tr(e,t){for(var i=t+"Capture",r=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ws(e,i),u!=null&&r.unshift(Ul(e,u,f)),u=Ws(e,t),u!=null&&r.push(Ul(e,u,f))),e.tag===3)return r;e=e.return}return[]}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pp(e,t,i,r,u){for(var f=t._reactName,m=[];i!==null&&i!==r;){var _=i,S=_.alternate,N=_.stateNode;if(_=_.tag,S!==null&&S===r)break;_!==5&&_!==26&&_!==27||N===null||(S=N,u?(N=Ws(i,f),N!=null&&m.unshift(Ul(i,N,S))):u||(N=Ws(i,f),N!=null&&m.push(Ul(i,N,S)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var xb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function Kp(e){return(typeof e=="string"?e:""+e).replace(xb,`
`).replace(wb,"")}function Zp(e,t){return t=Kp(t),Kp(e)===t}function Cr(){}function xe(e,t,i,r,u,f){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ki(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ki(e,""+r);break;case"className":wa(e,"class",r);break;case"tabIndex":wa(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":wa(e,i,r);break;case"style":Jd(e,r,f);break;case"data":if(t!=="object"){wa(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ma(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&xe(e,t,"name",u.name,u,null),xe(e,t,"formEncType",u.formEncType,u,null),xe(e,t,"formMethod",u.formMethod,u,null),xe(e,t,"formTarget",u.formTarget,u,null)):(xe(e,t,"encType",u.encType,u,null),xe(e,t,"method",u.method,u,null),xe(e,t,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Ma(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Cr);break;case"onScroll":r!=null&&ge("scroll",e);break;case"onScrollEnd":r!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Ma(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":ge("beforetoggle",e),ge("toggle",e),xa(e,"popover",r);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":xa(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=l0.get(i)||i,xa(e,i,r))}}function Mc(e,t,i,r,u,f){switch(i){case"style":Jd(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Ki(e,r):(typeof r=="number"||typeof r=="bigint")&&Ki(e,""+r);break;case"onScroll":r!=null&&ge("scroll",e);break;case"onScrollEnd":r!=null&&ge("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qd.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),f=e[Tt]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,u);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):xa(e,i,r)}}}function ct(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var r=!1,u=!1,f;for(f in i)if(i.hasOwnProperty(f)){var m=i[f];if(m!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:xe(e,t,f,m,i,null)}}u&&xe(e,t,"srcSet",i.srcSet,i,null),r&&xe(e,t,"src",i.src,i,null);return;case"input":ge("invalid",e);var _=f=m=u=null,S=null,N=null;for(r in i)if(i.hasOwnProperty(r)){var j=i[r];if(j!=null)switch(r){case"name":u=j;break;case"type":m=j;break;case"checked":S=j;break;case"defaultChecked":N=j;break;case"value":f=j;break;case"defaultValue":_=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,t));break;default:xe(e,t,r,j,i,null)}}Pd(e,f,_,S,N,m,u,!1),Da(e);return;case"select":ge("invalid",e),r=m=f=null;for(u in i)if(i.hasOwnProperty(u)&&(_=i[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":m=_;break;case"multiple":r=_;default:xe(e,t,u,_,i,null)}t=f,i=m,e.multiple=!!r,t!=null?Pi(e,!!r,t,!1):i!=null&&Pi(e,!!r,i,!0);return;case"textarea":ge("invalid",e),f=u=r=null;for(m in i)if(i.hasOwnProperty(m)&&(_=i[m],_!=null))switch(m){case"value":r=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:xe(e,t,m,_,i,null)}Zd(e,r,u,f),Da(e);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(r=i[S],r!=null))switch(S){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:xe(e,t,S,r,i,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(r=0;r<Ml.length;r++)ge(Ml[r],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(r=i[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:xe(e,t,N,r,i,null)}return;default:if(Po(t)){for(j in i)i.hasOwnProperty(j)&&(r=i[j],r!==void 0&&Mc(e,t,j,r,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(r=i[_],r!=null&&xe(e,t,_,r,i,null))}function Db(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,_=null,S=null,N=null,j=null;for(w in i){var z=i[w];if(i.hasOwnProperty(w)&&z!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":S=z;default:r.hasOwnProperty(w)||xe(e,t,w,null,r,z)}}for(var x in r){var w=r[x];if(z=i[x],r.hasOwnProperty(x)&&(w!=null||z!=null))switch(x){case"type":f=w;break;case"name":u=w;break;case"checked":N=w;break;case"defaultChecked":j=w;break;case"value":m=w;break;case"defaultValue":_=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,t));break;default:w!==z&&xe(e,t,x,w,r,z)}}Fo(e,m,_,S,N,j,f,u);return;case"select":w=m=_=x=null;for(f in i)if(S=i[f],i.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":w=S;default:r.hasOwnProperty(f)||xe(e,t,f,null,r,S)}for(u in r)if(f=r[u],S=i[u],r.hasOwnProperty(u)&&(f!=null||S!=null))switch(u){case"value":x=f;break;case"defaultValue":_=f;break;case"multiple":m=f;default:f!==S&&xe(e,t,u,f,r,S)}t=_,i=m,r=w,x!=null?Pi(e,!!i,x,!1):!!r!=!!i&&(t!=null?Pi(e,!!i,t,!0):Pi(e,!!i,i?[]:"",!1));return;case"textarea":w=x=null;for(_ in i)if(u=i[_],i.hasOwnProperty(_)&&u!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:xe(e,t,_,null,r,u)}for(m in r)if(u=r[m],f=i[m],r.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":x=u;break;case"defaultValue":w=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&xe(e,t,m,u,r,f)}Kd(e,x,w);return;case"option":for(var se in i)if(x=i[se],i.hasOwnProperty(se)&&x!=null&&!r.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:xe(e,t,se,null,r,x)}for(S in r)if(x=r[S],w=i[S],r.hasOwnProperty(S)&&x!==w&&(x!=null||w!=null))switch(S){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:xe(e,t,S,x,r,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in i)x=i[ne],i.hasOwnProperty(ne)&&x!=null&&!r.hasOwnProperty(ne)&&xe(e,t,ne,null,r,x);for(N in r)if(x=r[N],w=i[N],r.hasOwnProperty(N)&&x!==w&&(x!=null||w!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(137,t));break;default:xe(e,t,N,x,r,w)}return;default:if(Po(t)){for(var we in i)x=i[we],i.hasOwnProperty(we)&&x!==void 0&&!r.hasOwnProperty(we)&&Mc(e,t,we,void 0,r,x);for(j in r)x=r[j],w=i[j],!r.hasOwnProperty(j)||x===w||x===void 0&&w===void 0||Mc(e,t,j,x,r,w);return}}for(var R in i)x=i[R],i.hasOwnProperty(R)&&x!=null&&!r.hasOwnProperty(R)&&xe(e,t,R,null,r,x);for(z in r)x=r[z],w=i[z],!r.hasOwnProperty(z)||x===w||x==null&&w==null||xe(e,t,z,x,r,w)}var Uc=null,jc=null;function Rr(e){return e.nodeType===9?e:e.ownerDocument}function Wp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zc=null;function Ob(){var e=window.event;return e&&e.type==="popstate"?e===zc?!1:(zc=e,!0):(zc=null,!1)}var $p=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(e){return eg.resolve(null).then(e).catch(jb)}:$p;function jb(e){setTimeout(function(){throw e})}function $n(e){return e==="head"}function tg(e,t){var i=t,r=0,u=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<r&&8>r){i=r;var m=e.ownerDocument;if(i&1&&jl(m.documentElement),i&2&&jl(m.body),i&4)for(i=m.head,jl(i),m=i.firstChild;m;){var _=m.nextSibling,S=m.nodeName;m[Ks]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=_}}if(u===0){e.removeChild(f),Gl(t);return}u--}else i==="$"||i==="$?"||i==="$!"?u++:r=i.charCodeAt(0)-48;else r=0;i=f}while(i);Gl(t)}function Bc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Bc(i),Go(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Lb(e,t,i,r){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ks])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function zb(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=$t(e.nextSibling),e===null))return null;return e}function Ic(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Bb(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Hc=null;function ng(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function ig(e,t,i){switch(t=Rr(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function jl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Go(e)}var Kt=new Map,sg=new Set;function Ar(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=V.d;V.d={f:Ib,r:Hb,D:kb,C:qb,L:Gb,m:Yb,X:Qb,S:Vb,M:Fb};function Ib(){var e=wn.f(),t=_r();return e||t}function Hb(e){var t=Vi(e);t!==null&&t.tag===5&&t.type==="form"?Cm(t):wn.r(e)}var Cs=typeof document>"u"?null:document;function lg(e,t,i){var r=Cs;if(r&&typeof t=="string"&&t){var u=Gt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),sg.has(u)||(sg.add(u),e={rel:e,crossOrigin:i,href:t},r.querySelector(u)===null&&(t=r.createElement("link"),ct(t,"link",e),et(t),r.head.appendChild(t)))}}function kb(e){wn.D(e),lg("dns-prefetch",e,null)}function qb(e,t){wn.C(e,t),lg("preconnect",e,t)}function Gb(e,t,i){wn.L(e,t,i);var r=Cs;if(r&&e&&t){var u='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+Gt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+Gt(i.imageSizes)+'"]')):u+='[href="'+Gt(e)+'"]';var f=u;switch(t){case"style":f=Rs(e);break;case"script":f=As(e)}Kt.has(f)||(e=y({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Kt.set(f,e),r.querySelector(u)!==null||t==="style"&&r.querySelector(Ll(f))||t==="script"&&r.querySelector(zl(f))||(t=r.createElement("link"),ct(t,"link",e),et(t),r.head.appendChild(t)))}}function Yb(e,t){wn.m(e,t);var i=Cs;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Gt(r)+'"][href="'+Gt(e)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=As(e)}if(!Kt.has(f)&&(e=y({rel:"modulepreload",href:e},t),Kt.set(f,e),i.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(zl(f)))return}r=i.createElement("link"),ct(r,"link",e),et(r),i.head.appendChild(r)}}}function Vb(e,t,i){wn.S(e,t,i);var r=Cs;if(r&&e){var u=Qi(r).hoistableStyles,f=Rs(e);t=t||"default";var m=u.get(f);if(!m){var _={loading:0,preload:null};if(m=r.querySelector(Ll(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Kt.get(f))&&kc(e,i);var S=m=r.createElement("link");et(S),ct(S,"link",e),S._p=new Promise(function(N,j){S.onload=N,S.onerror=j}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Nr(m,t,r)}m={type:"stylesheet",instance:m,count:1,state:_},u.set(f,m)}}}function Qb(e,t){wn.X(e,t);var i=Cs;if(i&&e){var r=Qi(i).hoistableScripts,u=As(e),f=r.get(u);f||(f=i.querySelector(zl(u)),f||(e=y({src:e,async:!0},t),(t=Kt.get(u))&&qc(e,t),f=i.createElement("script"),et(f),ct(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function Fb(e,t){wn.M(e,t);var i=Cs;if(i&&e){var r=Qi(i).hoistableScripts,u=As(e),f=r.get(u);f||(f=i.querySelector(zl(u)),f||(e=y({src:e,async:!0,type:"module"},t),(t=Kt.get(u))&&qc(e,t),f=i.createElement("script"),et(f),ct(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function ag(e,t,i,r){var u=(u=K.current)?Ar(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Rs(i.href),i=Qi(u).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Rs(i.href);var f=Qi(u).hoistableStyles,m=f.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=u.querySelector(Ll(e)))&&!f._p&&(m.instance=f,m.state.loading=5),Kt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Kt.set(e,i),f||Xb(u,e,i,m.state))),t&&r===null)throw Error(a(528,""));return m}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=As(i),i=Qi(u).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Rs(e){return'href="'+Gt(e)+'"'}function Ll(e){return'link[rel="stylesheet"]['+e+"]"}function rg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Xb(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ct(t,"link",i),et(t),e.head.appendChild(t))}function As(e){return'[src="'+Gt(e)+'"]'}function zl(e){return"script[async]"+e}function og(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Gt(i.href)+'"]');if(r)return t.instance=r,et(r),r;var u=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),et(r),ct(r,"style",u),Nr(r,i.precedence,e),t.instance=r;case"stylesheet":u=Rs(i.href);var f=e.querySelector(Ll(u));if(f)return t.state.loading|=4,t.instance=f,et(f),f;r=rg(i),(u=Kt.get(u))&&kc(r,u),f=(e.ownerDocument||e).createElement("link"),et(f);var m=f;return m._p=new Promise(function(_,S){m.onload=_,m.onerror=S}),ct(f,"link",r),t.state.loading|=4,Nr(f,i.precedence,e),t.instance=f;case"script":return f=As(i.src),(u=e.querySelector(zl(f)))?(t.instance=u,et(u),u):(r=i,(u=Kt.get(f))&&(r=y({},i),qc(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),et(u),ct(u,"link",r),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Nr(r,i.precedence,e));return t.instance}function Nr(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,m=0;m<r.length;m++){var _=r[m];if(_.dataset.precedence===t)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xr=null;function ug(e,t,i){if(xr===null){var r=new Map,u=xr=new Map;u.set(i,r)}else u=xr,r=u.get(i),r||(r=new Map,u.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var f=i[u];if(!(f[Ks]||f[ht]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(t)||"";m=e+m;var _=r.get(m);_?_.push(f):r.set(m,[f])}}return r}function cg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Pb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Bl=null;function Kb(){}function Zb(e,t,i){if(Bl===null)throw Error(a(475));var r=Bl;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=Rs(i.href),f=e.querySelector(Ll(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=wr.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=f,et(f);return}f=e.ownerDocument||e,i=rg(i),(u=Kt.get(u))&&kc(i,u),f=f.createElement("link"),et(f);var m=f;m._p=new Promise(function(_,S){m.onload=_,m.onerror=S}),ct(f,"link",i),t.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=wr.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Wb(){if(Bl===null)throw Error(a(475));var e=Bl;return e.stylesheets&&e.count===0&&Gc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function wr(){if(this.count--,this.count===0){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dr=null;function Gc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dr=new Map,t.forEach(Jb,e),Dr=null,wr.call(e))}function Jb(e,t){if(!(t.state.loading&4)){var i=Dr.get(e);if(i)var r=i.get(null);else{i=new Map,Dr.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),r=m)}r&&i.set(null,r)}u=t.instance,m=u.getAttribute("data-precedence"),f=i.get(m)||r,f===r&&i.set(null,u),i.set(m,u),this.count++,r=wr.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Il={$$typeof:G,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function $b(e,t,i,r,u,f,m,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Io(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.hiddenUpdates=Io(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function dg(e,t,i,r,u,f,m,_,S,N,j,z){return e=new $b(e,t,i,m,_,S,N,z),t=1,f===!0&&(t|=24),f=Lt(3,null,null,t),e.current=f,f.stateNode=e,t=Tu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:t},Nu(f),e}function hg(e){return e?(e=is,e):is}function mg(e,t,i,r,u,f){u=hg(u),r.context===null?r.context=u:r.pendingContext=u,r=kn(t),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=qn(e,r,t),i!==null&&(kt(i,e,t),ml(i,e,t))}function pg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Yc(e,t){pg(e,t),(e=e.alternate)&&pg(e,t)}function gg(e){if(e.tag===13){var t=ns(e,67108864);t!==null&&kt(t,e,67108864),Yc(e,67108864)}}var Or=!0;function eS(e,t,i,r){var u=U.T;U.T=null;var f=V.p;try{V.p=2,Vc(e,t,i,r)}finally{V.p=f,U.T=u}}function tS(e,t,i,r){var u=U.T;U.T=null;var f=V.p;try{V.p=8,Vc(e,t,i,r)}finally{V.p=f,U.T=u}}function Vc(e,t,i,r){if(Or){var u=Qc(r);if(u===null)Oc(e,t,r,Mr,i),yg(e,r);else if(iS(u,e,t,i,r))r.stopPropagation();else if(yg(e,r),t&4&&-1<nS.indexOf(e)){for(;u!==null;){var f=Vi(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=di(f.pendingLanes);if(m!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;m;){var S=1<<31-Ut(m);_.entanglements[1]|=S,m&=~S}fn(f),(Re&6)===0&&(pr=an()+500,Ol(0))}}break;case 13:_=ns(f,2),_!==null&&kt(_,f,2),_r(),Yc(f,2)}if(f=Qc(r),f===null&&Oc(e,t,r,Mr,i),f===u)break;u=f}u!==null&&r.stopPropagation()}else Oc(e,t,r,null,i)}}function Qc(e){return e=Zo(e),Fc(e)}var Mr=null;function Fc(e){if(Mr=null,e=Yi(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mr=e,null}function _g(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qv()){case Od:return 2;case Md:return 8;case Ca:case Gv:return 32;case Ud:return 268435456;default:return 32}default:return 32}}var Xc=!1,ei=null,ti=null,ni=null,Hl=new Map,kl=new Map,ii=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yg(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(t.pointerId)}}function ql(e,t,i,r,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Vi(t),t!==null&&gg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function iS(e,t,i,r,u){switch(t){case"focusin":return ei=ql(ei,e,t,i,r,u),!0;case"dragenter":return ti=ql(ti,e,t,i,r,u),!0;case"mouseover":return ni=ql(ni,e,t,i,r,u),!0;case"pointerover":var f=u.pointerId;return Hl.set(f,ql(Hl.get(f)||null,e,t,i,r,u)),!0;case"gotpointercapture":return f=u.pointerId,kl.set(f,ql(kl.get(f)||null,e,t,i,r,u)),!0}return!1}function vg(e){var t=Yi(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,Zv(e.priority,function(){if(i.tag===13){var r=Ht();r=Ho(r);var u=ns(i,r);u!==null&&kt(u,i,r),Yc(i,r)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ur(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Qc(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Ko=r,i.target.dispatchEvent(r),Ko=null}else return t=Vi(i),t!==null&&gg(t),e.blockedOn=i,!1;t.shift()}return!0}function bg(e,t,i){Ur(e)&&i.delete(t)}function sS(){Xc=!1,ei!==null&&Ur(ei)&&(ei=null),ti!==null&&Ur(ti)&&(ti=null),ni!==null&&Ur(ni)&&(ni=null),Hl.forEach(bg),kl.forEach(bg)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Xc||(Xc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sS)))}var Lr=null;function Sg(e){Lr!==e&&(Lr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lr===e&&(Lr=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],u=e[t+2];if(typeof r!="function"){if(Fc(r||i)===null)continue;break}var f=Vi(i);f!==null&&(e.splice(t,3),t-=3,Fu(f,{pending:!0,data:u,method:i.method,action:r},r,u))}}))}function Gl(e){function t(S){return jr(S,e)}ei!==null&&jr(ei,e),ti!==null&&jr(ti,e),ni!==null&&jr(ni,e),Hl.forEach(t),kl.forEach(t);for(var i=0;i<ii.length;i++){var r=ii[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ii.length&&(i=ii[0],i.blockedOn===null);)vg(i),i.blockedOn===null&&ii.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var u=i[r],f=i[r+1],m=u[Tt]||null;if(typeof f=="function")m||Sg(i);else if(m){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[Tt]||null)_=m.formAction;else if(Fc(u)!==null)continue}else _=m.action;typeof _=="function"?i[r+1]=_:(i.splice(r,3),r-=3),Sg(i)}}}function Pc(e){this._internalRoot=e}zr.prototype.render=Pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,r=Ht();mg(i,r,e,t,null,null)},zr.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mg(e.current,2,null,e,null,null),_r(),t[Gi]=null}};function zr(e){this._internalRoot=e}zr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Id();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ii.length&&t!==0&&t<ii[i].priority;i++);ii.splice(i,0,e),i===0&&vg(e)}};var Eg=n.version;if(Eg!=="19.1.1")throw Error(a(527,Eg,"19.1.1"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var lS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Br.isDisabled&&Br.supportsFiber)try{Fs=Br.inject(lS),Mt=Br}catch{}}return Vl.createRoot=function(e,t){if(!o(e))throw Error(a(299));var i=!1,r="",u=Im,f=Hm,m=km,_=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(_=t.unstable_transitionCallbacks)),t=dg(e,1,!1,null,null,i,r,u,f,m,_,null),e[Gi]=t.current,Dc(e),new Pc(t)},Vl.hydrateRoot=function(e,t,i){if(!o(e))throw Error(a(299));var r=!1,u="",f=Im,m=Hm,_=km,S=null,N=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(N=i.formState)),t=dg(e,1,!0,t,i??null,r,u,f,m,_,S,N),t.context=hg(null),i=t.current,r=Ht(),r=Ho(r),u=kn(r),u.callback=null,qn(i,u,r),i=r,t.current.lanes=i,Ps(t,i),fn(t),e[Gi]=t.current,Dc(e),new zr(t)},Vl.version="19.1.1",Vl}var Mg;function gS(){if(Mg)return Wc.exports;Mg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Wc.exports=pS(),Wc.exports}var _S=gS();const yS=q_(_S),vS=({activeView:s,onViewChange:n,isCollapsed:l,onToggleCollapse:a,isRouteExecuting:o,executingRouteName:c,currentMove:d,timeLeft:h,statusMessage:g,onStop:p,onPause:y,onPlay:b,isPaused:E})=>{const[M,D]=ae.useState(null),k=[{id:"dashboard",name:"Dashboard",description:"System overview",icon:"📊",badge:null},{id:"route-creation",name:"Route Creation",description:"Create new routes",icon:"🗺️",badge:null},{id:"route-execution",name:"Route Execution",description:"Execute saved routes",icon:"▶️",badge:o?"ACTIVE":null,badgeClass:o?"executing":null},{id:"route-management",name:"Route Management",description:"Manage routes",icon:"📂",badge:null},{id:"manual-control",name:"Manual Control",description:"Direct robot movement",icon:"🎮",badge:null}],B=G=>{n(G)},J=()=>!o&&!E?null:l?v.jsx("div",{className:"execution-status-sidebar",children:v.jsxs("div",{className:"execution-collapsed",children:[v.jsx("div",{className:"execution-icon-small",children:"🤖"}),v.jsx("div",{className:"execution-pulse-small"})]})}):v.jsx("div",{className:"execution-status-sidebar",children:v.jsxs("div",{className:"execution-info",children:[v.jsxs("div",{className:"execution-header",children:[v.jsx("div",{className:"execution-icon",children:"🤖"}),v.jsx("div",{className:"execution-text",children:"Route Executing"}),v.jsx("div",{className:"execution-pulse"})]}),v.jsxs("div",{className:"execution-details",children:[v.jsx("div",{className:"route-name",children:c}),v.jsx("div",{className:"current-action",children:g}),d&&h>0&&v.jsxs("div",{className:"current-action",children:[h,"s remaining"]})]}),v.jsx("div",{className:"execution-controls-sidebar",children:v.jsx("button",{onClick:p,className:"stop-btn",children:"Stop"})})]})}),Z=G=>{const oe=s===G.id,X=G.id==="route-execution"&&o;return v.jsxs("li",{className:"nav-item",children:[oe&&v.jsx("div",{className:"active-indicator"}),v.jsxs("button",{className:`nav-button ${oe?"active":""} ${X?"executing":""}`,onClick:()=>B(G.id),onMouseEnter:()=>D(G.id),onMouseLeave:()=>D(null),children:[v.jsx("div",{className:"nav-icon",children:G.icon}),v.jsxs("div",{className:"nav-content",children:[v.jsx("div",{className:"nav-name",children:G.name}),v.jsx("div",{className:"nav-description",children:G.description})]}),G.badge&&v.jsx("div",{className:`nav-badge ${G.badgeClass||""}`,children:G.badge})]}),l&&M===G.id&&v.jsx("div",{className:"nav-tooltip",children:v.jsxs("div",{className:"tooltip-content",children:[v.jsx("div",{className:"tooltip-title",children:G.name}),v.jsx("div",{className:"tooltip-description",children:G.description}),G.badge&&v.jsx("div",{className:"tooltip-badge",children:G.badge}),X&&v.jsxs("div",{className:"tooltip-execution",children:["Currently executing: ",c]})]})})]},G.id)};return v.jsxs("aside",{className:`sidebar ${l?"collapsed":""}`,children:[v.jsx("div",{className:"sidebar-overlay"}),v.jsxs("header",{className:"sidebar-header",children:[v.jsxs("div",{className:"logo-container",children:[v.jsx("div",{className:"logo-icon",children:"🤖"}),v.jsxs("div",{className:"logo-text",children:[v.jsx("div",{className:"logo-title",children:"RobotNav"}),v.jsx("div",{className:"logo-subtitle",children:"Control System"})]})]}),v.jsx("button",{className:"collapse-toggle",onClick:a,"aria-label":l?"Expand sidebar":"Collapse sidebar",children:v.jsx("div",{className:`toggle-icon ${l?"collapsed":""}`,children:"←"})})]}),v.jsx("nav",{className:"sidebar-nav",children:v.jsx("ul",{className:"nav-list",children:k.map(Z)})}),J(),v.jsxs("footer",{className:"sidebar-footer",children:[v.jsxs("div",{className:"footer-content",children:[v.jsxs("div",{className:"system-status",children:[v.jsx("div",{className:"status-indicator online"}),v.jsx("div",{className:"status-text",children:"System Online"})]}),v.jsx("div",{className:"version-info",children:"v2.1.0"})]}),v.jsx("div",{className:"footer-collapsed",children:v.jsx("div",{className:"status-indicator online"})})]})]})};function G_(s,n){return function(){return s.apply(n,arguments)}}const{toString:bS}=Object.prototype,{getPrototypeOf:Vf}=Object,{iterator:mo,toStringTag:Y_}=Symbol,po=(s=>n=>{const l=bS.call(n);return s[l]||(s[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),ln=s=>(s=s.toLowerCase(),n=>po(n)===s),go=s=>n=>typeof n===s,{isArray:Hs}=Array,na=go("undefined");function ha(s){return s!==null&&!na(s)&&s.constructor!==null&&!na(s.constructor)&&Dt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const V_=ln("ArrayBuffer");function SS(s){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(s):n=s&&s.buffer&&V_(s.buffer),n}const ES=go("string"),Dt=go("function"),Q_=go("number"),ma=s=>s!==null&&typeof s=="object",TS=s=>s===!0||s===!1,qr=s=>{if(po(s)!=="object")return!1;const n=Vf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Y_ in s)&&!(mo in s)},CS=s=>{if(!ma(s)||ha(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},RS=ln("Date"),AS=ln("File"),NS=ln("Blob"),xS=ln("FileList"),wS=s=>ma(s)&&Dt(s.pipe),DS=s=>{let n;return s&&(typeof FormData=="function"&&s instanceof FormData||Dt(s.append)&&((n=po(s))==="formdata"||n==="object"&&Dt(s.toString)&&s.toString()==="[object FormData]"))},OS=ln("URLSearchParams"),[MS,US,jS,LS]=["ReadableStream","Request","Response","Headers"].map(ln),zS=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pa(s,n,{allOwnKeys:l=!1}={}){if(s===null||typeof s>"u")return;let a,o;if(typeof s!="object"&&(s=[s]),Hs(s))for(a=0,o=s.length;a<o;a++)n.call(null,s[a],a,s);else{if(ha(s))return;const c=l?Object.getOwnPropertyNames(s):Object.keys(s),d=c.length;let h;for(a=0;a<d;a++)h=c[a],n.call(null,s[h],h,s)}}function F_(s,n){if(ha(s))return null;n=n.toLowerCase();const l=Object.keys(s);let a=l.length,o;for(;a-- >0;)if(o=l[a],n===o.toLowerCase())return o;return null}const Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X_=s=>!na(s)&&s!==Mi;function gf(){const{caseless:s}=X_(this)&&this||{},n={},l=(a,o)=>{const c=s&&F_(n,o)||o;qr(n[c])&&qr(a)?n[c]=gf(n[c],a):qr(a)?n[c]=gf({},a):Hs(a)?n[c]=a.slice():n[c]=a};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&pa(arguments[a],l);return n}const BS=(s,n,l,{allOwnKeys:a}={})=>(pa(n,(o,c)=>{l&&Dt(o)?s[c]=G_(o,l):s[c]=o},{allOwnKeys:a}),s),IS=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),HS=(s,n,l,a)=>{s.prototype=Object.create(n.prototype,a),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:n.prototype}),l&&Object.assign(s.prototype,l)},kS=(s,n,l,a)=>{let o,c,d;const h={};if(n=n||{},s==null)return n;do{for(o=Object.getOwnPropertyNames(s),c=o.length;c-- >0;)d=o[c],(!a||a(d,s,n))&&!h[d]&&(n[d]=s[d],h[d]=!0);s=l!==!1&&Vf(s)}while(s&&(!l||l(s,n))&&s!==Object.prototype);return n},qS=(s,n,l)=>{s=String(s),(l===void 0||l>s.length)&&(l=s.length),l-=n.length;const a=s.indexOf(n,l);return a!==-1&&a===l},GS=s=>{if(!s)return null;if(Hs(s))return s;let n=s.length;if(!Q_(n))return null;const l=new Array(n);for(;n-- >0;)l[n]=s[n];return l},YS=(s=>n=>s&&n instanceof s)(typeof Uint8Array<"u"&&Vf(Uint8Array)),VS=(s,n)=>{const a=(s&&s[mo]).call(s);let o;for(;(o=a.next())&&!o.done;){const c=o.value;n.call(s,c[0],c[1])}},QS=(s,n)=>{let l;const a=[];for(;(l=s.exec(n))!==null;)a.push(l);return a},FS=ln("HTMLFormElement"),XS=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,a,o){return a.toUpperCase()+o}),Ug=(({hasOwnProperty:s})=>(n,l)=>s.call(n,l))(Object.prototype),PS=ln("RegExp"),P_=(s,n)=>{const l=Object.getOwnPropertyDescriptors(s),a={};pa(l,(o,c)=>{let d;(d=n(o,c,s))!==!1&&(a[c]=d||o)}),Object.defineProperties(s,a)},KS=s=>{P_(s,(n,l)=>{if(Dt(s)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const a=s[l];if(Dt(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},ZS=(s,n)=>{const l={},a=o=>{o.forEach(c=>{l[c]=!0})};return Hs(s)?a(s):a(String(s).split(n)),l},WS=()=>{},JS=(s,n)=>s!=null&&Number.isFinite(s=+s)?s:n;function $S(s){return!!(s&&Dt(s.append)&&s[Y_]==="FormData"&&s[mo])}const e1=s=>{const n=new Array(10),l=(a,o)=>{if(ma(a)){if(n.indexOf(a)>=0)return;if(ha(a))return a;if(!("toJSON"in a)){n[o]=a;const c=Hs(a)?[]:{};return pa(a,(d,h)=>{const g=l(d,o+1);!na(g)&&(c[h]=g)}),n[o]=void 0,c}}return a};return l(s,0)},t1=ln("AsyncFunction"),n1=s=>s&&(ma(s)||Dt(s))&&Dt(s.then)&&Dt(s.catch),K_=((s,n)=>s?setImmediate:n?((l,a)=>(Mi.addEventListener("message",({source:o,data:c})=>{o===Mi&&c===l&&a.length&&a.shift()()},!1),o=>{a.push(o),Mi.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",Dt(Mi.postMessage)),i1=typeof queueMicrotask<"u"?queueMicrotask.bind(Mi):typeof process<"u"&&process.nextTick||K_,s1=s=>s!=null&&Dt(s[mo]),O={isArray:Hs,isArrayBuffer:V_,isBuffer:ha,isFormData:DS,isArrayBufferView:SS,isString:ES,isNumber:Q_,isBoolean:TS,isObject:ma,isPlainObject:qr,isEmptyObject:CS,isReadableStream:MS,isRequest:US,isResponse:jS,isHeaders:LS,isUndefined:na,isDate:RS,isFile:AS,isBlob:NS,isRegExp:PS,isFunction:Dt,isStream:wS,isURLSearchParams:OS,isTypedArray:YS,isFileList:xS,forEach:pa,merge:gf,extend:BS,trim:zS,stripBOM:IS,inherits:HS,toFlatObject:kS,kindOf:po,kindOfTest:ln,endsWith:qS,toArray:GS,forEachEntry:VS,matchAll:QS,isHTMLForm:FS,hasOwnProperty:Ug,hasOwnProp:Ug,reduceDescriptors:P_,freezeMethods:KS,toObjectSet:ZS,toCamelCase:XS,noop:WS,toFiniteNumber:JS,findKey:F_,global:Mi,isContextDefined:X_,isSpecCompliantForm:$S,toJSONObject:e1,isAsyncFn:t1,isThenable:n1,setImmediate:K_,asap:i1,isIterable:s1};function re(s,n,l,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",n&&(this.code=n),l&&(this.config=l),a&&(this.request=a),o&&(this.response=o,this.status=o.status?o.status:null)}O.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const Z_=re.prototype,W_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{W_[s]={value:s}});Object.defineProperties(re,W_);Object.defineProperty(Z_,"isAxiosError",{value:!0});re.from=(s,n,l,a,o,c)=>{const d=Object.create(Z_);return O.toFlatObject(s,d,function(g){return g!==Error.prototype},h=>h!=="isAxiosError"),re.call(d,s.message,n,l,a,o),d.cause=s,d.name=s.name,c&&Object.assign(d,c),d};const l1=null;function _f(s){return O.isPlainObject(s)||O.isArray(s)}function J_(s){return O.endsWith(s,"[]")?s.slice(0,-2):s}function jg(s,n,l){return s?s.concat(n).map(function(o,c){return o=J_(o),!l&&c?"["+o+"]":o}).join(l?".":""):n}function a1(s){return O.isArray(s)&&!s.some(_f)}const r1=O.toFlatObject(O,{},null,function(n){return/^is[A-Z]/.test(n)});function _o(s,n,l){if(!O.isObject(s))throw new TypeError("target must be an object");n=n||new FormData,l=O.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,B){return!O.isUndefined(B[k])});const a=l.metaTokens,o=l.visitor||y,c=l.dots,d=l.indexes,g=(l.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(n);if(!O.isFunction(o))throw new TypeError("visitor must be a function");function p(D){if(D===null)return"";if(O.isDate(D))return D.toISOString();if(O.isBoolean(D))return D.toString();if(!g&&O.isBlob(D))throw new re("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(D)||O.isTypedArray(D)?g&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function y(D,k,B){let J=D;if(D&&!B&&typeof D=="object"){if(O.endsWith(k,"{}"))k=a?k:k.slice(0,-2),D=JSON.stringify(D);else if(O.isArray(D)&&a1(D)||(O.isFileList(D)||O.endsWith(k,"[]"))&&(J=O.toArray(D)))return k=J_(k),J.forEach(function(G,oe){!(O.isUndefined(G)||G===null)&&n.append(d===!0?jg([k],oe,c):d===null?k:k+"[]",p(G))}),!1}return _f(D)?!0:(n.append(jg(B,k,c),p(D)),!1)}const b=[],E=Object.assign(r1,{defaultVisitor:y,convertValue:p,isVisitable:_f});function M(D,k){if(!O.isUndefined(D)){if(b.indexOf(D)!==-1)throw Error("Circular reference detected in "+k.join("."));b.push(D),O.forEach(D,function(J,Z){(!(O.isUndefined(J)||J===null)&&o.call(n,J,O.isString(Z)?Z.trim():Z,k,E))===!0&&M(J,k?k.concat(Z):[Z])}),b.pop()}}if(!O.isObject(s))throw new TypeError("data must be an object");return M(s),n}function Lg(s){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function Qf(s,n){this._pairs=[],s&&_o(s,this,n)}const $_=Qf.prototype;$_.append=function(n,l){this._pairs.push([n,l])};$_.toString=function(n){const l=n?function(a){return n.call(this,a,Lg)}:Lg;return this._pairs.map(function(o){return l(o[0])+"="+l(o[1])},"").join("&")};function o1(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ey(s,n,l){if(!n)return s;const a=l&&l.encode||o1;O.isFunction(l)&&(l={serialize:l});const o=l&&l.serialize;let c;if(o?c=o(n,l):c=O.isURLSearchParams(n)?n.toString():new Qf(n,l).toString(a),c){const d=s.indexOf("#");d!==-1&&(s=s.slice(0,d)),s+=(s.indexOf("?")===-1?"?":"&")+c}return s}class zg{constructor(){this.handlers=[]}use(n,l,a){return this.handlers.push({fulfilled:n,rejected:l,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){O.forEach(this.handlers,function(a){a!==null&&n(a)})}}const ty={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},u1=typeof URLSearchParams<"u"?URLSearchParams:Qf,c1=typeof FormData<"u"?FormData:null,f1=typeof Blob<"u"?Blob:null,d1={isBrowser:!0,classes:{URLSearchParams:u1,FormData:c1,Blob:f1},protocols:["http","https","file","blob","url","data"]},Ff=typeof window<"u"&&typeof document<"u",yf=typeof navigator=="object"&&navigator||void 0,h1=Ff&&(!yf||["ReactNative","NativeScript","NS"].indexOf(yf.product)<0),m1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p1=Ff&&window.location.href||"http://localhost",g1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ff,hasStandardBrowserEnv:h1,hasStandardBrowserWebWorkerEnv:m1,navigator:yf,origin:p1},Symbol.toStringTag,{value:"Module"})),yt={...g1,...d1};function _1(s,n){return _o(s,new yt.classes.URLSearchParams,{visitor:function(l,a,o,c){return yt.isNode&&O.isBuffer(l)?(this.append(a,l.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...n})}function y1(s){return O.matchAll(/\w+|\[(\w*)]/g,s).map(n=>n[0]==="[]"?"":n[1]||n[0])}function v1(s){const n={},l=Object.keys(s);let a;const o=l.length;let c;for(a=0;a<o;a++)c=l[a],n[c]=s[c];return n}function ny(s){function n(l,a,o,c){let d=l[c++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),g=c>=l.length;return d=!d&&O.isArray(o)?o.length:d,g?(O.hasOwnProp(o,d)?o[d]=[o[d],a]:o[d]=a,!h):((!o[d]||!O.isObject(o[d]))&&(o[d]=[]),n(l,a,o[d],c)&&O.isArray(o[d])&&(o[d]=v1(o[d])),!h)}if(O.isFormData(s)&&O.isFunction(s.entries)){const l={};return O.forEachEntry(s,(a,o)=>{n(y1(a),o,l,0)}),l}return null}function b1(s,n,l){if(O.isString(s))try{return(n||JSON.parse)(s),O.trim(s)}catch(a){if(a.name!=="SyntaxError")throw a}return(l||JSON.stringify)(s)}const ga={transitional:ty,adapter:["xhr","http","fetch"],transformRequest:[function(n,l){const a=l.getContentType()||"",o=a.indexOf("application/json")>-1,c=O.isObject(n);if(c&&O.isHTMLForm(n)&&(n=new FormData(n)),O.isFormData(n))return o?JSON.stringify(ny(n)):n;if(O.isArrayBuffer(n)||O.isBuffer(n)||O.isStream(n)||O.isFile(n)||O.isBlob(n)||O.isReadableStream(n))return n;if(O.isArrayBufferView(n))return n.buffer;if(O.isURLSearchParams(n))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(c){if(a.indexOf("application/x-www-form-urlencoded")>-1)return _1(n,this.formSerializer).toString();if((h=O.isFileList(n))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return _o(h?{"files[]":n}:n,g&&new g,this.formSerializer)}}return c||o?(l.setContentType("application/json",!1),b1(n)):n}],transformResponse:[function(n){const l=this.transitional||ga.transitional,a=l&&l.forcedJSONParsing,o=this.responseType==="json";if(O.isResponse(n)||O.isReadableStream(n))return n;if(n&&O.isString(n)&&(a&&!this.responseType||o)){const d=!(l&&l.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(h){if(d)throw h.name==="SyntaxError"?re.from(h,re.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yt.classes.FormData,Blob:yt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],s=>{ga.headers[s]={}});const S1=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E1=s=>{const n={};let l,a,o;return s&&s.split(`
`).forEach(function(d){o=d.indexOf(":"),l=d.substring(0,o).trim().toLowerCase(),a=d.substring(o+1).trim(),!(!l||n[l]&&S1[l])&&(l==="set-cookie"?n[l]?n[l].push(a):n[l]=[a]:n[l]=n[l]?n[l]+", "+a:a)}),n},Bg=Symbol("internals");function Ql(s){return s&&String(s).trim().toLowerCase()}function Gr(s){return s===!1||s==null?s:O.isArray(s)?s.map(Gr):String(s)}function T1(s){const n=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=l.exec(s);)n[a[1]]=a[2];return n}const C1=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function tf(s,n,l,a,o){if(O.isFunction(a))return a.call(this,n,l);if(o&&(n=l),!!O.isString(n)){if(O.isString(a))return n.indexOf(a)!==-1;if(O.isRegExp(a))return a.test(n)}}function R1(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,l,a)=>l.toUpperCase()+a)}function A1(s,n){const l=O.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(s,a+l,{value:function(o,c,d){return this[a].call(this,n,o,c,d)},configurable:!0})})}let Ot=class{constructor(n){n&&this.set(n)}set(n,l,a){const o=this;function c(h,g,p){const y=Ql(g);if(!y)throw new Error("header name must be a non-empty string");const b=O.findKey(o,y);(!b||o[b]===void 0||p===!0||p===void 0&&o[b]!==!1)&&(o[b||g]=Gr(h))}const d=(h,g)=>O.forEach(h,(p,y)=>c(p,y,g));if(O.isPlainObject(n)||n instanceof this.constructor)d(n,l);else if(O.isString(n)&&(n=n.trim())&&!C1(n))d(E1(n),l);else if(O.isObject(n)&&O.isIterable(n)){let h={},g,p;for(const y of n){if(!O.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[p=y[0]]=(g=h[p])?O.isArray(g)?[...g,y[1]]:[g,y[1]]:y[1]}d(h,l)}else n!=null&&c(l,n,a);return this}get(n,l){if(n=Ql(n),n){const a=O.findKey(this,n);if(a){const o=this[a];if(!l)return o;if(l===!0)return T1(o);if(O.isFunction(l))return l.call(this,o,a);if(O.isRegExp(l))return l.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,l){if(n=Ql(n),n){const a=O.findKey(this,n);return!!(a&&this[a]!==void 0&&(!l||tf(this,this[a],a,l)))}return!1}delete(n,l){const a=this;let o=!1;function c(d){if(d=Ql(d),d){const h=O.findKey(a,d);h&&(!l||tf(a,a[h],h,l))&&(delete a[h],o=!0)}}return O.isArray(n)?n.forEach(c):c(n),o}clear(n){const l=Object.keys(this);let a=l.length,o=!1;for(;a--;){const c=l[a];(!n||tf(this,this[c],c,n,!0))&&(delete this[c],o=!0)}return o}normalize(n){const l=this,a={};return O.forEach(this,(o,c)=>{const d=O.findKey(a,c);if(d){l[d]=Gr(o),delete l[c];return}const h=n?R1(c):String(c).trim();h!==c&&delete l[c],l[h]=Gr(o),a[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const l=Object.create(null);return O.forEach(this,(a,o)=>{a!=null&&a!==!1&&(l[o]=n&&O.isArray(a)?a.join(", "):a)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,l])=>n+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...l){const a=new this(n);return l.forEach(o=>a.set(o)),a}static accessor(n){const a=(this[Bg]=this[Bg]={accessors:{}}).accessors,o=this.prototype;function c(d){const h=Ql(d);a[h]||(A1(o,d),a[h]=!0)}return O.isArray(n)?n.forEach(c):c(n),this}};Ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Ot.prototype,({value:s},n)=>{let l=n[0].toUpperCase()+n.slice(1);return{get:()=>s,set(a){this[l]=a}}});O.freezeMethods(Ot);function nf(s,n){const l=this||ga,a=n||l,o=Ot.from(a.headers);let c=a.data;return O.forEach(s,function(h){c=h.call(l,c,o.normalize(),n?n.status:void 0)}),o.normalize(),c}function iy(s){return!!(s&&s.__CANCEL__)}function ks(s,n,l){re.call(this,s??"canceled",re.ERR_CANCELED,n,l),this.name="CanceledError"}O.inherits(ks,re,{__CANCEL__:!0});function sy(s,n,l){const a=l.config.validateStatus;!l.status||!a||a(l.status)?s(l):n(new re("Request failed with status code "+l.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function N1(s){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return n&&n[1]||""}function x1(s,n){s=s||10;const l=new Array(s),a=new Array(s);let o=0,c=0,d;return n=n!==void 0?n:1e3,function(g){const p=Date.now(),y=a[c];d||(d=p),l[o]=g,a[o]=p;let b=c,E=0;for(;b!==o;)E+=l[b++],b=b%s;if(o=(o+1)%s,o===c&&(c=(c+1)%s),p-d<n)return;const M=y&&p-y;return M?Math.round(E*1e3/M):void 0}}function w1(s,n){let l=0,a=1e3/n,o,c;const d=(p,y=Date.now())=>{l=y,o=null,c&&(clearTimeout(c),c=null),s(...p)};return[(...p)=>{const y=Date.now(),b=y-l;b>=a?d(p,y):(o=p,c||(c=setTimeout(()=>{c=null,d(o)},a-b)))},()=>o&&d(o)]}const Qr=(s,n,l=3)=>{let a=0;const o=x1(50,250);return w1(c=>{const d=c.loaded,h=c.lengthComputable?c.total:void 0,g=d-a,p=o(g),y=d<=h;a=d;const b={loaded:d,total:h,progress:h?d/h:void 0,bytes:g,rate:p||void 0,estimated:p&&h&&y?(h-d)/p:void 0,event:c,lengthComputable:h!=null,[n?"download":"upload"]:!0};s(b)},l)},Ig=(s,n)=>{const l=s!=null;return[a=>n[0]({lengthComputable:l,total:s,loaded:a}),n[1]]},Hg=s=>(...n)=>O.asap(()=>s(...n)),D1=yt.hasStandardBrowserEnv?((s,n)=>l=>(l=new URL(l,yt.origin),s.protocol===l.protocol&&s.host===l.host&&(n||s.port===l.port)))(new URL(yt.origin),yt.navigator&&/(msie|trident)/i.test(yt.navigator.userAgent)):()=>!0,O1=yt.hasStandardBrowserEnv?{write(s,n,l,a,o,c){const d=[s+"="+encodeURIComponent(n)];O.isNumber(l)&&d.push("expires="+new Date(l).toGMTString()),O.isString(a)&&d.push("path="+a),O.isString(o)&&d.push("domain="+o),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(s){const n=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function M1(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function U1(s,n){return n?s.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):s}function ly(s,n,l){let a=!M1(n);return s&&(a||l==!1)?U1(s,n):n}const kg=s=>s instanceof Ot?{...s}:s;function Li(s,n){n=n||{};const l={};function a(p,y,b,E){return O.isPlainObject(p)&&O.isPlainObject(y)?O.merge.call({caseless:E},p,y):O.isPlainObject(y)?O.merge({},y):O.isArray(y)?y.slice():y}function o(p,y,b,E){if(O.isUndefined(y)){if(!O.isUndefined(p))return a(void 0,p,b,E)}else return a(p,y,b,E)}function c(p,y){if(!O.isUndefined(y))return a(void 0,y)}function d(p,y){if(O.isUndefined(y)){if(!O.isUndefined(p))return a(void 0,p)}else return a(void 0,y)}function h(p,y,b){if(b in n)return a(p,y);if(b in s)return a(void 0,p)}const g={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(p,y,b)=>o(kg(p),kg(y),b,!0)};return O.forEach(Object.keys({...s,...n}),function(y){const b=g[y]||o,E=b(s[y],n[y],y);O.isUndefined(E)&&b!==h||(l[y]=E)}),l}const ay=s=>{const n=Li({},s);let{data:l,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:c,headers:d,auth:h}=n;n.headers=d=Ot.from(d),n.url=ey(ly(n.baseURL,n.url,n.allowAbsoluteUrls),s.params,s.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let g;if(O.isFormData(l)){if(yt.hasStandardBrowserEnv||yt.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((g=d.getContentType())!==!1){const[p,...y]=g?g.split(";").map(b=>b.trim()).filter(Boolean):[];d.setContentType([p||"multipart/form-data",...y].join("; "))}}if(yt.hasStandardBrowserEnv&&(a&&O.isFunction(a)&&(a=a(n)),a||a!==!1&&D1(n.url))){const p=o&&c&&O1.read(c);p&&d.set(o,p)}return n},j1=typeof XMLHttpRequest<"u",L1=j1&&function(s){return new Promise(function(l,a){const o=ay(s);let c=o.data;const d=Ot.from(o.headers).normalize();let{responseType:h,onUploadProgress:g,onDownloadProgress:p}=o,y,b,E,M,D;function k(){M&&M(),D&&D(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let B=new XMLHttpRequest;B.open(o.method.toUpperCase(),o.url,!0),B.timeout=o.timeout;function J(){if(!B)return;const G=Ot.from("getAllResponseHeaders"in B&&B.getAllResponseHeaders()),X={data:!h||h==="text"||h==="json"?B.responseText:B.response,status:B.status,statusText:B.statusText,headers:G,config:s,request:B};sy(function(P){l(P),k()},function(P){a(P),k()},X),B=null}"onloadend"in B?B.onloadend=J:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(J)},B.onabort=function(){B&&(a(new re("Request aborted",re.ECONNABORTED,s,B)),B=null)},B.onerror=function(){a(new re("Network Error",re.ERR_NETWORK,s,B)),B=null},B.ontimeout=function(){let oe=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const X=o.transitional||ty;o.timeoutErrorMessage&&(oe=o.timeoutErrorMessage),a(new re(oe,X.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,s,B)),B=null},c===void 0&&d.setContentType(null),"setRequestHeader"in B&&O.forEach(d.toJSON(),function(oe,X){B.setRequestHeader(X,oe)}),O.isUndefined(o.withCredentials)||(B.withCredentials=!!o.withCredentials),h&&h!=="json"&&(B.responseType=o.responseType),p&&([E,D]=Qr(p,!0),B.addEventListener("progress",E)),g&&B.upload&&([b,M]=Qr(g),B.upload.addEventListener("progress",b),B.upload.addEventListener("loadend",M)),(o.cancelToken||o.signal)&&(y=G=>{B&&(a(!G||G.type?new ks(null,s,B):G),B.abort(),B=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const Z=N1(o.url);if(Z&&yt.protocols.indexOf(Z)===-1){a(new re("Unsupported protocol "+Z+":",re.ERR_BAD_REQUEST,s));return}B.send(c||null)})},z1=(s,n)=>{const{length:l}=s=s?s.filter(Boolean):[];if(n||l){let a=new AbortController,o;const c=function(p){if(!o){o=!0,h();const y=p instanceof Error?p:this.reason;a.abort(y instanceof re?y:new ks(y instanceof Error?y.message:y))}};let d=n&&setTimeout(()=>{d=null,c(new re(`timeout ${n} of ms exceeded`,re.ETIMEDOUT))},n);const h=()=>{s&&(d&&clearTimeout(d),d=null,s.forEach(p=>{p.unsubscribe?p.unsubscribe(c):p.removeEventListener("abort",c)}),s=null)};s.forEach(p=>p.addEventListener("abort",c));const{signal:g}=a;return g.unsubscribe=()=>O.asap(h),g}},B1=function*(s,n){let l=s.byteLength;if(l<n){yield s;return}let a=0,o;for(;a<l;)o=a+n,yield s.slice(a,o),a=o},I1=async function*(s,n){for await(const l of H1(s))yield*B1(l,n)},H1=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const n=s.getReader();try{for(;;){const{done:l,value:a}=await n.read();if(l)break;yield a}}finally{await n.cancel()}},qg=(s,n,l,a)=>{const o=I1(s,n);let c=0,d,h=g=>{d||(d=!0,a&&a(g))};return new ReadableStream({async pull(g){try{const{done:p,value:y}=await o.next();if(p){h(),g.close();return}let b=y.byteLength;if(l){let E=c+=b;l(E)}g.enqueue(new Uint8Array(y))}catch(p){throw h(p),p}},cancel(g){return h(g),o.return()}},{highWaterMark:2})},yo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ry=yo&&typeof ReadableStream=="function",k1=yo&&(typeof TextEncoder=="function"?(s=>n=>s.encode(n))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),oy=(s,...n)=>{try{return!!s(...n)}catch{return!1}},q1=ry&&oy(()=>{let s=!1;const n=new Request(yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!n}),Gg=64*1024,vf=ry&&oy(()=>O.isReadableStream(new Response("").body)),Fr={stream:vf&&(s=>s.body)};yo&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Fr[n]&&(Fr[n]=O.isFunction(s[n])?l=>l[n]():(l,a)=>{throw new re(`Response type '${n}' is not supported`,re.ERR_NOT_SUPPORT,a)})})})(new Response);const G1=async s=>{if(s==null)return 0;if(O.isBlob(s))return s.size;if(O.isSpecCompliantForm(s))return(await new Request(yt.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(O.isArrayBufferView(s)||O.isArrayBuffer(s))return s.byteLength;if(O.isURLSearchParams(s)&&(s=s+""),O.isString(s))return(await k1(s)).byteLength},Y1=async(s,n)=>{const l=O.toFiniteNumber(s.getContentLength());return l??G1(n)},V1=yo&&(async s=>{let{url:n,method:l,data:a,signal:o,cancelToken:c,timeout:d,onDownloadProgress:h,onUploadProgress:g,responseType:p,headers:y,withCredentials:b="same-origin",fetchOptions:E}=ay(s);p=p?(p+"").toLowerCase():"text";let M=z1([o,c&&c.toAbortSignal()],d),D;const k=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let B;try{if(g&&q1&&l!=="get"&&l!=="head"&&(B=await Y1(y,a))!==0){let X=new Request(n,{method:"POST",body:a,duplex:"half"}),ee;if(O.isFormData(a)&&(ee=X.headers.get("content-type"))&&y.setContentType(ee),X.body){const[P,Te]=Ig(B,Qr(Hg(g)));a=qg(X.body,Gg,P,Te)}}O.isString(b)||(b=b?"include":"omit");const J="credentials"in Request.prototype;D=new Request(n,{...E,signal:M,method:l.toUpperCase(),headers:y.normalize().toJSON(),body:a,duplex:"half",credentials:J?b:void 0});let Z=await fetch(D,E);const G=vf&&(p==="stream"||p==="response");if(vf&&(h||G&&k)){const X={};["status","statusText","headers"].forEach(Ie=>{X[Ie]=Z[Ie]});const ee=O.toFiniteNumber(Z.headers.get("content-length")),[P,Te]=h&&Ig(ee,Qr(Hg(h),!0))||[];Z=new Response(qg(Z.body,Gg,P,()=>{Te&&Te(),k&&k()}),X)}p=p||"text";let oe=await Fr[O.findKey(Fr,p)||"text"](Z,s);return!G&&k&&k(),await new Promise((X,ee)=>{sy(X,ee,{data:oe,headers:Ot.from(Z.headers),status:Z.status,statusText:Z.statusText,config:s,request:D})})}catch(J){throw k&&k(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,s,D),{cause:J.cause||J}):re.from(J,J&&J.code,s,D)}}),bf={http:l1,xhr:L1,fetch:V1};O.forEach(bf,(s,n)=>{if(s){try{Object.defineProperty(s,"name",{value:n})}catch{}Object.defineProperty(s,"adapterName",{value:n})}});const Yg=s=>`- ${s}`,Q1=s=>O.isFunction(s)||s===null||s===!1,uy={getAdapter:s=>{s=O.isArray(s)?s:[s];const{length:n}=s;let l,a;const o={};for(let c=0;c<n;c++){l=s[c];let d;if(a=l,!Q1(l)&&(a=bf[(d=String(l)).toLowerCase()],a===void 0))throw new re(`Unknown adapter '${d}'`);if(a)break;o[d||"#"+c]=a}if(!a){const c=Object.entries(o).map(([h,g])=>`adapter ${h} `+(g===!1?"is not supported by the environment":"is not available in the build"));let d=n?c.length>1?`since :
`+c.map(Yg).join(`
`):" "+Yg(c[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a},adapters:bf};function sf(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new ks(null,s)}function Vg(s){return sf(s),s.headers=Ot.from(s.headers),s.data=nf.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),uy.getAdapter(s.adapter||ga.adapter)(s).then(function(a){return sf(s),a.data=nf.call(s,s.transformResponse,a),a.headers=Ot.from(a.headers),a},function(a){return iy(a)||(sf(s),a&&a.response&&(a.response.data=nf.call(s,s.transformResponse,a.response),a.response.headers=Ot.from(a.response.headers))),Promise.reject(a)})}const cy="1.11.0",vo={};["object","boolean","number","function","string","symbol"].forEach((s,n)=>{vo[s]=function(a){return typeof a===s||"a"+(n<1?"n ":" ")+s}});const Qg={};vo.transitional=function(n,l,a){function o(c,d){return"[Axios v"+cy+"] Transitional option '"+c+"'"+d+(a?". "+a:"")}return(c,d,h)=>{if(n===!1)throw new re(o(d," has been removed"+(l?" in "+l:"")),re.ERR_DEPRECATED);return l&&!Qg[d]&&(Qg[d]=!0,console.warn(o(d," has been deprecated since v"+l+" and will be removed in the near future"))),n?n(c,d,h):!0}};vo.spelling=function(n){return(l,a)=>(console.warn(`${a} is likely a misspelling of ${n}`),!0)};function F1(s,n,l){if(typeof s!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const a=Object.keys(s);let o=a.length;for(;o-- >0;){const c=a[o],d=n[c];if(d){const h=s[c],g=h===void 0||d(h,c,s);if(g!==!0)throw new re("option "+c+" must be "+g,re.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new re("Unknown option "+c,re.ERR_BAD_OPTION)}}const Yr={assertOptions:F1,validators:vo},dn=Yr.validators;let ji=class{constructor(n){this.defaults=n||{},this.interceptors={request:new zg,response:new zg}}async request(n,l){try{return await this._request(n,l)}catch(a){if(a instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+c):a.stack=c}catch{}}throw a}}_request(n,l){typeof n=="string"?(l=l||{},l.url=n):l=n||{},l=Li(this.defaults,l);const{transitional:a,paramsSerializer:o,headers:c}=l;a!==void 0&&Yr.assertOptions(a,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),o!=null&&(O.isFunction(o)?l.paramsSerializer={serialize:o}:Yr.assertOptions(o,{encode:dn.function,serialize:dn.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Yr.assertOptions(l,{baseUrl:dn.spelling("baseURL"),withXsrfToken:dn.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let d=c&&O.merge(c.common,c[l.method]);c&&O.forEach(["delete","get","head","post","put","patch","common"],D=>{delete c[D]}),l.headers=Ot.concat(d,c);const h=[];let g=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(l)===!1||(g=g&&k.synchronous,h.unshift(k.fulfilled,k.rejected))});const p=[];this.interceptors.response.forEach(function(k){p.push(k.fulfilled,k.rejected)});let y,b=0,E;if(!g){const D=[Vg.bind(this),void 0];for(D.unshift(...h),D.push(...p),E=D.length,y=Promise.resolve(l);b<E;)y=y.then(D[b++],D[b++]);return y}E=h.length;let M=l;for(b=0;b<E;){const D=h[b++],k=h[b++];try{M=D(M)}catch(B){k.call(this,B);break}}try{y=Vg.call(this,M)}catch(D){return Promise.reject(D)}for(b=0,E=p.length;b<E;)y=y.then(p[b++],p[b++]);return y}getUri(n){n=Li(this.defaults,n);const l=ly(n.baseURL,n.url,n.allowAbsoluteUrls);return ey(l,n.params,n.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(n){ji.prototype[n]=function(l,a){return this.request(Li(a||{},{method:n,url:l,data:(a||{}).data}))}});O.forEach(["post","put","patch"],function(n){function l(a){return function(c,d,h){return this.request(Li(h||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}ji.prototype[n]=l(),ji.prototype[n+"Form"]=l(!0)});let X1=class fy{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(c){l=c});const a=this;this.promise.then(o=>{if(!a._listeners)return;let c=a._listeners.length;for(;c-- >0;)a._listeners[c](o);a._listeners=null}),this.promise.then=o=>{let c;const d=new Promise(h=>{a.subscribe(h),c=h}).then(o);return d.cancel=function(){a.unsubscribe(c)},d},n(function(c,d,h){a.reason||(a.reason=new ks(c,d,h),l(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const l=this._listeners.indexOf(n);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const n=new AbortController,l=a=>{n.abort(a)};return this.subscribe(l),n.signal.unsubscribe=()=>this.unsubscribe(l),n.signal}static source(){let n;return{token:new fy(function(o){n=o}),cancel:n}}};function P1(s){return function(l){return s.apply(null,l)}}function K1(s){return O.isObject(s)&&s.isAxiosError===!0}const Sf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sf).forEach(([s,n])=>{Sf[n]=s});function dy(s){const n=new ji(s),l=G_(ji.prototype.request,n);return O.extend(l,ji.prototype,n,{allOwnKeys:!0}),O.extend(l,n,null,{allOwnKeys:!0}),l.create=function(o){return dy(Li(s,o))},l}const Xe=dy(ga);Xe.Axios=ji;Xe.CanceledError=ks;Xe.CancelToken=X1;Xe.isCancel=iy;Xe.VERSION=cy;Xe.toFormData=_o;Xe.AxiosError=re;Xe.Cancel=Xe.CanceledError;Xe.all=function(n){return Promise.all(n)};Xe.spread=P1;Xe.isAxiosError=K1;Xe.mergeConfig=Li;Xe.AxiosHeaders=Ot;Xe.formToJSON=s=>ny(O.isHTMLForm(s)?new FormData(s):s);Xe.getAdapter=uy.getAdapter;Xe.HttpStatusCode=Sf;Xe.default=Xe;const{Axios:aN,AxiosError:rN,CanceledError:oN,isCancel:uN,CancelToken:cN,VERSION:fN,all:dN,Cancel:hN,isAxiosError:mN,spread:pN,toFormData:gN,AxiosHeaders:_N,HttpStatusCode:yN,formToJSON:vN,getAdapter:bN,mergeConfig:SN}=Xe,Ir="http://localhost:5001",Fg=()=>{const[s,n]=ae.useState(!1),[l,a]=ae.useState({model_loaded:!1,firebase_connected:!1,last_detection:0,detection_cooldown:0,auto_clear_delay:0,auto_clear_timer:{active:!1,remaining_seconds:0}}),[o,c]=ae.useState([]),[d,h]=ae.useState(""),[g,p]=ae.useState("connecting"),[y,b]=ae.useState(""),[E,M]=ae.useState(""),D=`${Ir}/video_feed`,k=ae.useRef(null);ae.useEffect(()=>{M(`Connecting to: ${Ir} from: ${window.location.origin}`);const G=()=>{Xe.get(`${Ir}/status`,{timeout:5e3,headers:{"Content-Type":"application/json"}}).then(ee=>{if(a(ee.data),p("connected"),n(!1),h(""),ee.data.last_detection&&ee.data.last_detection>0){const P=new Date(ee.data.last_detection*1e3),Te={type:ee.data.auto_clear_timer.active?"Dust Detected":"System Clear",timestamp:P.toLocaleString(),status:ee.data.auto_clear_timer.active?"active":"cleared"};c(Ie=>Ie.find(Me=>Math.abs(new Date(Me.timestamp).getTime()-P.getTime())<5e3)?Ie:[Te,...Ie.slice(0,9)])}}).catch(ee=>{console.error("Status API error:",ee),p("disconnected");let P="Connection failed";ee.code==="ERR_NETWORK"?P="Network error - Is Flask server running on port 5000?":ee.message.includes("CORS")?P="CORS error - Check Flask server CORS configuration":ee.response&&(P=`Server error: ${ee.response.status}`),h(P),n(!0)})};(()=>{Xe.get(`${Ir}/test`).then(ee=>{console.log("API Test successful:",ee.data)}).catch(ee=>{console.error("API Test failed:",ee)})})(),G();const X=setInterval(G,1e3);return()=>clearInterval(X)},[]);const B=()=>{b("Clearing detection..."),setTimeout(()=>{b("System will auto-clear when no dust is detected")},1e3),setTimeout(()=>b(""),3e3)},J=G=>G?new Date(G*1e3).toLocaleString():"Never",Z=()=>{switch(g){case"connected":return"🟢";case"disconnected":return"🔴";default:return"🟡"}};return v.jsxs("div",{className:"dashboard-container",children:[v.jsx("div",{className:"dashboard-header",children:v.jsx("h1",{children:"🌞 Solar Panel Dust Detection System"})}),v.jsxs("div",{className:"main-content",children:[v.jsx("div",{className:"video-section",children:v.jsx("div",{className:"video-feed-container",children:s?v.jsxs("div",{className:"error-overlay",children:[v.jsx("p",{children:"📷 Camera Feed Unavailable"}),v.jsx("span",{children:"Could not connect to the dust detection camera."}),v.jsx("br",{}),v.jsxs("small",{style:{color:"#ff6b6b",marginTop:"10px",display:"block"},children:[Z()," Server: ",g,d&&` - ${d}`]})]}):v.jsx("img",{ref:k,src:`${D}?t=${Date.now()}`,alt:"Solar Panel Dust Detection Feed",onError:()=>n(!0),onLoad:()=>n(!1)})})}),v.jsxs("div",{className:"side-panel",children:[v.jsxs("div",{className:"registration-panel card",children:[v.jsxs("h2",{children:[v.jsx("i",{className:"fas fa-cogs"}),"System Status"]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("span",{style:{color:"var(--text-secondary)"},children:[v.jsx("i",{className:"fas fa-robot"})," AI Model:"]}),v.jsx("span",{style:{color:l.model_loaded?"var(--authorised-color)":"var(--unauthorised-color)",fontWeight:"600"},children:l.model_loaded?"Loaded ✅":"Failed ❌"})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("span",{style:{color:"var(--text-secondary)"},children:[v.jsx("i",{className:"fas fa-database"})," Firebase:"]}),v.jsx("span",{style:{color:l.firebase_connected?"var(--authorised-color)":"var(--unauthorised-color)",fontWeight:"600"},children:l.firebase_connected?"Connected ✅":"Disconnected ❌"})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("span",{style:{color:"var(--text-secondary)"},children:[v.jsx("i",{className:"fas fa-clock"})," Auto-Clear Timer:"]}),v.jsxs("span",{style:{color:"var(--text-primary)",fontWeight:"600"},children:[l.auto_clear_delay,"s"]})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("span",{style:{color:"var(--text-secondary)"},children:[Z()," Connection:"]}),v.jsx("span",{style:{color:"var(--text-primary)",fontWeight:"600"},children:g})]})]}),v.jsxs("button",{className:"registration-button",onClick:B,style:{marginTop:"15px"},children:[v.jsx("i",{className:"fas fa-broom"})," System Info"]}),y&&v.jsx("p",{className:"registration-status",children:y}),E&&v.jsx("div",{style:{marginTop:"10px",padding:"8px",background:"var(--bg-secondary)",borderRadius:"4px",fontSize:"0.75rem",color:"var(--text-muted)"},children:E})]}),v.jsxs("div",{className:"history-panel card",children:[v.jsxs("h3",{children:[v.jsx("i",{className:"fas fa-eye",style:{color:l.auto_clear_timer.active?"#f39c12":"var(--authorised-color)"}}),"Detection Status"]}),l.auto_clear_timer.active?v.jsxs("div",{style:{background:"rgba(243, 156, 18, 0.1)",border:"1px solid rgba(243, 156, 18, 0.3)",borderRadius:"8px",padding:"15px",textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#f39c12",marginBottom:"10px"},children:["⏰ ",Math.ceil(l.auto_clear_timer.remaining_seconds),"s"]}),v.jsx("div",{style:{width:"100%",height:"8px",background:"var(--bg-secondary)",borderRadius:"4px",overflow:"hidden",marginBottom:"8px"},children:v.jsx("div",{style:{height:"100%",background:"linear-gradient(90deg, #f39c12, #e67e22)",width:`${l.auto_clear_timer.remaining_seconds/l.auto_clear_delay*100}%`,transition:"width 1s linear",borderRadius:"4px"}})}),v.jsx("small",{style:{color:"#f39c12",fontStyle:"italic"},children:"🚨 Dust detected! Auto-clearing Firebase..."})]}):v.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:[v.jsx("div",{style:{fontSize:"1.1rem",marginBottom:"8px"},children:"✅ System Clear"}),v.jsx("small",{children:"Monitoring for dust detection..."})]}),v.jsxs("div",{style:{marginTop:"15px",padding:"10px 0",borderTop:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"0.9rem",color:"var(--text-secondary)"},children:[v.jsx("strong",{children:"Last Detection:"}),v.jsx("br",{}),J(l.last_detection)]})]}),v.jsxs("div",{className:"history-panel card",children:[v.jsxs("h3",{children:[v.jsx("i",{className:"fas fa-history"}),"Recent Activity"]}),v.jsx("ul",{className:"history-list",children:o.length>0?o.slice(0,5).map((G,oe)=>v.jsxs("li",{className:`history-item ${G.status==="active"?"unauthorised":"authorised"}`,children:[v.jsxs("span",{children:[G.status==="active"?"🔴":"🟢"," ",G.type]}),v.jsx("span",{className:"history-time",children:new Date(G.timestamp).toLocaleTimeString()})]},oe)):v.jsx("li",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)",fontStyle:"italic"},children:"No recent detections"})})]}),v.jsxs("div",{className:"history-panel card",children:[v.jsxs("h3",{children:[v.jsx("i",{className:"fas fa-info-circle"}),"System Info"]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:[v.jsxs("div",{children:[v.jsx("strong",{style:{color:"var(--text-primary)"},children:"Model:"})," YOLOv8 (best.pt)"]}),v.jsxs("div",{children:[v.jsx("strong",{style:{color:"var(--text-primary)"},children:"Confidence:"})," 0.5 threshold"]}),v.jsxs("div",{children:[v.jsx("strong",{style:{color:"var(--text-primary)"},children:"Camera:"})," V380 Pro"]}),v.jsxs("div",{children:[v.jsx("strong",{style:{color:"var(--text-primary)"},children:"Firebase Path:"})," /24_Robot/detection"]}),v.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"var(--bg-glass)",borderRadius:"6px",fontSize:"0.85rem",fontStyle:"italic"},children:[v.jsx("strong",{children:"Logic:"})," Dust detected → Set to 1 → Auto-clear to 0 after 10s"]})]})]})]})]})]})},Z1=()=>{};var Xg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(s,n){if(!s)throw qs(n)},qs=function(s){return new Error("Firebase Database ("+hy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=function(s){const n=[];let l=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},W1=function(s){const n=[];let l=0,a=0;for(;l<s.length;){const o=s[l++];if(o<128)n[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[l++];n[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[l++],d=s[l++],h=s[l++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|h&63)-65536;n[a++]=String.fromCharCode(55296+(g>>10)),n[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[l++],d=s[l++];n[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return n.join("")},Xf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,h=d?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,y=c>>2,b=(c&3)<<4|h>>4;let E=(h&15)<<2|p>>6,M=p&63;g||(M=64,d||(E=64)),a.push(l[y],l[b],l[E],l[M])}return a.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(my(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):W1(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=l[s.charAt(o++)],h=o<s.length?l[s.charAt(o)]:0;++o;const p=o<s.length?l[s.charAt(o)]:64;++o;const b=o<s.length?l[s.charAt(o)]:64;if(++o,c==null||h==null||p==null||b==null)throw new J1;const E=c<<2|h>>4;if(a.push(E),p!==64){const M=h<<4&240|p>>2;if(a.push(M),b!==64){const D=p<<6&192|b;a.push(D)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class J1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const py=function(s){const n=my(s);return Xf.encodeByteArray(n,!0)},Xr=function(s){return py(s).replace(/\./g,"")},Ef=function(s){try{return Xf.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(s){return gy(void 0,s)}function gy(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!eE(l)||(s[l]=gy(s[l],n[l]));return s}function eE(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=()=>tE().__FIREBASE_DEFAULTS__,iE=()=>{if(typeof process>"u"||typeof Xg>"u")return;const s=Xg.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&Ef(s[1]);return n&&JSON.parse(n)},_y=()=>{try{return Z1()||nE()||iE()||sE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},lE=s=>_y()?.emulatorHosts?.[s],aE=s=>{const n=lE(s);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const a=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),a]:[n.substring(0,l),a]},yy=()=>_y()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,a)=>{l?this.reject(l):this.resolve(a),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},a=n||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xr(JSON.stringify(l)),Xr(JSON.stringify(d)),""].join(".")}const Zl={};function uE(){const s={prod:[],emulator:[]};for(const n of Object.keys(Zl))Zl[n]?s.emulator.push(n):s.prod.push(n);return s}function cE(s){let n=document.getElementById(s),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),l=!0),{created:l,element:n}}let Pg=!1;function fE(s,n){if(typeof window>"u"||typeof document>"u"||!Pf(window.location.host)||Zl[s]===n||Zl[s]||Pg)return;Zl[s]=n;function l(E){return`__firebase__banner__${E}`}const a="__firebase__banner",c=uE().prod.length>0;function d(){const E=document.getElementById(a);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,M){E.setAttribute("width","24"),E.setAttribute("id",M),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Pg=!0,d()},E}function y(E,M){E.setAttribute("id",M),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=cE(a),M=l("text"),D=document.getElementById(M)||document.createElement("span"),k=l("learnmore"),B=document.getElementById(k)||document.createElement("a"),J=l("preprendIcon"),Z=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;h(G),y(B,k);const oe=p();g(Z,J),G.append(Z,D,B,oe),document.body.appendChild(G)}c?(D.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dE())}function hE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mE(){return hy.NODE_ADMIN===!0}function pE(){try{return typeof indexedDB=="object"}catch{return!1}}function gE(){return new Promise((s,n)=>{try{let l=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="FirebaseError";class ya extends Error{constructor(n,l,a){super(l),this.code=n,this.customData=a,this.name=_E,Object.setPrototypeOf(this,ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,by.prototype.create)}}class by{constructor(n,l,a){this.service=n,this.serviceName=l,this.errors=a}create(n,...l){const a=l[0]||{},o=`${this.service}/${n}`,c=this.errors[n],d=c?yE(c,a):"Error",h=`${this.serviceName}: ${d} (${o}).`;return new ya(o,h,a)}}function yE(s,n){return s.replace(vE,(l,a)=>{const o=n[a];return o!=null?String(o):`<${a}?>`})}const vE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(s){return JSON.parse(s)}function rt(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=function(s){let n={},l={},a={},o="";try{const c=s.split(".");n=ia(Ef(c[0])||""),l=ia(Ef(c[1])||""),o=c[2],a=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:a,signature:o}},bE=function(s){const n=Sy(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},SE=function(s){const n=Sy(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function Us(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Kg(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Pr(s,n,l){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=n.call(l,s[o],o,s));return a}function Kr(s,n){if(s===n)return!0;const l=Object.keys(s),a=Object.keys(n);for(const o of l){if(!a.includes(o))return!1;const c=s[o],d=n[o];if(Zg(c)&&Zg(d)){if(!Kr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!l.includes(o))return!1;return!0}function Zg(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(s){const n=[];for(const[l,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(a));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const a=this.W_;if(typeof n=="string")for(let b=0;b<16;b++)a[b]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let b=0;b<16;b++)a[b]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let b=16;b<80;b++){const E=a[b-3]^a[b-8]^a[b-14]^a[b-16];a[b]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],d=this.chain_[2],h=this.chain_[3],g=this.chain_[4],p,y;for(let b=0;b<80;b++){b<40?b<20?(p=h^c&(d^h),y=1518500249):(p=c^d^h,y=1859775393):b<60?(p=c&d|h&(c|d),y=2400959708):(p=c^d^h,y=3395469782);const E=(o<<5|o>>>27)+p+g+y+a[b]&4294967295;g=h,h=d,d=(c<<30|c>>>2)&4294967295,c=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const a=l-this.blockSize;let o=0;const c=this.buf_;let d=this.inbuf_;for(;o<l;){if(d===0)for(;o<=a;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(c[d]=n.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}else for(;o<l;)if(c[d]=n[o],++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)n[a]=this.chain_[o]>>c&255,++a;return n}}function bo(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=function(s){const n=[];let l=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const c=o-55296;a++,Y(a<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(a)-56320;o=65536+(c<<10)+d}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},So=function(s){let n=0;for(let l=0;l<s.length;l++){const a=s.charCodeAt(l);a<128?n++:a<2048?n+=2:a>=55296&&a<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(s){return s&&s._delegate?s._delegate:s}class sa{constructor(n,l,a){this.name=n,this.instanceFactory=l,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const a=new _a;if(this.instancesDeferred.set(l,a),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),a=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(NE(n))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[l,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(n=Di){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Di){return this.instances.has(n)}getOptions(n=Di){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,a=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:l});for(const[c,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);a===h&&d.resolve(o)}return o}onInit(n,l){const a=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(a)??new Set;o.add(n),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&n(c,a),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const a=this.onInitCallbacks.get(l);if(a)for(const o of a)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AE(n),options:l}),this.instances.set(n,a),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch{}return a||null}normalizeInstanceIdentifier(n=Di){return this.component?this.component.multipleInstances?n:Di:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AE(s){return s===Di?void 0:s}function NE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new RE(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const wE={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},DE=Le.INFO,OE={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},ME=(s,n,...l)=>{if(n<s.logLevel)return;const a=new Date().toISOString(),o=OE[n];if(o)console[o](`[${a}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Ey{constructor(n){this.name=n,this._logLevel=DE,this._logHandler=ME,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Le))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?wE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...n),this._logHandler(this,Le.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...n),this._logHandler(this,Le.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...n),this._logHandler(this,Le.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...n),this._logHandler(this,Le.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...n),this._logHandler(this,Le.ERROR,...n)}}const UE=(s,n)=>n.some(l=>s instanceof l);let Wg,Jg;function jE(){return Wg||(Wg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LE(){return Jg||(Jg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ty=new WeakMap,Tf=new WeakMap,Cy=new WeakMap,lf=new WeakMap,Kf=new WeakMap;function zE(s){const n=new Promise((l,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{l(ai(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return n.then(l=>{l instanceof IDBCursor&&Ty.set(l,s)}).catch(()=>{}),Kf.set(n,s),n}function BE(s){if(Tf.has(s))return;const n=new Promise((l,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{l(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Tf.set(s,n)}let Cf={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return Tf.get(s);if(n==="objectStoreNames")return s.objectStoreNames||Cy.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ai(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function IE(s){Cf=s(Cf)}function HE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const a=s.call(af(this),n,...l);return Cy.set(a,n.sort?n.sort():[n]),ai(a)}:LE().includes(s)?function(...n){return s.apply(af(this),n),ai(Ty.get(this))}:function(...n){return ai(s.apply(af(this),n))}}function kE(s){return typeof s=="function"?HE(s):(s instanceof IDBTransaction&&BE(s),UE(s,jE())?new Proxy(s,Cf):s)}function ai(s){if(s instanceof IDBRequest)return zE(s);if(lf.has(s))return lf.get(s);const n=kE(s);return n!==s&&(lf.set(s,n),Kf.set(n,s)),n}const af=s=>Kf.get(s);function qE(s,n,{blocked:l,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,n),h=ai(d);return a&&d.addEventListener("upgradeneeded",g=>{a(ai(d.result),g.oldVersion,g.newVersion,ai(d.transaction),g)}),l&&d.addEventListener("blocked",g=>l(g.oldVersion,g.newVersion,g)),h.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const GE=["get","getKey","getAll","getAllKeys","count"],YE=["put","add","delete","clear"],rf=new Map;function $g(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(rf.get(n))return rf.get(n);const l=n.replace(/FromIndex$/,""),a=n!==l,o=YE.includes(l);if(!(l in(a?IDBIndex:IDBObjectStore).prototype)||!(o||GE.includes(l)))return;const c=async function(d,...h){const g=this.transaction(d,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(h.shift())),(await Promise.all([p[l](...h),o&&g.done]))[0]};return rf.set(n,c),c}IE(s=>({...s,get:(n,l,a)=>$g(n,l)||s.get(n,l,a),has:(n,l)=>!!$g(n,l)||s.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(QE(l)){const a=l.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(l=>l).join(" ")}}function QE(s){return s.getComponent()?.type==="VERSION"}const Rf="@firebase/app",e_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new Ey("@firebase/app"),FE="@firebase/app-compat",XE="@firebase/analytics-compat",PE="@firebase/analytics",KE="@firebase/app-check-compat",ZE="@firebase/app-check",WE="@firebase/auth",JE="@firebase/auth-compat",$E="@firebase/database",eT="@firebase/data-connect",tT="@firebase/database-compat",nT="@firebase/functions",iT="@firebase/functions-compat",sT="@firebase/installations",lT="@firebase/installations-compat",aT="@firebase/messaging",rT="@firebase/messaging-compat",oT="@firebase/performance",uT="@firebase/performance-compat",cT="@firebase/remote-config",fT="@firebase/remote-config-compat",dT="@firebase/storage",hT="@firebase/storage-compat",mT="@firebase/firestore",pT="@firebase/ai",gT="@firebase/firestore-compat",_T="firebase",yT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]",vT={[Rf]:"fire-core",[FE]:"fire-core-compat",[PE]:"fire-analytics",[XE]:"fire-analytics-compat",[ZE]:"fire-app-check",[KE]:"fire-app-check-compat",[WE]:"fire-auth",[JE]:"fire-auth-compat",[$E]:"fire-rtdb",[eT]:"fire-data-connect",[tT]:"fire-rtdb-compat",[nT]:"fire-fn",[iT]:"fire-fn-compat",[sT]:"fire-iid",[lT]:"fire-iid-compat",[aT]:"fire-fcm",[rT]:"fire-fcm-compat",[oT]:"fire-perf",[uT]:"fire-perf-compat",[cT]:"fire-rc",[fT]:"fire-rc-compat",[dT]:"fire-gcs",[hT]:"fire-gcs-compat",[mT]:"fire-fst",[gT]:"fire-fst-compat",[pT]:"fire-vertex","fire-js":"fire-js",[_T]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Map,bT=new Map,Nf=new Map;function t_(s,n){try{s.container.addComponent(n)}catch(l){Un.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function Wr(s){const n=s.name;if(Nf.has(n))return Un.debug(`There were multiple attempts to register component ${n}.`),!1;Nf.set(n,s);for(const l of Zr.values())t_(l,s);for(const l of bT.values())t_(l,s);return!0}function ST(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}function ET(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new by("app","Firebase",TT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(n,l,a){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=yT;function Ry(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const a={name:Af,automaticDataCollectionEnabled:!0,...n},o=a.name;if(typeof o!="string"||!o)throw ri.create("bad-app-name",{appName:String(o)});if(l||(l=yy()),!l)throw ri.create("no-options");const c=Zr.get(o);if(c){if(Kr(l,c.options)&&Kr(a,c.config))return c;throw ri.create("duplicate-app",{appName:o})}const d=new xE(o);for(const g of Nf.values())d.addComponent(g);const h=new CT(l,a,d);return Zr.set(o,h),h}function AT(s=Af){const n=Zr.get(s);if(!n&&s===Af&&yy())return Ry();if(!n)throw ri.create("no-app",{appName:s});return n}function ws(s,n,l){let a=vT[s]??s;l&&(a+=`-${l}`);const o=a.match(/\s|\//),c=n.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${n}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Un.warn(d.join(" "));return}Wr(new sa(`${a}-version`,()=>({library:a,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebase-heartbeat-database",xT=1,la="firebase-heartbeat-store";let of=null;function Ay(){return of||(of=qE(NT,xT,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(la)}catch(l){console.warn(l)}}}}).catch(s=>{throw ri.create("idb-open",{originalErrorMessage:s.message})})),of}async function wT(s){try{const l=(await Ay()).transaction(la),a=await l.objectStore(la).get(Ny(s));return await l.done,a}catch(n){if(n instanceof ya)Un.warn(n.message);else{const l=ri.create("idb-get",{originalErrorMessage:n?.message});Un.warn(l.message)}}}async function n_(s,n){try{const a=(await Ay()).transaction(la,"readwrite");await a.objectStore(la).put(n,Ny(s)),await a.done}catch(l){if(l instanceof ya)Un.warn(l.message);else{const a=ri.create("idb-set",{originalErrorMessage:l?.message});Un.warn(a.message)}}}function Ny(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=1024,OT=30;class MT{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new jT(l),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:l}),this._heartbeatsCache.heartbeats.length>OT){const o=LT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Un.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:l,unsentEntries:a}=UT(this._heartbeatsCache.heartbeats),o=Xr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Un.warn(n),""}}}function i_(){return new Date().toISOString().substring(0,10)}function UT(s,n=DT){const l=[];let a=s.slice();for(const o of s){const c=l.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),s_(l)>n){c.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),s_(l)>n){l.pop();break}a=a.slice(1)}return{heartbeatsToSend:l,unsentEntries:a}}class jT{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pE()?gE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await wT(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return n_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return n_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...n.heartbeats]})}else return}}function s_(s){return Xr(JSON.stringify({version:2,heartbeats:s})).length}function LT(s){if(s.length===0)return-1;let n=0,l=s[0].date;for(let a=1;a<s.length;a++)s[a].date<l&&(l=s[a].date,n=a);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(s){Wr(new sa("platform-logger",n=>new VE(n),"PRIVATE")),Wr(new sa("heartbeat",n=>new MT(n),"PRIVATE")),ws(Rf,e_,s),ws(Rf,e_,"esm2020"),ws("fire-js","")}zT("");var BT="firebase",IT="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(BT,IT,"app");var l_={};const a_="@firebase/database",r_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xy="";function HT(s){xy=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),rt(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:ia(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return hn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new kT(n)}}catch{}return new qT},Ui=wy("localStorage"),GT=wy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Ey("@firebase/database"),YT=(function(){let s=1;return function(){return s++}})(),Dy=function(s){const n=CE(s),l=new TE;l.update(n);const a=l.digest();return Xf.encodeByteArray(a)},va=function(...s){let n="";for(let l=0;l<s.length;l++){const a=s[l];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?n+=va.apply(null,a):typeof a=="object"?n+=rt(a):n+=a,n+=" "}return n};let Wl=null,o_=!0;const VT=function(s,n){Y(!0,"Can't turn on custom loggers persistently."),Ds.logLevel=Le.VERBOSE,Wl=Ds.log.bind(Ds)},ft=function(...s){if(o_===!0&&(o_=!1,Wl===null&&GT.get("logging_enabled")===!0&&VT()),Wl){const n=va.apply(null,s);Wl(n)}},ba=function(s){return function(...n){ft(s,...n)}},xf=function(...s){const n="FIREBASE INTERNAL ERROR: "+va(...s);Ds.error(n)},jn=function(...s){const n=`FIREBASE FATAL ERROR: ${va(...s)}`;throw Ds.error(n),new Error(n)},bt=function(...s){const n="FIREBASE WARNING: "+va(...s);Ds.warn(n)},QT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zf=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},FT=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},js="[MIN_NAME]",zi="[MAX_NAME]",ki=function(s,n){if(s===n)return 0;if(s===js||n===zi)return-1;if(n===js||s===zi)return 1;{const l=u_(s),a=u_(n);return l!==null?a!==null?l-a===0?s.length-n.length:l-a:-1:a!==null?1:s<n?-1:1}},XT=function(s,n){return s===n?0:s<n?-1:1},Fl=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+rt(n))},Wf=function(s){if(typeof s!="object"||s===null)return rt(s);const n=[];for(const a in s)n.push(a);n.sort();let l="{";for(let a=0;a<n.length;a++)a!==0&&(l+=","),l+=rt(n[a]),l+=":",l+=Wf(s[n[a]]);return l+="}",l},Oy=function(s,n){const l=s.length;if(l<=n)return[s];const a=[];for(let o=0;o<l;o+=n)o+n>l?a.push(s.substring(o,l)):a.push(s.substring(o,o+n));return a};function dt(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const My=function(s){Y(!Zf(s),"Invalid JSON number");const n=11,l=52,a=(1<<n-1)-1;let o,c,d,h,g;s===0?(c=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(h=Math.min(Math.floor(Math.log(s)/Math.LN2),a),c=h+a,d=Math.round(s*Math.pow(2,l-h)-Math.pow(2,l))):(c=0,d=Math.round(s/Math.pow(2,1-a-l))));const p=[];for(g=l;g;g-=1)p.push(d%2?1:0),d=Math.floor(d/2);for(g=n;g;g-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(o?1:0),p.reverse();const y=p.join("");let b="";for(g=0;g<64;g+=8){let E=parseInt(y.substr(g,8),2).toString(16);E.length===1&&(E="0"+E),b=b+E}return b.toLowerCase()},PT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},KT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ZT(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const a=new Error(s+" at "+n._path.toString()+": "+l);return a.code=s.toUpperCase(),a}const WT=new RegExp("^-?(0*)\\d{1,10}$"),JT=-2147483648,$T=2147483647,u_=function(s){if(WT.test(s)){const n=Number(s);if(n>=JT&&n<=$T)return n}return null},Ys=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw bt("Exception was thrown by user callback.",l),n},Math.floor(0))}},eC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jl=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,ET(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(a=>this.appCheck=a)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,a)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,a):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(n,l,a){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,a)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,a):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(n)}}class Vr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Vr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="5",Uy="v",jy="s",Ly="r",zy="f",By=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Iy="ls",Hy="p",wf="ac",ky="websocket",qy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(n,l,a,o,c=!1,d="",h=!1,g=!1,p=null){this.secure=l,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function iC(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Yy(s,n,l){Y(typeof n=="string","typeof type must == string"),Y(typeof l=="object","typeof params must == object");let a;if(n===ky)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===qy)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);iC(s)&&(l.ns=s.namespace);const o=[];return dt(l,(c,d)=>{o.push(c+"="+d)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.counters_={}}incrementCounter(n,l=1){hn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return $1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf={},cf={};function $f(s){const n=s.toString();return uf[n]||(uf[n]=new sC),uf[n]}function lC(s,n){const l=s.toString();return cf[l]||(cf[l]=n()),cf[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Ys(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="start",rC="close",oC="pLPCommand",uC="pRTLPCB",Vy="id",Qy="pw",Fy="ser",cC="cb",fC="seg",dC="ts",hC="d",mC="dframe",Xy=1870,Py=30,pC=Xy-Py,gC=25e3,_C=3e4;class xs{constructor(n,l,a,o,c,d,h){this.connId=n,this.repoInfo=l,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ba(n),this.stats_=$f(l),this.urlFn=g=>(this.appCheckToken&&(g[wf]=this.appCheckToken),Yy(l,qy,g))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new aC(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_C)),FT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ed((...c)=>{const[d,h,g,p,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===c_)this.id=h,this.password=g;else if(d===rC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const a={};a[c_]="t",a[Fy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[cC]=this.scriptTagHolder.uniqueCallbackIdentifier),a[Uy]=Jf,this.transportSessionId&&(a[jy]=this.transportSessionId),this.lastSessionId&&(a[Iy]=this.lastSessionId),this.applicationId&&(a[Hy]=this.applicationId),this.appCheckToken&&(a[wf]=this.appCheckToken),typeof location<"u"&&location.hostname&&By.test(location.hostname)&&(a[Ly]=zy);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xs.forceAllow_=!0}static forceDisallow(){xs.forceDisallow_=!0}static isAvailable(){return xs.forceAllow_?!0:!xs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!PT()&&!KT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=rt(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const a=py(l),o=Oy(a,pC);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const a={};a[mC]="t",a[Vy]=n,a[Qy]=l,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=rt(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class ed{constructor(n,l,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=YT(),window[oC+this.uniqueCallbackIdentifier]=n,window[uC+this.uniqueCallbackIdentifier]=l,this.myIFrame=ed.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){ft("frame writing exception"),h.stack&&ft(h.stack),ft(h)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||ft("No IE domain setting required")}catch{const a=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Vy]=this.myID,n[Qy]=this.myPW,n[Fy]=this.currentSerial;let l=this.urlFn(n),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Py+a.length<=Xy;){const d=this.pendingSegs.shift();a=a+"&"+fC+o+"="+d.seg+"&"+dC+o+"="+d.ts+"&"+hC+o+"="+d.d,o++}return l=l+a,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,a){this.pendingSegs.push({seg:n,ts:l,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const a=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(a,Math.floor(gC)),c=()=>{clearTimeout(o),a()};this.addTag(n,c)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=n,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),l())},a.onerror=()=>{ft("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=16384,vC=45e3;let Jr=null;typeof MozWebSocket<"u"?Jr=MozWebSocket:typeof WebSocket<"u"&&(Jr=WebSocket);class en{constructor(n,l,a,o,c,d,h){this.connId=n,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ba(this.connId),this.stats_=$f(l),this.connURL=en.connectionURL_(l,d,h,o,a),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,a,o,c){const d={};return d[Uy]=Jf,typeof location<"u"&&location.hostname&&By.test(location.hostname)&&(d[Ly]=zy),l&&(d[jy]=l),a&&(d[Iy]=a),o&&(d[wf]=o),c&&(d[Hy]=c),Yy(n,ky,d)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let a;mE(),this.mySock=new Jr(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){en.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(l);a&&a.length>1&&parseFloat(a[1])<4.4&&(n=!0)}return!n&&Jr!==null&&!en.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const a=ia(l);this.onMessage(a)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(Y(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const a=this.extractFrameCount_(l);a!==null&&this.appendFrame_(a)}}send(n){this.resetKeepAlive();const l=rt(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const a=Oy(l,yC);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vC))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}en.responsesRequiredToBeHealthy=2;en.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{static get ALL_TRANSPORTS(){return[xs,en]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=en&&en.isAvailable();let a=l&&!en.previouslyFailed();if(n.webSocketOnly&&(l||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[en];else{const o=this.transports_=[];for(const c of aa.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);aa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}aa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=6e4,SC=5e3,EC=10*1024,TC=100*1024,ff="t",f_="d",CC="s",d_="r",RC="e",h_="o",m_="a",p_="n",g_="p",AC="h";class NC{constructor(n,l,a,o,c,d,h,g,p,y){this.id=n,this.repoInfo_=l,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ba("c:"+this.id+":"),this.transportManager_=new aa(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,a)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Jl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>EC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(ff in n){const l=n[ff];l===m_?this.upgradeIfSecondaryHealthy_():l===d_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===h_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Fl("t",n),a=Fl("d",n);if(l==="c")this.onSecondaryControl_(a);else if(l==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:g_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:m_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:p_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Fl("t",n),a=Fl("d",n);l==="c"?this.onControl_(a):l==="d"&&this.onDataMessage_(a)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Fl(ff,n);if(f_ in n){const a=n[f_];if(l===AC){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===p_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===CC?this.onConnectionShutdown_(a):l===d_?this.onReset_(a):l===RC?xf("Server Error: "+a):l===h_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xf("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,a=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Jf!==a&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,a),Jl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bC))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(SC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:g_,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{put(n,l,a,o){}merge(n,l,a,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,a){}onDisconnectMerge(n,l,a){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(n){this.allowedEvents_=n,this.listeners_={},Y(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const a=[...this.listeners_[n]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,l)}}on(n,l,a){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:a});const o=this.getInitialEvent(n);o&&l.apply(a,o)}off(n,l,a){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let c=0;c<o.length;c++)if(o[c].callback===l&&(!a||a===o[c].context)){o.splice(c,1);return}}validateEventType_(n){Y(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Zy{static getInstance(){return new $r}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return Y(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=32,y_=768;class De{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function Se(){return new De("")}function de(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ui(s){return s.pieces_.length-s.pieceNum_}function ze(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new De(s.pieces_,n)}function td(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function xC(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function ra(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function Wy(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new De(n,0)}function Qe(s,n){const l=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)l.push(s.pieces_[a]);if(n instanceof De)for(let a=n.pieceNum_;a<n.pieces_.length;a++)l.push(n.pieces_[a]);else{const a=n.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&l.push(a[o])}return new De(l,0)}function _e(s){return s.pieceNum_>=s.pieces_.length}function xt(s,n){const l=de(s),a=de(n);if(l===null)return n;if(l===a)return xt(ze(s),ze(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function wC(s,n){const l=ra(s,0),a=ra(n,0);for(let o=0;o<l.length&&o<a.length;o++){const c=ki(l[o],a[o]);if(c!==0)return c}return l.length===a.length?0:l.length<a.length?-1:1}function nd(s,n){if(ui(s)!==ui(n))return!1;for(let l=s.pieceNum_,a=n.pieceNum_;l<=s.pieces_.length;l++,a++)if(s.pieces_[l]!==n.pieces_[a])return!1;return!0}function Zt(s,n){let l=s.pieceNum_,a=n.pieceNum_;if(ui(s)>ui(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[a])return!1;++l,++a}return!0}class DC{constructor(n,l){this.errorPrefix_=l,this.parts_=ra(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=So(this.parts_[a]);Jy(this)}}function OC(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=So(n),Jy(s)}function MC(s){const n=s.parts_.pop();s.byteLength_-=So(n),s.parts_.length>0&&(s.byteLength_-=1)}function Jy(s){if(s.byteLength_>y_)throw new Error(s.errorPrefix_+"has a key path longer than "+y_+" bytes ("+s.byteLength_+").");if(s.parts_.length>__)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+__+") or object contains a cycle "+Oi(s))}function Oi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends Zy{static getInstance(){return new id}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const a=!document[n];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(n){return Y(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=1e3,UC=300*1e3,v_=30*1e3,jC=1.3,LC=3e4,zC="server_kill",b_=3;class Mn extends Ky{constructor(n,l,a,o,c,d,h,g){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=g,this.id=Mn.nextPersistentConnectionId_++,this.log_=ba("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xl,this.maxReconnectDelay_=UC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");id.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&$r.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,a){const o=++this.requestNumber_,c={r:o,a:n,b:l};this.log_(rt(c)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[o]=a)}get(n){this.initConnection_();const l=new _a,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?l.resolve(h):l.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),l.promise}listen(n,l,a,o){this.initConnection_();const c=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),Y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:l,query:n,tag:a};this.listens.get(d).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,a=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(a)})}sendListen_(n){const l=n.query,a=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+a+" for "+o);const c={p:a},d="q";n.tag&&(c.q=l._queryObject,c.t=n.tag),c.h=n.hashFn(),this.sendRequest(d,c,h=>{const g=h.d,p=h.s;Mn.warnOnListenWarnings_(g,l),(this.listens.get(a)&&this.listens.get(a).get(o))===n&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(a,o),n.onComplete&&n.onComplete(p,g))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&hn(n,"w")){const a=Us(n,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',c=l._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||SE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=v_)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=bE(n)?"auth":"gauth",a={cred:n};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(l,a,o=>{const c=o.s,d=o.d||"error";this.authToken_===n&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,a=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,a)})}unlisten(n,l){const a=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),Y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,n._queryObject,l)}sendUnlisten_(n,l,a,o){this.log_("Unlisten on "+n+" for "+l);const c={p:n},d="n";o&&(c.q=a,c.t=o),this.sendRequest(d,c)}onDisconnectPut(n,l,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:a})}onDisconnectMerge(n,l,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:a})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,a,o){const c={p:l,d:a};this.log_("onDisconnect "+n,c),this.sendRequest(n,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(n,l,a,o){this.putInternal("p",n,l,a,o)}merge(n,l,a,o){this.putInternal("m",n,l,a,o)}putInternal(n,l,a,o,c){this.initConnection_();const d={p:l,d:a};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:n,request:d,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,a=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,a,c=>{this.log_(l+" response",c),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,a=>{if(a.s!=="ok"){const c=a.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+rt(n));const l=n.r,a=this.requestCBHash_[l];a&&(delete this.requestCBHash_[l],a(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):xf("Unrecognized action received from server: "+rt(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Xl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>LC&&(this.reconnectDelay_=Xl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Mn.nextConnectionId_++,c=this.lastSessionId;let d=!1,h=null;const g=function(){h?h.close():(d=!0,a())},p=function(b){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(b)};this.realtime_={close:g,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);d?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=E&&E.token,h=new NC(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,a,M=>{bt(M+" ("+this.repoInfo_.toString()+")"),this.interrupt(zC)},c))}catch(b){this.log_("Failed to get token: "+b),d||(this.repoInfo_.nodeAdmin&&bt(b),g())}}}interrupt(n){ft("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ft("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Kg(this.interruptReasons_)&&(this.reconnectDelay_=Xl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let a;l?a=l.map(c=>Wf(c)).join("$"):a="default";const o=this.removeListen_(n,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const a=new De(n).toString();let o;if(this.listens.has(a)){const c=this.listens.get(a);o=c.get(l),c.delete(l),c.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(n,l){ft("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=b_&&(this.reconnectDelay_=v_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){ft("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=b_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+xy.replace(/\./g,"-")]=1,vy()?n["framework.cordova"]=1:hE()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=$r.getInstance().currentlyOnline();return Kg(this.interruptReasons_)&&n}}Mn.nextPersistentConnectionId_=0;Mn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new he(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const a=new he(js,n),o=new he(js,l);return this.compare(a,o)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr;class $y extends Eo{static get __EMPTY_NODE(){return Hr}static set __EMPTY_NODE(n){Hr=n}compare(n,l){return ki(n.name,l.name)}isDefinedOn(n){throw qs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return he.MIN}maxPost(){return new he(zi,Hr)}makePost(n,l){return Y(typeof n=="string","KeyIndex indexValue must always be a string."),new he(n,Hr)}toString(){return".key"}}const Os=new $y;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(n,l,a,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=l?a(n.key,l):1,o&&(d*=-1),d<0)this.isReverse_?n=n.left:n=n.right;else if(d===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class lt{constructor(n,l,a,o,c){this.key=n,this.value=l,this.color=a??lt.RED,this.left=o??wt.EMPTY_NODE,this.right=c??wt.EMPTY_NODE}copy(n,l,a,o,c){return new lt(n??this.key,l??this.value,a??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,a){let o=this;const c=a(n,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(n,l,a),null):c===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let a,o;if(a=this,l(n,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(n,l),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),l(n,a.key)===0){if(a.right.isEmpty())return wt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(n,l))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class BC{copy(n,l,a,o,c){return this}insert(n,l,a){return new lt(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wt{constructor(n,l=wt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new wt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(n){return new wt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(n){let l,a=this.root_;for(;!a.isEmpty();){if(l=this.comparator_(n,a.key),l===0)return a.value;l<0?a=a.left:l>0&&(a=a.right)}return null}getPredecessorKey(n){let l,a=this.root_,o=null;for(;!a.isEmpty();)if(l=this.comparator_(n,a.key),l===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else l<0?a=a.left:l>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new kr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new kr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new kr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new kr(this.root_,null,this.comparator_,!0,n)}}wt.EMPTY_NODE=new BC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(s,n){return ki(s.name,n.name)}function sd(s,n){return ki(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df;function HC(s){Df=s}const ev=function(s){return typeof s=="number"?"number:"+My(s):"string:"+s},tv=function(s){if(s.isLeafNode()){const n=s.val();Y(typeof n=="string"||typeof n=="number"||typeof n=="object"&&hn(n,".sv"),"Priority must be a string or number.")}else Y(s===Df||s.isEmpty(),"priority of unexpected type.");Y(s===Df||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_;class st{static set __childrenNodeConstructor(n){S_=n}static get __childrenNodeConstructor(){return S_}constructor(n,l=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new st(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return _e(n)?this:de(n)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const a=de(n);return a===null?l:l.isEmpty()&&a!==".priority"?this:(Y(a!==".priority"||ui(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+ev(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=My(this.value_):n+=this.value_,this.lazyHash_=Dy(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===st.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof st.__childrenNodeConstructor?-1:(Y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,a=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(l),c=st.VALUE_TYPE_ORDER.indexOf(a);return Y(o>=0,"Unknown leaf type: "+l),Y(c>=0,"Unknown leaf type: "+a),o===c?a==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv,iv;function kC(s){nv=s}function qC(s){iv=s}class GC extends Eo{compare(n,l){const a=n.node.getPriority(),o=l.node.getPriority(),c=a.compareTo(o);return c===0?ki(n.name,l.name):c}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return he.MIN}maxPost(){return new he(zi,new st("[PRIORITY-POST]",iv))}makePost(n,l){const a=nv(n);return new he(l,new st("[PRIORITY-POST]",a))}toString(){return".priority"}}const Fe=new GC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=Math.log(2);class VC{constructor(n){const l=c=>parseInt(Math.log(c)/YC,10),a=c=>parseInt(Array(c+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=a(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const eo=function(s,n,l,a){s.sort(n);const o=function(g,p){const y=p-g;let b,E;if(y===0)return null;if(y===1)return b=s[g],E=l?l(b):b,new lt(E,b.node,lt.BLACK,null,null);{const M=parseInt(y/2,10)+g,D=o(g,M),k=o(M+1,p);return b=s[M],E=l?l(b):b,new lt(E,b.node,lt.BLACK,D,k)}},c=function(g){let p=null,y=null,b=s.length;const E=function(D,k){const B=b-D,J=b;b-=D;const Z=o(B+1,J),G=s[B],oe=l?l(G):G;M(new lt(oe,G.node,k,null,Z))},M=function(D){p?(p.left=D,p=D):(y=D,p=D)};for(let D=0;D<g.count;++D){const k=g.nextBitIsOne(),B=Math.pow(2,g.count-(D+1));k?E(B,lt.BLACK):(E(B,lt.BLACK),E(B,lt.RED))}return y},d=new VC(s.length),h=c(d);return new wt(a||n,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df;const Ns={};class On{static get Default(){return Y(Ns&&Fe,"ChildrenNode.ts has not been loaded"),df=df||new On({".priority":Ns},{".priority":Fe}),df}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Us(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof wt?l:null}hasIndex(n){return hn(this.indexSet_,n.toString())}addIndex(n,l){Y(n!==Os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const c=l.getIterator(he.Wrap);let d=c.getNext();for(;d;)o=o||n.isDefinedOn(d.node),a.push(d),d=c.getNext();let h;o?h=eo(a,n.getCompare()):h=Ns;const g=n.toString(),p={...this.indexSet_};p[g]=n;const y={...this.indexes_};return y[g]=h,new On(y,p)}addToIndexes(n,l){const a=Pr(this.indexes_,(o,c)=>{const d=Us(this.indexSet_,c);if(Y(d,"Missing index implementation for "+c),o===Ns)if(d.isDefinedOn(n.node)){const h=[],g=l.getIterator(he.Wrap);let p=g.getNext();for(;p;)p.name!==n.name&&h.push(p),p=g.getNext();return h.push(n),eo(h,d.getCompare())}else return Ns;else{const h=l.get(n.name);let g=o;return h&&(g=g.remove(new he(n.name,h))),g.insert(n,n.node)}});return new On(a,this.indexSet_)}removeFromIndexes(n,l){const a=Pr(this.indexes_,o=>{if(o===Ns)return o;{const c=l.get(n.name);return c?o.remove(new he(n.name,c)):o}});return new On(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl;class le{static get EMPTY_NODE(){return Pl||(Pl=new le(new wt(sd),null,On.Default))}constructor(n,l,a){this.children_=n,this.priorityNode_=l,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&tv(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pl}updatePriority(n){return this.children_.isEmpty()?this:new le(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Pl:l}}getChild(n){const l=de(n);return l===null?this:this.getImmediateChild(l).getChild(ze(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(Y(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const a=new he(n,l);let o,c;l.isEmpty()?(o=this.children_.remove(n),c=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(n,l),c=this.indexMap_.addToIndexes(a,this.children_));const d=o.isEmpty()?Pl:this.priorityNode_;return new le(o,d,c)}}updateChild(n,l){const a=de(n);if(a===null)return l;{Y(de(n)!==".priority"||ui(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(ze(n),l);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let a=0,o=0,c=!0;if(this.forEachChild(Fe,(d,h)=>{l[d]=h.val(n),a++,c&&le.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!n&&c&&o<2*a){const d=[];for(const h in l)d[h]=l[h];return d}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+ev(this.getPriority().val())+":"),this.forEachChild(Fe,(l,a)=>{const o=a.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":Dy(n)}return this.lazyHash_}getPredecessorChildName(n,l,a){const o=this.resolveIndex_(a);if(o){const c=o.getPredecessorKey(new he(n,l));return c?c.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const a=l.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new he(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const a=l.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new he(l,this.children_.get(l)):null}forEachChild(n,l){const a=this.resolveIndex_(n);return a?a.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const a=this.resolveIndex_(l);if(a)return a.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,he.Wrap);let c=o.peek();for(;c!=null&&l.compare(c,n)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const a=this.resolveIndex_(l);if(a)return a.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,he.Wrap);let c=o.peek();for(;c!=null&&l.compare(c,n)>0;)o.getNext(),c=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Sa?-1:0}withIndex(n){if(n===Os||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new le(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Os||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const a=this.getIterator(Fe),o=l.getIterator(Fe);let c=a.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=a.getNext(),d=o.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(n){return n===Os?null:this.indexMap_.get(n.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class QC extends le{constructor(){super(new wt(sd),le.EMPTY_NODE,On.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return le.EMPTY_NODE}isEmpty(){return!1}}const Sa=new QC;Object.defineProperties(he,{MIN:{value:new he(js,le.EMPTY_NODE)},MAX:{value:new he(zi,Sa)}});$y.__EMPTY_NODE=le.EMPTY_NODE;st.__childrenNodeConstructor=le;HC(Sa);qC(Sa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=!0;function at(s,n=null){if(s===null)return le.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),Y(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new st(l,at(n))}if(!(s instanceof Array)&&FC){const l=[];let a=!1;if(dt(s,(d,h)=>{if(d.substring(0,1)!=="."){const g=at(h);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),l.push(new he(d,g)))}}),l.length===0)return le.EMPTY_NODE;const c=eo(l,IC,d=>d.name,sd);if(a){const d=eo(l,Fe.getCompare());return new le(c,at(n),new On({".priority":d},{".priority":Fe}))}else return new le(c,at(n),On.Default)}else{let l=le.EMPTY_NODE;return dt(s,(a,o)=>{if(hn(s,a)&&a.substring(0,1)!=="."){const c=at(o);(c.isLeafNode()||!c.isEmpty())&&(l=l.updateImmediateChild(a,c))}}),l.updatePriority(at(n))}}kC(at);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC extends Eo{constructor(n){super(),this.indexPath_=n,Y(!_e(n)&&de(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const a=this.extractChild(n.node),o=this.extractChild(l.node),c=a.compareTo(o);return c===0?ki(n.name,l.name):c}makePost(n,l){const a=at(n),o=le.EMPTY_NODE.updateChild(this.indexPath_,a);return new he(l,o)}maxPost(){const n=le.EMPTY_NODE.updateChild(this.indexPath_,Sa);return new he(zi,n)}toString(){return ra(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends Eo{compare(n,l){const a=n.node.compareTo(l.node);return a===0?ki(n.name,l.name):a}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(n,l){const a=at(n);return new he(l,a)}toString(){return".value"}}const KC=new PC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(s){return{type:"value",snapshotNode:s}}function Ls(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function oa(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function ua(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function ZC(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(n){this.index_=n}updateChild(n,l,a,o,c,d){Y(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=n.getImmediateChild(l);return h.getChild(o).equals(a.getChild(o))&&h.isEmpty()===a.isEmpty()||(d!=null&&(a.isEmpty()?n.hasChild(l)?d.trackChildChange(oa(l,h)):Y(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(Ls(l,a)):d.trackChildChange(ua(l,a,h))),n.isLeafNode()&&a.isEmpty())?n:n.updateImmediateChild(l,a).withIndex(this.index_)}updateFullNode(n,l,a){return a!=null&&(n.isLeafNode()||n.forEachChild(Fe,(o,c)=>{l.hasChild(o)||a.trackChildChange(oa(o,c))}),l.isLeafNode()||l.forEachChild(Fe,(o,c)=>{if(n.hasChild(o)){const d=n.getImmediateChild(o);d.equals(c)||a.trackChildChange(ua(o,c,d))}else a.trackChildChange(Ls(o,c))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?le.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(n){this.indexedFilter_=new ld(n.getIndex()),this.index_=n.getIndex(),this.startPost_=ca.getStartPost_(n),this.endPost_=ca.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,a=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&a}updateChild(n,l,a,o,c,d){return this.matches(new he(l,a))||(a=le.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,a,o,c,d)}updateFullNode(n,l,a){l.isLeafNode()&&(l=le.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(le.EMPTY_NODE);const c=this;return l.forEachChild(Fe,(d,h)=>{c.matches(new he(d,h))||(o=o.updateImmediateChild(d,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,a)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=l=>{const a=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new ca(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,a,o,c,d){return this.rangedFilter_.matches(new he(l,a))||(a=le.EMPTY_NODE),n.getImmediateChild(l).equals(a)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,a,o,c,d):this.fullLimitUpdateChild_(n,l,a,c,d)}updateFullNode(n,l,a){let o;if(l.isLeafNode()||l.isEmpty())o=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=le.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const h=c.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(le.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let d=0;for(;c.hasNext();){const h=c.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:o=o.updateImmediateChild(h.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,a)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,a,o,c){let d;if(this.reverse_){const b=this.index_.getCompare();d=(E,M)=>b(M,E)}else d=this.index_.getCompare();const h=n;Y(h.numChildren()===this.limit_,"");const g=new he(l,a),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(g);if(h.hasChild(l)){const b=h.getImmediateChild(l);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===l||h.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const M=E==null?1:d(E,g);if(y&&!a.isEmpty()&&M>=0)return c?.trackChildChange(ua(l,a,b)),h.updateImmediateChild(l,a);{c?.trackChildChange(oa(l,b));const k=h.updateImmediateChild(l,le.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(c?.trackChildChange(Ls(E.name,E.node)),k.updateImmediateChild(E.name,E.node)):k}}else return a.isEmpty()?n:y&&d(p,g)>=0?(c!=null&&(c.trackChildChange(oa(p.name,p.node)),c.trackChildChange(Ls(l,a))),h.updateImmediateChild(l,a).updateImmediateChild(p.name,le.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:js}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const n=new ad;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function JC(s){return s.loadsAllData()?new ld(s.getIndex()):s.hasLimit()?new WC(s):new ca(s)}function E_(s){const n={};if(s.isDefault())return n;let l;if(s.index_===Fe?l="$priority":s.index_===KC?l="$value":s.index_===Os?l="$key":(Y(s.index_ instanceof XC,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=rt(l),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";n[a]=rt(s.indexStartValue_),s.startNameSet_&&(n[a]+=","+rt(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";n[a]=rt(s.indexEndValue_),s.endNameSet_&&(n[a]+=","+rt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function T_(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==Fe&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Ky{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(Y(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,a,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=ba("p:rest:"),this.listens_={}}listen(n,l,a,o){const c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);const d=to.getListenId_(n,a),h={};this.listens_[d]=h;const g=E_(n._queryParams);this.restRequest_(c+".json",g,(p,y)=>{let b=y;if(p===404&&(b=null,p=null),p===null&&this.onDataUpdate_(c,b,!1,a),Us(this.listens_,d)===h){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(n,l){const a=to.getListenId_(n,l);delete this.listens_[a]}get(n){const l=E_(n._queryParams),a=n._path.toString(),o=new _a;return this.restRequest_(a+".json",l,(c,d)=>{let h=d;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(a,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},a){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(l.auth=o.accessToken),c&&c.token&&(l.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+EE(l);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(a&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let g=null;if(h.status>=200&&h.status<300){try{g=ia(h.responseText)}catch{bt("Failed to parse JSON response for "+d+": "+h.responseText)}a(null,g)}else h.status!==401&&h.status!==404&&bt("Got unsuccessful REST response for "+d+" Status: "+h.status),a(h.status);a=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(){return{value:null,children:new Map}}function lv(s,n,l){if(_e(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const a=de(n);s.children.has(a)||s.children.set(a,no());const o=s.children.get(a);n=ze(n),lv(o,n,l)}}function Of(s,n,l){s.value!==null?l(n,s.value):eR(s,(a,o)=>{const c=new De(n.toString()+"/"+a);Of(o,c,l)})}function eR(s,n){s.children.forEach((l,a)=>{n(a,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&dt(this.last_,(a,o)=>{l[a]=l[a]-o}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=10*1e3,nR=30*1e3,iR=300*1e3;class sR{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new tR(n);const a=C_+(nR-C_)*Math.random();Jl(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const n=this.statsListener_.get(),l={};let a=!1;dt(n,(o,c)=>{c>0&&hn(this.statsToReport_,o)&&(l[o]=c,a=!0)}),a&&this.server_.reportStats(l),Jl(this.reportStats_.bind(this),Math.floor(Math.random()*2*iR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function rd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function od(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ud(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(n,l,a){this.path=n,this.affectedTree=l,this.revert=a,this.type=tn.ACK_USER_WRITE,this.source=rd()}operationForChild(n){if(_e(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new De(n));return new io(Se(),l,this.revert)}}else return Y(de(this.path)===n,"operationForChild called for unrelated child."),new io(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(n,l){this.source=n,this.path=l,this.type=tn.LISTEN_COMPLETE}operationForChild(n){return _e(this.path)?new fa(this.source,Se()):new fa(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(n,l,a){this.source=n,this.path=l,this.snap=a,this.type=tn.OVERWRITE}operationForChild(n){return _e(this.path)?new Bi(this.source,Se(),this.snap.getImmediateChild(n)):new Bi(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(n,l,a){this.source=n,this.path=l,this.children=a,this.type=tn.MERGE}operationForChild(n){if(_e(this.path)){const l=this.children.subtree(new De(n));return l.isEmpty()?null:l.value?new Bi(this.source,Se(),l.value):new zs(this.source,Se(),l)}else return Y(de(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new zs(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(n,l,a){this.node_=n,this.fullyInitialized_=l,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(_e(n))return this.isFullyInitialized()&&!this.filtered_;const l=de(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function aR(s,n,l,a){const o=[],c=[];return n.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(ZC(d.childName,d.snapshotNode))}),Kl(s,o,"child_removed",n,a,l),Kl(s,o,"child_added",n,a,l),Kl(s,o,"child_moved",c,a,l),Kl(s,o,"child_changed",n,a,l),Kl(s,o,"value",n,a,l),o}function Kl(s,n,l,a,o,c){const d=a.filter(h=>h.type===l);d.sort((h,g)=>oR(s,h,g)),d.forEach(h=>{const g=rR(s,h,c);o.forEach(p=>{p.respondsTo(h.type)&&n.push(p.createEvent(g,s.query_))})})}function rR(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function oR(s,n,l){if(n.childName==null||l.childName==null)throw qs("Should only compare child_ events.");const a=new he(n.childName,n.snapshotNode),o=new he(l.childName,l.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(s,n){return{eventCache:s,serverCache:n}}function $l(s,n,l,a){return To(new Ii(n,l,a),s.serverCache)}function av(s,n,l,a){return To(s.eventCache,new Ii(n,l,a))}function Mf(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Hi(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf;const uR=()=>(hf||(hf=new wt(XT)),hf);class je{static fromObject(n){let l=new je(null);return dt(n,(a,o)=>{l=l.set(new De(a),o)}),l}constructor(n,l=uR()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:Se(),value:this.value};if(_e(n))return null;{const a=de(n),o=this.children.get(a);if(o!==null){const c=o.findRootMostMatchingPathAndValue(ze(n),l);return c!=null?{path:Qe(new De(a),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(_e(n))return this;{const l=de(n),a=this.children.get(l);return a!==null?a.subtree(ze(n)):new je(null)}}set(n,l){if(_e(n))return new je(l,this.children);{const a=de(n),c=(this.children.get(a)||new je(null)).set(ze(n),l),d=this.children.insert(a,c);return new je(this.value,d)}}remove(n){if(_e(n))return this.children.isEmpty()?new je(null):new je(null,this.children);{const l=de(n),a=this.children.get(l);if(a){const o=a.remove(ze(n));let c;return o.isEmpty()?c=this.children.remove(l):c=this.children.insert(l,o),this.value===null&&c.isEmpty()?new je(null):new je(this.value,c)}else return this}}get(n){if(_e(n))return this.value;{const l=de(n),a=this.children.get(l);return a?a.get(ze(n)):null}}setTree(n,l){if(_e(n))return l;{const a=de(n),c=(this.children.get(a)||new je(null)).setTree(ze(n),l);let d;return c.isEmpty()?d=this.children.remove(a):d=this.children.insert(a,c),new je(this.value,d)}}fold(n){return this.fold_(Se(),n)}fold_(n,l){const a={};return this.children.inorderTraversal((o,c)=>{a[o]=c.fold_(Qe(n,o),l)}),l(n,this.value,a)}findOnPath(n,l){return this.findOnPath_(n,Se(),l)}findOnPath_(n,l,a){const o=this.value?a(l,this.value):!1;if(o)return o;if(_e(n))return null;{const c=de(n),d=this.children.get(c);return d?d.findOnPath_(ze(n),Qe(l,c),a):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,Se(),l)}foreachOnPath_(n,l,a){if(_e(n))return this;{this.value&&a(l,this.value);const o=de(n),c=this.children.get(o);return c?c.foreachOnPath_(ze(n),Qe(l,o),a):new je(null)}}foreach(n){this.foreach_(Se(),n)}foreach_(n,l){this.children.inorderTraversal((a,o)=>{o.foreach_(Qe(n,a),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,a)=>{a.value&&n(l,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(n){this.writeTree_=n}static empty(){return new nn(new je(null))}}function ea(s,n,l){if(_e(n))return new nn(new je(l));{const a=s.writeTree_.findRootMostValueAndPath(n);if(a!=null){const o=a.path;let c=a.value;const d=xt(o,n);return c=c.updateChild(d,l),new nn(s.writeTree_.set(o,c))}else{const o=new je(l),c=s.writeTree_.setTree(n,o);return new nn(c)}}}function Uf(s,n,l){let a=s;return dt(l,(o,c)=>{a=ea(a,Qe(n,o),c)}),a}function R_(s,n){if(_e(n))return nn.empty();{const l=s.writeTree_.setTree(n,new je(null));return new nn(l)}}function jf(s,n){return qi(s,n)!=null}function qi(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(xt(l.path,n)):null}function A_(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Fe,(a,o)=>{n.push(new he(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&n.push(new he(a,o.value))}),n}function oi(s,n){if(_e(n))return s;{const l=qi(s,n);return l!=null?new nn(new je(l)):new nn(s.writeTree_.subtree(n))}}function Lf(s){return s.writeTree_.isEmpty()}function Bs(s,n){return rv(Se(),s.writeTree_,n)}function rv(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let a=null;return n.children.inorderTraversal((o,c)=>{o===".priority"?(Y(c.value!==null,"Priority writes must always be leaf nodes"),a=c.value):l=rv(Qe(s,o),c,l)}),!l.getChild(s).isEmpty()&&a!==null&&(l=l.updateChild(Qe(s,".priority"),a)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s,n){return fv(n,s)}function cR(s,n,l,a,o){Y(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:n,snap:l,writeId:a,visible:o}),o&&(s.visibleWrites=ea(s.visibleWrites,n,l)),s.lastWriteId=a}function fR(s,n,l,a){Y(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:n,children:l,writeId:a,visible:!0}),s.visibleWrites=Uf(s.visibleWrites,n,l),s.lastWriteId=a}function dR(s,n){for(let l=0;l<s.allWrites.length;l++){const a=s.allWrites[l];if(a.writeId===n)return a}return null}function hR(s,n){const l=s.allWrites.findIndex(h=>h.writeId===n);Y(l>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[l];s.allWrites.splice(l,1);let o=a.visible,c=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const h=s.allWrites[d];h.visible&&(d>=l&&mR(h,a.path)?o=!1:Zt(a.path,h.path)&&(c=!0)),d--}if(o){if(c)return pR(s),!0;if(a.snap)s.visibleWrites=R_(s.visibleWrites,a.path);else{const h=a.children;dt(h,g=>{s.visibleWrites=R_(s.visibleWrites,Qe(a.path,g))})}return!0}else return!1}function mR(s,n){if(s.snap)return Zt(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&Zt(Qe(s.path,l),n))return!0;return!1}function pR(s){s.visibleWrites=ov(s.allWrites,gR,Se()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function gR(s){return s.visible}function ov(s,n,l){let a=nn.empty();for(let o=0;o<s.length;++o){const c=s[o];if(n(c)){const d=c.path;let h;if(c.snap)Zt(l,d)?(h=xt(l,d),a=ea(a,h,c.snap)):Zt(d,l)&&(h=xt(d,l),a=ea(a,Se(),c.snap.getChild(h)));else if(c.children){if(Zt(l,d))h=xt(l,d),a=Uf(a,h,c.children);else if(Zt(d,l))if(h=xt(d,l),_e(h))a=Uf(a,Se(),c.children);else{const g=Us(c.children,de(h));if(g){const p=g.getChild(ze(h));a=ea(a,Se(),p)}}}else throw qs("WriteRecord should have .snap or .children")}}return a}function uv(s,n,l,a,o){if(!a&&!o){const c=qi(s.visibleWrites,n);if(c!=null)return c;{const d=oi(s.visibleWrites,n);if(Lf(d))return l;if(l==null&&!jf(d,Se()))return null;{const h=l||le.EMPTY_NODE;return Bs(d,h)}}}else{const c=oi(s.visibleWrites,n);if(!o&&Lf(c))return l;if(!o&&l==null&&!jf(c,Se()))return null;{const d=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&(Zt(p.path,n)||Zt(n,p.path))},h=ov(s.allWrites,d,n),g=l||le.EMPTY_NODE;return Bs(h,g)}}}function _R(s,n,l){let a=le.EMPTY_NODE;const o=qi(s.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Fe,(c,d)=>{a=a.updateImmediateChild(c,d)}),a;if(l){const c=oi(s.visibleWrites,n);return l.forEachChild(Fe,(d,h)=>{const g=Bs(oi(c,new De(d)),h);a=a.updateImmediateChild(d,g)}),A_(c).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}else{const c=oi(s.visibleWrites,n);return A_(c).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}}function yR(s,n,l,a,o){Y(a||o,"Either existingEventSnap or existingServerSnap must exist");const c=Qe(n,l);if(jf(s.visibleWrites,c))return null;{const d=oi(s.visibleWrites,c);return Lf(d)?o.getChild(l):Bs(d,o.getChild(l))}}function vR(s,n,l,a){const o=Qe(n,l),c=qi(s.visibleWrites,o);if(c!=null)return c;if(a.isCompleteForChild(l)){const d=oi(s.visibleWrites,o);return Bs(d,a.getNode().getImmediateChild(l))}else return null}function bR(s,n){return qi(s.visibleWrites,n)}function SR(s,n,l,a,o,c,d){let h;const g=oi(s.visibleWrites,n),p=qi(g,Se());if(p!=null)h=p;else if(l!=null)h=Bs(g,l);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const y=[],b=d.getCompare(),E=c?h.getReverseIteratorFrom(a,d):h.getIteratorFrom(a,d);let M=E.getNext();for(;M&&y.length<o;)b(M,a)!==0&&y.push(M),M=E.getNext();return y}else return[]}function ER(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function so(s,n,l,a){return uv(s.writeTree,s.treePath,n,l,a)}function fd(s,n){return _R(s.writeTree,s.treePath,n)}function N_(s,n,l,a){return yR(s.writeTree,s.treePath,n,l,a)}function lo(s,n){return bR(s.writeTree,Qe(s.treePath,n))}function TR(s,n,l,a,o,c){return SR(s.writeTree,s.treePath,n,l,a,o,c)}function dd(s,n,l){return vR(s.writeTree,s.treePath,n,l)}function cv(s,n){return fv(Qe(s.treePath,n),s.writeTree)}function fv(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,a=n.childName;Y(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),Y(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const c=o.type;if(l==="child_added"&&c==="child_removed")this.changeMap.set(a,ua(a,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&c==="child_added")this.changeMap.delete(a);else if(l==="child_removed"&&c==="child_changed")this.changeMap.set(a,oa(a,o.oldSnap));else if(l==="child_changed"&&c==="child_added")this.changeMap.set(a,Ls(a,n.snapshotNode));else if(l==="child_changed"&&c==="child_changed")this.changeMap.set(a,ua(a,n.snapshotNode,o.oldSnap));else throw qs("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(a,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{getCompleteChild(n){return null}getChildAfterChild(n,l,a){return null}}const dv=new RR;class hd{constructor(n,l,a=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=a}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const a=this.optCompleteServerCache_!=null?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dd(this.writes_,n,a)}}getChildAfterChild(n,l,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hi(this.viewCache_),c=TR(this.writes_,o,l,1,a,n);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s){return{filter:s}}function NR(s,n){Y(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Y(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function xR(s,n,l,a,o){const c=new CR;let d,h;if(l.type===tn.OVERWRITE){const p=l;p.source.fromUser?d=zf(s,n,p.path,p.snap,a,o,c):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||n.serverCache.isFiltered()&&!_e(p.path),d=ao(s,n,p.path,p.snap,a,o,h,c))}else if(l.type===tn.MERGE){const p=l;p.source.fromUser?d=DR(s,n,p.path,p.children,a,o,c):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||n.serverCache.isFiltered(),d=Bf(s,n,p.path,p.children,a,o,h,c))}else if(l.type===tn.ACK_USER_WRITE){const p=l;p.revert?d=UR(s,n,p.path,a,o,c):d=OR(s,n,p.path,p.affectedTree,a,o,c)}else if(l.type===tn.LISTEN_COMPLETE)d=MR(s,n,l.path,a,c);else throw qs("Unknown operation type: "+l.type);const g=c.getChanges();return wR(n,d,g),{viewCache:d,changes:g}}function wR(s,n,l){const a=n.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),c=Mf(s);(l.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(c)||!a.getNode().getPriority().equals(c.getPriority()))&&l.push(sv(Mf(n)))}}function hv(s,n,l,a,o,c){const d=n.eventCache;if(lo(a,l)!=null)return n;{let h,g;if(_e(l))if(Y(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const p=Hi(n),y=p instanceof le?p:le.EMPTY_NODE,b=fd(a,y);h=s.filter.updateFullNode(n.eventCache.getNode(),b,c)}else{const p=so(a,Hi(n));h=s.filter.updateFullNode(n.eventCache.getNode(),p,c)}else{const p=de(l);if(p===".priority"){Y(ui(l)===1,"Can't have a priority with additional path components");const y=d.getNode();g=n.serverCache.getNode();const b=N_(a,l,y,g);b!=null?h=s.filter.updatePriority(y,b):h=d.getNode()}else{const y=ze(l);let b;if(d.isCompleteForChild(p)){g=n.serverCache.getNode();const E=N_(a,l,d.getNode(),g);E!=null?b=d.getNode().getImmediateChild(p).updateChild(y,E):b=d.getNode().getImmediateChild(p)}else b=dd(a,p,n.serverCache);b!=null?h=s.filter.updateChild(d.getNode(),p,b,y,o,c):h=d.getNode()}}return $l(n,h,d.isFullyInitialized()||_e(l),s.filter.filtersNodes())}}function ao(s,n,l,a,o,c,d,h){const g=n.serverCache;let p;const y=d?s.filter:s.filter.getIndexedFilter();if(_e(l))p=y.updateFullNode(g.getNode(),a,null);else if(y.filtersNodes()&&!g.isFiltered()){const M=g.getNode().updateChild(l,a);p=y.updateFullNode(g.getNode(),M,null)}else{const M=de(l);if(!g.isCompleteForPath(l)&&ui(l)>1)return n;const D=ze(l),B=g.getNode().getImmediateChild(M).updateChild(D,a);M===".priority"?p=y.updatePriority(g.getNode(),B):p=y.updateChild(g.getNode(),M,B,D,dv,null)}const b=av(n,p,g.isFullyInitialized()||_e(l),y.filtersNodes()),E=new hd(o,b,c);return hv(s,b,l,o,E,h)}function zf(s,n,l,a,o,c,d){const h=n.eventCache;let g,p;const y=new hd(o,n,c);if(_e(l))p=s.filter.updateFullNode(n.eventCache.getNode(),a,d),g=$l(n,p,!0,s.filter.filtersNodes());else{const b=de(l);if(b===".priority")p=s.filter.updatePriority(n.eventCache.getNode(),a),g=$l(n,p,h.isFullyInitialized(),h.isFiltered());else{const E=ze(l),M=h.getNode().getImmediateChild(b);let D;if(_e(E))D=a;else{const k=y.getCompleteChild(b);k!=null?td(E)===".priority"&&k.getChild(Wy(E)).isEmpty()?D=k:D=k.updateChild(E,a):D=le.EMPTY_NODE}if(M.equals(D))g=n;else{const k=s.filter.updateChild(h.getNode(),b,D,E,y,d);g=$l(n,k,h.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function x_(s,n){return s.eventCache.isCompleteForChild(n)}function DR(s,n,l,a,o,c,d){let h=n;return a.foreach((g,p)=>{const y=Qe(l,g);x_(n,de(y))&&(h=zf(s,h,y,p,o,c,d))}),a.foreach((g,p)=>{const y=Qe(l,g);x_(n,de(y))||(h=zf(s,h,y,p,o,c,d))}),h}function w_(s,n,l){return l.foreach((a,o)=>{n=n.updateChild(a,o)}),n}function Bf(s,n,l,a,o,c,d,h){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,p;_e(l)?p=a:p=new je(null).setTree(l,a);const y=n.serverCache.getNode();return p.children.inorderTraversal((b,E)=>{if(y.hasChild(b)){const M=n.serverCache.getNode().getImmediateChild(b),D=w_(s,M,E);g=ao(s,g,new De(b),D,o,c,d,h)}}),p.children.inorderTraversal((b,E)=>{const M=!n.serverCache.isCompleteForChild(b)&&E.value===null;if(!y.hasChild(b)&&!M){const D=n.serverCache.getNode().getImmediateChild(b),k=w_(s,D,E);g=ao(s,g,new De(b),k,o,c,d,h)}}),g}function OR(s,n,l,a,o,c,d){if(lo(o,l)!=null)return n;const h=n.serverCache.isFiltered(),g=n.serverCache;if(a.value!=null){if(_e(l)&&g.isFullyInitialized()||g.isCompleteForPath(l))return ao(s,n,l,g.getNode().getChild(l),o,c,h,d);if(_e(l)){let p=new je(null);return g.getNode().forEachChild(Os,(y,b)=>{p=p.set(new De(y),b)}),Bf(s,n,l,p,o,c,h,d)}else return n}else{let p=new je(null);return a.foreach((y,b)=>{const E=Qe(l,y);g.isCompleteForPath(E)&&(p=p.set(y,g.getNode().getChild(E)))}),Bf(s,n,l,p,o,c,h,d)}}function MR(s,n,l,a,o){const c=n.serverCache,d=av(n,c.getNode(),c.isFullyInitialized()||_e(l),c.isFiltered());return hv(s,d,l,a,dv,o)}function UR(s,n,l,a,o,c){let d;if(lo(a,l)!=null)return n;{const h=new hd(a,n,o),g=n.eventCache.getNode();let p;if(_e(l)||de(l)===".priority"){let y;if(n.serverCache.isFullyInitialized())y=so(a,Hi(n));else{const b=n.serverCache.getNode();Y(b instanceof le,"serverChildren would be complete if leaf node"),y=fd(a,b)}y=y,p=s.filter.updateFullNode(g,y,c)}else{const y=de(l);let b=dd(a,y,n.serverCache);b==null&&n.serverCache.isCompleteForChild(y)&&(b=g.getImmediateChild(y)),b!=null?p=s.filter.updateChild(g,y,b,ze(l),h,c):n.eventCache.getNode().hasChild(y)?p=s.filter.updateChild(g,y,le.EMPTY_NODE,ze(l),h,c):p=g,p.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=so(a,Hi(n)),d.isLeafNode()&&(p=s.filter.updateFullNode(p,d,c)))}return d=n.serverCache.isFullyInitialized()||lo(a,Se())!=null,$l(n,p,d,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new ld(a.getIndex()),c=JC(a);this.processor_=AR(c);const d=l.serverCache,h=l.eventCache,g=o.updateFullNode(le.EMPTY_NODE,d.getNode(),null),p=c.updateFullNode(le.EMPTY_NODE,h.getNode(),null),y=new Ii(g,d.isFullyInitialized(),o.filtersNodes()),b=new Ii(p,h.isFullyInitialized(),c.filtersNodes());this.viewCache_=To(b,y),this.eventGenerator_=new lR(this.query_)}get query(){return this.query_}}function LR(s){return s.viewCache_.serverCache.getNode()}function zR(s,n){const l=Hi(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!_e(n)&&!l.getImmediateChild(de(n)).isEmpty())?l.getChild(n):null}function D_(s){return s.eventRegistrations_.length===0}function BR(s,n){s.eventRegistrations_.push(n)}function O_(s,n,l){const a=[];if(l){Y(n==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(l,o);d&&a.push(d)})}if(n){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const d=s.eventRegistrations_[c];if(!d.matches(n))o.push(d);else if(n.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function M_(s,n,l,a){n.type===tn.MERGE&&n.source.queryId!==null&&(Y(Hi(s.viewCache_),"We should always have a full cache before handling merges"),Y(Mf(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=xR(s.processor_,o,n,l,a);return NR(s.processor_,c.viewCache),Y(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,mv(s,c.changes,c.viewCache.eventCache.getNode(),null)}function IR(s,n){const l=s.viewCache_.eventCache,a=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Fe,(c,d)=>{a.push(Ls(c,d))}),l.isFullyInitialized()&&a.push(sv(l.getNode())),mv(s,a,l.getNode(),n)}function mv(s,n,l,a){const o=a?[a]:s.eventRegistrations_;return aR(s.eventGenerator_,n,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro;class HR{constructor(){this.views=new Map}}function kR(s){Y(!ro,"__referenceConstructor has already been defined"),ro=s}function qR(){return Y(ro,"Reference.ts has not been loaded"),ro}function GR(s){return s.views.size===0}function md(s,n,l,a){const o=n.source.queryId;if(o!==null){const c=s.views.get(o);return Y(c!=null,"SyncTree gave us an op for an invalid query."),M_(c,n,l,a)}else{let c=[];for(const d of s.views.values())c=c.concat(M_(d,n,l,a));return c}}function YR(s,n,l,a,o){const c=n._queryIdentifier,d=s.views.get(c);if(!d){let h=so(l,o?a:null),g=!1;h?g=!0:a instanceof le?(h=fd(l,a),g=!1):(h=le.EMPTY_NODE,g=!1);const p=To(new Ii(h,g,!1),new Ii(a,o,!1));return new jR(n,p)}return d}function VR(s,n,l,a,o,c){const d=YR(s,n,a,o,c);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,d),BR(d,l),IR(d,l)}function QR(s,n,l,a){const o=n._queryIdentifier,c=[];let d=[];const h=ci(s);if(o==="default")for(const[g,p]of s.views.entries())d=d.concat(O_(p,l,a)),D_(p)&&(s.views.delete(g),p.query._queryParams.loadsAllData()||c.push(p.query));else{const g=s.views.get(o);g&&(d=d.concat(O_(g,l,a)),D_(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||c.push(g.query)))}return h&&!ci(s)&&c.push(new(qR())(n._repo,n._path)),{removed:c,events:d}}function pv(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function Ms(s,n){let l=null;for(const a of s.views.values())l=l||zR(a,n);return l}function gv(s,n){if(n._queryParams.loadsAllData())return Co(s);{const a=n._queryIdentifier;return s.views.get(a)}}function _v(s,n){return gv(s,n)!=null}function ci(s){return Co(s)!=null}function Co(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo;function FR(s){Y(!oo,"__referenceConstructor has already been defined"),oo=s}function XR(){return Y(oo,"Reference.ts has not been loaded"),oo}let PR=1;class U_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new je(null),this.pendingWriteTree_=ER(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yv(s,n,l,a,o){return cR(s.pendingWriteTree_,n,l,a,o),o?Vs(s,new Bi(rd(),n,l)):[]}function KR(s,n,l,a){fR(s.pendingWriteTree_,n,l,a);const o=je.fromObject(l);return Vs(s,new zs(rd(),n,o))}function li(s,n,l=!1){const a=dR(s.pendingWriteTree_,n);if(hR(s.pendingWriteTree_,n)){let c=new je(null);return a.snap!=null?c=c.set(Se(),!0):dt(a.children,d=>{c=c.set(new De(d),!0)}),Vs(s,new io(a.path,c,l))}else return[]}function Ro(s,n,l){return Vs(s,new Bi(od(),n,l))}function ZR(s,n,l){const a=je.fromObject(l);return Vs(s,new zs(od(),n,a))}function WR(s,n){return Vs(s,new fa(od(),n))}function JR(s,n,l){const a=gd(s,l);if(a){const o=_d(a),c=o.path,d=o.queryId,h=xt(c,n),g=new fa(ud(d),h);return yd(s,c,g)}else return[]}function If(s,n,l,a,o=!1){const c=n._path,d=s.syncPointTree_.get(c);let h=[];if(d&&(n._queryIdentifier==="default"||_v(d,n))){const g=QR(d,n,l,a);GR(d)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const p=g.removed;if(h=g.events,!o){const y=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,b=s.syncPointTree_.findOnPath(c,(E,M)=>ci(M));if(y&&!b){const E=s.syncPointTree_.subtree(c);if(!E.isEmpty()){const M=tA(E);for(let D=0;D<M.length;++D){const k=M[D],B=k.query,J=Sv(s,k);s.listenProvider_.startListening(ta(B),uo(s,B),J.hashFn,J.onComplete)}}}!b&&p.length>0&&!a&&(y?s.listenProvider_.stopListening(ta(n),null):p.forEach(E=>{const M=s.queryToTagMap.get(Ao(E));s.listenProvider_.stopListening(ta(E),M)}))}nA(s,p)}return h}function $R(s,n,l,a){const o=gd(s,a);if(o!=null){const c=_d(o),d=c.path,h=c.queryId,g=xt(d,n),p=new Bi(ud(h),g,l);return yd(s,d,p)}else return[]}function eA(s,n,l,a){const o=gd(s,a);if(o){const c=_d(o),d=c.path,h=c.queryId,g=xt(d,n),p=je.fromObject(l),y=new zs(ud(h),g,p);return yd(s,d,y)}else return[]}function j_(s,n,l,a=!1){const o=n._path;let c=null,d=!1;s.syncPointTree_.foreachOnPath(o,(E,M)=>{const D=xt(E,o);c=c||Ms(M,D),d=d||ci(M)});let h=s.syncPointTree_.get(o);h?(d=d||ci(h),c=c||Ms(h,Se())):(h=new HR,s.syncPointTree_=s.syncPointTree_.set(o,h));let g;c!=null?g=!0:(g=!1,c=le.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((M,D)=>{const k=Ms(D,Se());k&&(c=c.updateImmediateChild(M,k))}));const p=_v(h,n);if(!p&&!n._queryParams.loadsAllData()){const E=Ao(n);Y(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const M=iA();s.queryToTagMap.set(E,M),s.tagToQueryMap.set(M,E)}const y=cd(s.pendingWriteTree_,o);let b=VR(h,n,l,y,c,g);if(!p&&!d&&!a){const E=gv(h,n);b=b.concat(sA(s,n,E))}return b}function pd(s,n,l){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(n,(d,h)=>{const g=xt(d,n),p=Ms(h,g);if(p)return p});return uv(o,n,c,l,!0)}function Vs(s,n){return vv(n,s.syncPointTree_,null,cd(s.pendingWriteTree_,Se()))}function vv(s,n,l,a){if(_e(s.path))return bv(s,n,l,a);{const o=n.get(Se());l==null&&o!=null&&(l=Ms(o,Se()));let c=[];const d=de(s.path),h=s.operationForChild(d),g=n.children.get(d);if(g&&h){const p=l?l.getImmediateChild(d):null,y=cv(a,d);c=c.concat(vv(h,g,p,y))}return o&&(c=c.concat(md(o,s,a,l))),c}}function bv(s,n,l,a){const o=n.get(Se());l==null&&o!=null&&(l=Ms(o,Se()));let c=[];return n.children.inorderTraversal((d,h)=>{const g=l?l.getImmediateChild(d):null,p=cv(a,d),y=s.operationForChild(d);y&&(c=c.concat(bv(y,h,g,p)))}),o&&(c=c.concat(md(o,s,a,l))),c}function Sv(s,n){const l=n.query,a=uo(s,l);return{hashFn:()=>(LR(n)||le.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?JR(s,l._path,a):WR(s,l._path);{const c=ZT(o,l);return If(s,l,null,c)}}}}function uo(s,n){const l=Ao(n);return s.queryToTagMap.get(l)}function Ao(s){return s._path.toString()+"$"+s._queryIdentifier}function gd(s,n){return s.tagToQueryMap.get(n)}function _d(s){const n=s.indexOf("$");return Y(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new De(s.substr(0,n))}}function yd(s,n,l){const a=s.syncPointTree_.get(n);Y(a,"Missing sync point for query tag that we're tracking");const o=cd(s.pendingWriteTree_,n);return md(a,l,o,null)}function tA(s){return s.fold((n,l,a)=>{if(l&&ci(l))return[Co(l)];{let o=[];return l&&(o=pv(l)),dt(a,(c,d)=>{o=o.concat(d)}),o}})}function ta(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(XR())(s._repo,s._path):s}function nA(s,n){for(let l=0;l<n.length;++l){const a=n[l];if(!a._queryParams.loadsAllData()){const o=Ao(a),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function iA(){return PR++}function sA(s,n,l){const a=n._path,o=uo(s,n),c=Sv(s,l),d=s.listenProvider_.startListening(ta(n),o,c.hashFn,c.onComplete),h=s.syncPointTree_.subtree(a);if(o)Y(!ci(h.value),"If we're adding a query, it shouldn't be shadowed");else{const g=h.fold((p,y,b)=>{if(!_e(p)&&y&&ci(y))return[Co(y).query];{let E=[];return y&&(E=E.concat(pv(y).map(M=>M.query))),dt(b,(M,D)=>{E=E.concat(D)}),E}});for(let p=0;p<g.length;++p){const y=g[p];s.listenProvider_.stopListening(ta(y),uo(s,y))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new vd(l)}node(){return this.node_}}class bd{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Qe(this.path_,n);return new bd(this.syncTree_,l)}node(){return pd(this.syncTree_,this.path_)}}const lA=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},L_=function(s,n,l){if(!s||typeof s!="object")return s;if(Y(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return aA(s[".sv"],n,l);if(typeof s[".sv"]=="object")return rA(s[".sv"],n);Y(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},aA=function(s,n,l){switch(s){case"timestamp":return l.timestamp;default:Y(!1,"Unexpected server value: "+s)}},rA=function(s,n,l){s.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&Y(!1,"Unexpected increment value: "+a);const o=n.node();if(Y(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const d=o.getValue();return typeof d!="number"?a:d+a},Ev=function(s,n,l,a){return Sd(n,new bd(l,s),a)},Tv=function(s,n,l){return Sd(s,new vd(n),l)};function Sd(s,n,l){const a=s.getPriority().val(),o=L_(a,n.getImmediateChild(".priority"),l);let c;if(s.isLeafNode()){const d=s,h=L_(d.getValue(),n,l);return h!==d.getValue()||o!==d.getPriority().val()?new st(h,at(o)):s}else{const d=s;return c=d,o!==d.getPriority().val()&&(c=c.updatePriority(new st(o))),d.forEachChild(Fe,(h,g)=>{const p=Sd(g,n.getImmediateChild(h),l);p!==g&&(c=c.updateImmediateChild(h,p))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(n="",l=null,a={children:{},childCount:0}){this.name=n,this.parent=l,this.node=a}}function Td(s,n){let l=n instanceof De?n:new De(n),a=s,o=de(l);for(;o!==null;){const c=Us(a.node.children,o)||{children:{},childCount:0};a=new Ed(o,a,c),l=ze(l),o=de(l)}return a}function Qs(s){return s.node.value}function Cv(s,n){s.node.value=n,Hf(s)}function Rv(s){return s.node.childCount>0}function oA(s){return Qs(s)===void 0&&!Rv(s)}function No(s,n){dt(s.node.children,(l,a)=>{n(new Ed(l,s,a))})}function Av(s,n,l,a){l&&n(s),No(s,o=>{Av(o,n,!0)})}function uA(s,n,l){let a=s.parent;for(;a!==null;){if(n(a))return!0;a=a.parent}return!1}function Ea(s){return new De(s.parent===null?s.name:Ea(s.parent)+"/"+s.name)}function Hf(s){s.parent!==null&&cA(s.parent,s.name,s)}function cA(s,n,l){const a=oA(l),o=hn(s.node.children,n);a&&o?(delete s.node.children[n],s.node.childCount--,Hf(s)):!a&&!o&&(s.node.children[n]=l.node,s.node.childCount++,Hf(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=/[\[\].#$\/\u0000-\u001F\u007F]/,dA=/[\[\].#$\u0000-\u001F\u007F]/,mf=10*1024*1024,Cd=function(s){return typeof s=="string"&&s.length!==0&&!fA.test(s)},Nv=function(s){return typeof s=="string"&&s.length!==0&&!dA.test(s)},hA=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Nv(s)},mA=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Zf(s)||s&&typeof s=="object"&&hn(s,".sv")},xv=function(s,n,l,a){a&&n===void 0||xo(bo(s,"value"),n,l)},xo=function(s,n,l){const a=l instanceof De?new DC(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+Oi(a));if(typeof n=="function")throw new Error(s+"contains a function "+Oi(a)+" with contents = "+n.toString());if(Zf(n))throw new Error(s+"contains "+n.toString()+" "+Oi(a));if(typeof n=="string"&&n.length>mf/3&&So(n)>mf)throw new Error(s+"contains a string greater than "+mf+" utf8 bytes "+Oi(a)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,c=!1;if(dt(n,(d,h)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!Cd(d)))throw new Error(s+" contains an invalid key ("+d+") "+Oi(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OC(a,d),xo(s,h,a),MC(a)}),o&&c)throw new Error(s+' contains ".value" child '+Oi(a)+" in addition to actual children.")}},pA=function(s,n){let l,a;for(l=0;l<n.length;l++){a=n[l];const c=ra(a);for(let d=0;d<c.length;d++)if(!(c[d]===".priority"&&d===c.length-1)){if(!Cd(c[d]))throw new Error(s+"contains an invalid key ("+c[d]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(wC);let o=null;for(l=0;l<n.length;l++){if(a=n[l],o!==null&&Zt(o,a))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},gA=function(s,n,l,a){const o=bo(s,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const c=[];dt(n,(d,h)=>{const g=new De(d);if(xo(o,h,Qe(l,g)),td(g)===".priority"&&!mA(h))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(g)}),pA(o,c)},wv=function(s,n,l,a){if(!Nv(l))throw new Error(bo(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_A=function(s,n,l,a){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),wv(s,n,l)},Rd=function(s,n){if(de(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},yA=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Cd(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!hA(l))throw new Error(bo(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wo(s,n){let l=null;for(let a=0;a<n.length;a++){const o=n[a],c=o.getPath();l!==null&&!nd(c,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:c}),l.events.push(o)}l&&s.eventLists_.push(l)}function Dv(s,n,l){wo(s,l),Ov(s,a=>nd(a,n))}function sn(s,n,l){wo(s,l),Ov(s,a=>Zt(a,n)||Zt(n,a))}function Ov(s,n){s.recursionDepth_++;let l=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const c=o.path;n(c)?(bA(s.eventLists_[a]),s.eventLists_[a]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function bA(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const a=l.getEventRunner();Wl&&ft("event: "+l.toString()),Ys(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="repo_interrupt",EA=25;class TA{constructor(n,l,a,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=no(),this.transactionQueueTree_=new Ed,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CA(s,n,l){if(s.stats_=$f(s.repoInfo_),s.forceRestClient_||eC())s.server_=new to(s.repoInfo_,(a,o,c,d)=>{z_(s,a,o,c,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>B_(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(l)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Mn(s.repoInfo_,n,(a,o,c,d)=>{z_(s,a,o,c,d)},a=>{B_(s,a)},a=>{RA(s,a)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=lC(s.repoInfo_,()=>new sR(s.stats_,s.server_)),s.infoData_=new $C,s.infoSyncTree_=new U_({startListening:(a,o,c,d)=>{let h=[];const g=s.infoData_.getNode(a._path);return g.isEmpty()||(h=Ro(s.infoSyncTree_,a._path,g),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Ad(s,"connected",!1),s.serverSyncTree_=new U_({startListening:(a,o,c,d)=>(s.server_.listen(a,c,o,(h,g)=>{const p=d(h,g);sn(s.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function Mv(s){const l=s.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Do(s){return lA({timestamp:Mv(s)})}function z_(s,n,l,a,o){s.dataUpdateCount++;const c=new De(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let d=[];if(o)if(a){const g=Pr(l,p=>at(p));d=eA(s.serverSyncTree_,c,g,o)}else{const g=at(l);d=$R(s.serverSyncTree_,c,g,o)}else if(a){const g=Pr(l,p=>at(p));d=ZR(s.serverSyncTree_,c,g)}else{const g=at(l);d=Ro(s.serverSyncTree_,c,g)}let h=c;d.length>0&&(h=Is(s,c)),sn(s.eventQueue_,h,d)}function B_(s,n){Ad(s,"connected",n),n===!1&&xA(s)}function RA(s,n){dt(n,(l,a)=>{Ad(s,l,a)})}function Ad(s,n,l){const a=new De("/.info/"+n),o=at(l);s.infoData_.updateSnapshot(a,o);const c=Ro(s.infoSyncTree_,a,o);sn(s.eventQueue_,a,c)}function Nd(s){return s.nextWriteId_++}function AA(s,n,l,a,o){Oo(s,"set",{path:n.toString(),value:l,priority:a});const c=Do(s),d=at(l,a),h=pd(s.serverSyncTree_,n),g=Tv(d,h,c),p=Nd(s),y=yv(s.serverSyncTree_,n,g,p,!0);wo(s.eventQueue_,y),s.server_.put(n.toString(),d.val(!0),(E,M)=>{const D=E==="ok";D||bt("set at "+n+" failed: "+E);const k=li(s.serverSyncTree_,p,!D);sn(s.eventQueue_,n,k),kf(s,o,E,M)});const b=wd(s,n);Is(s,b),sn(s.eventQueue_,b,[])}function NA(s,n,l,a){Oo(s,"update",{path:n.toString(),value:l});let o=!0;const c=Do(s),d={};if(dt(l,(h,g)=>{o=!1,d[h]=Ev(Qe(n,h),at(g),s.serverSyncTree_,c)}),o)ft("update() called with empty data.  Don't do anything."),kf(s,a,"ok",void 0);else{const h=Nd(s),g=KR(s.serverSyncTree_,n,d,h);wo(s.eventQueue_,g),s.server_.merge(n.toString(),l,(p,y)=>{const b=p==="ok";b||bt("update at "+n+" failed: "+p);const E=li(s.serverSyncTree_,h,!b),M=E.length>0?Is(s,n):n;sn(s.eventQueue_,M,E),kf(s,a,p,y)}),dt(l,p=>{const y=wd(s,Qe(n,p));Is(s,y)}),sn(s.eventQueue_,n,[])}}function xA(s){Oo(s,"onDisconnectEvents");const n=Do(s),l=no();Of(s.onDisconnect_,Se(),(o,c)=>{const d=Ev(o,c,s.serverSyncTree_,n);lv(l,o,d)});let a=[];Of(l,Se(),(o,c)=>{a=a.concat(Ro(s.serverSyncTree_,o,c));const d=wd(s,o);Is(s,d)}),s.onDisconnect_=no(),sn(s.eventQueue_,Se(),a)}function wA(s,n,l){let a;de(n._path)===".info"?a=j_(s.infoSyncTree_,n,l):a=j_(s.serverSyncTree_,n,l),Dv(s.eventQueue_,n._path,a)}function Uv(s,n,l){let a;de(n._path)===".info"?a=If(s.infoSyncTree_,n,l):a=If(s.serverSyncTree_,n,l),Dv(s.eventQueue_,n._path,a)}function DA(s){s.persistentConnection_&&s.persistentConnection_.interrupt(SA)}function Oo(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),ft(l,...n)}function kf(s,n,l,a){n&&Ys(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let c=o;a&&(c+=": "+a);const d=new Error(c);d.code=o,n(d)}})}function jv(s,n,l){return pd(s.serverSyncTree_,n,l)||le.EMPTY_NODE}function xd(s,n=s.transactionQueueTree_){if(n||Mo(s,n),Qs(n)){const l=zv(s,n);Y(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&OA(s,Ea(n),l)}else Rv(n)&&No(n,l=>{xd(s,l)})}function OA(s,n,l){const a=l.map(p=>p.currentWriteId),o=jv(s,n,a);let c=o;const d=o.hash();for(let p=0;p<l.length;p++){const y=l[p];Y(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const b=xt(n,y.path);c=c.updateChild(b,y.currentOutputSnapshotRaw)}const h=c.val(!0),g=n;s.server_.put(g.toString(),h,p=>{Oo(s,"transaction put response",{path:g.toString(),status:p});let y=[];if(p==="ok"){const b=[];for(let E=0;E<l.length;E++)l[E].status=2,y=y.concat(li(s.serverSyncTree_,l[E].currentWriteId)),l[E].onComplete&&b.push(()=>l[E].onComplete(null,!0,l[E].currentOutputSnapshotResolved)),l[E].unwatcher();Mo(s,Td(s.transactionQueueTree_,n)),xd(s,s.transactionQueueTree_),sn(s.eventQueue_,n,y);for(let E=0;E<b.length;E++)Ys(b[E])}else{if(p==="datastale")for(let b=0;b<l.length;b++)l[b].status===3?l[b].status=4:l[b].status=0;else{bt("transaction at "+g.toString()+" failed: "+p);for(let b=0;b<l.length;b++)l[b].status=4,l[b].abortReason=p}Is(s,n)}},d)}function Is(s,n){const l=Lv(s,n),a=Ea(l),o=zv(s,l);return MA(s,o,a),a}function MA(s,n,l){if(n.length===0)return;const a=[];let o=[];const d=n.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<n.length;h++){const g=n[h],p=xt(l,g.path);let y=!1,b;if(Y(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)y=!0,b=g.abortReason,o=o.concat(li(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=EA)y=!0,b="maxretry",o=o.concat(li(s.serverSyncTree_,g.currentWriteId,!0));else{const E=jv(s,g.path,d);g.currentInputSnapshot=E;const M=n[h].update(E.val());if(M!==void 0){xo("transaction failed: Data returned ",M,g.path);let D=at(M);typeof M=="object"&&M!=null&&hn(M,".priority")||(D=D.updatePriority(E.getPriority()));const B=g.currentWriteId,J=Do(s),Z=Tv(D,E,J);g.currentOutputSnapshotRaw=D,g.currentOutputSnapshotResolved=Z,g.currentWriteId=Nd(s),d.splice(d.indexOf(B),1),o=o.concat(yv(s.serverSyncTree_,g.path,Z,g.currentWriteId,g.applyLocally)),o=o.concat(li(s.serverSyncTree_,B,!0))}else y=!0,b="nodata",o=o.concat(li(s.serverSyncTree_,g.currentWriteId,!0))}sn(s.eventQueue_,l,o),o=[],y&&(n[h].status=2,(function(E){setTimeout(E,Math.floor(0))})(n[h].unwatcher),n[h].onComplete&&(b==="nodata"?a.push(()=>n[h].onComplete(null,!1,n[h].currentInputSnapshot)):a.push(()=>n[h].onComplete(new Error(b),!1,null))))}Mo(s,s.transactionQueueTree_);for(let h=0;h<a.length;h++)Ys(a[h]);xd(s,s.transactionQueueTree_)}function Lv(s,n){let l,a=s.transactionQueueTree_;for(l=de(n);l!==null&&Qs(a)===void 0;)a=Td(a,l),n=ze(n),l=de(n);return a}function zv(s,n){const l=[];return Bv(s,n,l),l.sort((a,o)=>a.order-o.order),l}function Bv(s,n,l){const a=Qs(n);if(a)for(let o=0;o<a.length;o++)l.push(a[o]);No(n,o=>{Bv(s,o,l)})}function Mo(s,n){const l=Qs(n);if(l){let a=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[a]=l[o],a++);l.length=a,Cv(n,l.length>0?l:void 0)}No(n,a=>{Mo(s,a)})}function wd(s,n){const l=Ea(Lv(s,n)),a=Td(s.transactionQueueTree_,n);return uA(a,o=>{pf(s,o)}),pf(s,a),Av(a,o=>{pf(s,o)}),l}function pf(s,n){const l=Qs(n);if(l){const a=[];let o=[],c=-1;for(let d=0;d<l.length;d++)l[d].status===3||(l[d].status===1?(Y(c===d-1,"All SENT items should be at beginning of queue."),c=d,l[d].status=3,l[d].abortReason="set"):(Y(l[d].status===0,"Unexpected transaction status in abort"),l[d].unwatcher(),o=o.concat(li(s.serverSyncTree_,l[d].currentWriteId,!0)),l[d].onComplete&&a.push(l[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?Cv(n,void 0):l.length=c+1,sn(s.eventQueue_,Ea(n),o);for(let d=0;d<a.length;d++)Ys(a[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(s){let n="";const l=s.split("/");for(let a=0;a<l.length;a++)if(l[a].length>0){let o=l[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function jA(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const a=l.split("=");a.length===2?n[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):bt(`Invalid query segment '${l}' in query '${s}'`)}return n}const I_=function(s,n){const l=LA(s),a=l.namespace;l.domain==="firebase.com"&&jn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&l.domain!=="localhost"&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||QT();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Gy(l.host,l.secure,a,o,n,"",a!==l.subdomain),path:new De(l.pathString)}},LA=function(s){let n="",l="",a="",o="",c="",d=!0,h="https",g=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(h=s.substring(0,p-1),s=s.substring(p+2));let y=s.indexOf("/");y===-1&&(y=s.length);let b=s.indexOf("?");b===-1&&(b=s.length),n=s.substring(0,Math.min(y,b)),y<b&&(o=UA(s.substring(y,b)));const E=jA(s.substring(Math.min(s.length,b)));p=n.indexOf(":"),p>=0?(d=h==="https"||h==="wss",g=parseInt(n.substring(p+1),10)):p=n.length;const M=n.slice(0,p);if(M.toLowerCase()==="localhost")l="localhost";else if(M.split(".").length<=2)l=M;else{const D=n.indexOf(".");a=n.substring(0,D).toLowerCase(),l=n.substring(D+1),c=a}"ns"in E&&(c=E.ns)}return{host:n,port:g,domain:l,subdomain:a,secure:d,scheme:h,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zA=(function(){let s=0;const n=[];return function(l){const a=l===s;s=l;let o;const c=new Array(8);for(o=7;o>=0;o--)c[o]=H_.charAt(l%64),l=Math.floor(l/64);Y(l===0,"Cannot push at time == 0");let d=c.join("");if(a){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)d+=H_.charAt(n[o]);return Y(d.length===20,"nextPushId: Length should be 20."),d}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(n,l,a,o){this.eventType=n,this.eventRegistration=l,this.snapshot=a,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class IA{constructor(n,l,a){this.eventRegistration=n,this.error=l,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(n,l,a,o){this._repo=n,this._path=l,this._queryParams=a,this._orderByCalled=o}get key(){return _e(this._path)?null:td(this._path)}get ref(){return new fi(this._repo,this._path)}get _queryIdentifier(){const n=T_(this._queryParams),l=Wf(n);return l==="{}"?"default":l}get _queryObject(){return T_(this._queryParams)}isEqual(n){if(n=Gs(n),!(n instanceof Dd))return!1;const l=this._repo===n._repo,a=nd(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+xC(this._path)}}class fi extends Dd{constructor(n,l){super(n,l,new ad,!1)}get parent(){const n=Wy(this._path);return n===null?null:new fi(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class co{constructor(n,l,a){this._node=n,this.ref=l,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new De(n),a=da(this.ref,n);return new co(this._node.getChild(l),a,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>n(new co(o,da(this.ref,a),Fe)))}hasChild(n){const l=new De(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gt(s,n){return s=Gs(s),s._checkNotDeleted("ref"),n!==void 0?da(s._root,n):s._root}function da(s,n){return s=Gs(s),de(s._path)===null?_A("child","path",n):wv("child","path",n),new fi(s._repo,Qe(s._path,n))}function k_(s,n){s=Gs(s),Rd("push",s._path),xv("push",n,s._path,!0);const l=Mv(s._repo),a=zA(l),o=da(s,a),c=da(s,a);let d;return d=Promise.resolve(c),o.then=d.then.bind(d),o.catch=d.then.bind(d,void 0),o}function HA(s){return Rd("remove",s._path),qf(s,null)}function qf(s,n){s=Gs(s),Rd("set",s._path),xv("set",n,s._path,!1);const l=new _a;return AA(s._repo,s._path,n,null,l.wrapCallback(()=>{})),l.promise}function Dn(s,n){gA("update",n,s._path);const l=new _a;return NA(s._repo,s._path,n,l.wrapCallback(()=>{})),l.promise}class Uo{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const a=l._queryParams.getIndex();return new BA("value",this,new co(n.snapshotNode,new fi(l._repo,l._path),a))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new IA(this,n,l):null}matches(n){return n instanceof Uo?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function kA(s,n,l,a,o){const c=new Iv(l,void 0),d=new Uo(c);return wA(s._repo,s,d),()=>Uv(s._repo,s,d)}function fo(s,n,l,a){return kA(s,"value",n)}function ho(s,n,l){let a=null;const o=l?new Iv(l):null;a=new Uo(o),Uv(s._repo,s,a)}kR(fi);FR(fi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="FIREBASE_DATABASE_EMULATOR_HOST",Gf={};let GA=!1;function YA(s,n,l,a){const o=n.lastIndexOf(":"),c=n.substring(0,o),d=Pf(c);s.repoInfo_=new Gy(n,d,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,l),a&&(s.authTokenProvider_=a)}function VA(s,n,l,a,o){let c=a||s.options.databaseURL;c===void 0&&(s.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=I_(c,o),h=d.repoInfo,g;typeof process<"u"&&l_&&(g=l_[qA]),g?(c=`http://${g}?ns=${h.namespace}`,d=I_(c,o),h=d.repoInfo):d.repoInfo.secure;const p=new nC(s.name,s.options,n);yA("Invalid Firebase Database URL",d),_e(d.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=FA(h,s,p,new tC(s,l));return new XA(y,s)}function QA(s,n){const l=Gf[n];(!l||l[s.key]!==s)&&jn(`Database ${n}(${s.repoInfo_}) has already been deleted.`),DA(s),delete l[s.key]}function FA(s,n,l,a){let o=Gf[n.name];o||(o={},Gf[n.name]=o);let c=o[s.toURLString()];return c&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new TA(s,GA,l,a),o[s.toURLString()]=c,c}class XA{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fi(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(QA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&jn("Cannot call "+n+" on a deleted database.")}}function PA(s=AT(),n){const l=ST(s,"database").getImmediate({identifier:n});if(!l._instanceStarted){const a=aE("database");a&&KA(l,...a)}return l}function KA(s,n,l,a={}){s=Gs(s),s._checkNotDeleted("useEmulator");const o=`${n}:${l}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Kr(a,c.repoInfo_.emulatorOptions))return;jn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(c.repoInfo_.nodeAdmin)a.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Vr(Vr.OWNER);else if(a.mockUserToken){const h=typeof a.mockUserToken=="string"?a.mockUserToken:oE(a.mockUserToken,s.app.options.projectId);d=new Vr(h)}Pf(n)&&(rE(n),fE("Database",!0)),YA(c,o,a,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(s){HT(RT),Wr(new sa("database",(n,{instanceIdentifier:l})=>{const a=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),c=n.getProvider("app-check-internal");return VA(a,o,c,l)},"PUBLIC").setMultipleInstances(!0)),ws(a_,r_,s),ws(a_,r_,"esm2020")}Mn.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};Mn.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};ZA();const WA={apiKey:"AIzaSyBzXzocbdytn4N8vLrT-V2JYZ8pgqWrbC0",authDomain:"self-balancing-7a9fe.firebaseapp.com",databaseURL:"https://self-balancing-7a9fe-default-rtdb.firebaseio.com",projectId:"self-balancing-7a9fe",storageBucket:"self-balancing-7a9fe.firebasestorage.app",messagingSenderId:"1044959372723",appId:"1:1044959372723:web:7e1f73307107cf91ba97c6",measurementId:"G-357J7ZXYED"},JA=Ry(WA),_t=PA(JA),$A=({routeToEdit:s,onFinishEditing:n})=>{const[l,a]=ae.useState(""),[o,c]=ae.useState([]),[d,h]=ae.useState(!1),[g,p]=ae.useState(null),[y,b]=ae.useState(!1),[E,M]=ae.useState(null),[D,k]=ae.useState(null),[B,J]=ae.useState(0),[Z,G]=ae.useState(null),oe=ae.useRef(null);ae.useEffect(()=>{s&&(a(s.name),p(s.id),h(!0))},[s]),ae.useEffect(()=>{if(!g){c([]);return}const me=gt(_t,`routes1/${g}/moves`),Me=fo(me,Be=>{const St=Be.val(),Et=St?Object.keys(St).map(Ge=>({key:Ge,...St[Ge]})):[];c(Et)});return()=>ho(me,"value",Me)},[g]),ae.useEffect(()=>{if(y){const me=Date.now();oe.current=setInterval(()=>{J(Math.floor((Date.now()-me)/1e3))},1e3)}else clearInterval(oe.current);return()=>clearInterval(oe.current)},[y]);const X=me=>{if(!(y||!d))if(Z){const Me=gt(_t,`routes1/${g}/moves/${Z}`);Dn(Me,{direction:me,duration:0}).then(()=>{k(Z),M(me),b(!0),J(0)})}else{const Me=gt(_t,`routes1/${g}/moves`),Be=k_(Me);qf(Be,{direction:me,duration:0}).then(()=>{k(Be.key),M(me),b(!0),J(0)})}},ee=()=>{if(!y||!D)return;const me=B>0?B:1,Me=gt(_t,`routes1/${g}/moves/${D}`);Dn(Me,{duration:me}).then(()=>{b(!1),M(null),k(null),G(null)})},P=()=>{s&&n(),h(!1),b(!1),M(null),G(null),p(null),a("")},Te=()=>{if(l.trim()===""){alert("Please enter a name for the route.");return}const me=k_(gt(_t,"routes1"));qf(me,{name:l,createdAt:new Date().toISOString()}).then(()=>{p(me.key),h(!0)})},Ie=me=>{let Me=`btn-${me}`;return y&&E===me&&(Me+=" active-movement"),Me};return v.jsx("div",{className:"control-panel",children:d?v.jsxs(v.Fragment,{children:[v.jsx("h2",{children:s?`Editing: ${l}`:`Mapping: ${l}`}),Z&&v.jsxs("div",{className:"editing-indicator",children:["Replacing Step ",o.findIndex(me=>me.key===Z)+1,v.jsx("button",{onClick:()=>G(null),className:"cancel-replace-btn",children:"Cancel"})]}),v.jsxs("div",{className:"movement-controls",children:[v.jsx("button",{className:Ie("forward"),onClick:()=>X("forward"),disabled:y,children:"Forward"}),v.jsx("button",{className:Ie("left"),onClick:()=>X("left"),disabled:y,children:"Left"}),v.jsx("div",{className:"btn-idle",children:y?`${B}s`:"Idle"}),v.jsx("button",{className:Ie("right"),onClick:()=>X("right"),disabled:y,children:"Right"}),v.jsx("button",{className:Ie("backward"),onClick:()=>X("backward"),disabled:y,children:"Backward"})]}),y&&v.jsx("div",{className:"stop-button-container",children:v.jsx("button",{onClick:ee,className:"stop-button",children:"Stop Movement"})}),v.jsxs("div",{className:"current-route",children:[v.jsx("h3",{children:"Live Route Steps:"}),v.jsx("ul",{children:o.map((me,Me)=>v.jsxs("li",{className:me.key===Z?"is-editing":"",children:[v.jsxs("span",{children:[Me+1,". ",me.direction," for ",me.duration,"s"]}),s&&v.jsx("button",{onClick:()=>G(me.key),disabled:y||Z,className:"replace-btn",children:"Replace"})]},me.key))})]}),v.jsx("div",{className:"action-buttons",children:v.jsx("button",{onClick:P,disabled:y,className:"tertiary",children:s?"Finish Editing":"Finish Mapping"})})]}):v.jsxs("div",{className:"start-mapping-container",children:[v.jsx("h2",{children:"Create a New Route"}),v.jsx("input",{type:"text",value:l,onChange:me=>a(me.target.value),placeholder:"Enter Route Name",className:"route-input-main"}),v.jsx("button",{onClick:Te,className:"start-mapping-button",children:"Start Mapping"})]})})},eN=({routes:s,selectedRouteId:n,isPlaying:l,currentMove:a,timeLeft:o,statusMessage:c,executionStateRef:d,onRouteSelect:h,onPlay:g,onPause:p,onStop:y,isDetectionPaused:b=!1,detectionCountdown:E=0})=>{const M=B=>{const J=B.target.value,Z=s.find(G=>G.id===J);h(J,Z?.name||"")},D=()=>b?v.jsxs("button",{disabled:!0,children:["Paused for Dust Detection (",E,"s)"]}):!l&&d.current.pauseCondition==="user"?v.jsx("button",{onClick:g,children:"Resume"}):l?v.jsx("button",{onClick:p,className:"pause-btn",children:"Pause"}):v.jsx("button",{onClick:()=>g(n),disabled:!n,children:"Play"}),k=()=>b?`DUST DETECTED - Resuming in ${E}s`:(l||d.current.isPaused)&&a?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"current-status",children:c}),v.jsxs("span",{className:"time-left",children:[o,"s left"]})]}):c||"Ready to Execute";return v.jsxs("div",{className:"route-executor-panel",children:[v.jsx("h2",{children:"Route Executor"}),b&&v.jsxs("div",{children:[v.jsx("strong",{children:"DUST DETECTED ON SOLAR PANEL"}),v.jsxs("p",{children:["Route execution paused for cleaning - Auto-resuming in ",E," seconds"]})]}),v.jsx("div",{className:"route-selection",children:v.jsxs("select",{onChange:M,value:n,disabled:l||d.current.isPaused||b,children:[v.jsx("option",{value:"",children:"-- Select a Route --"}),s.map(B=>v.jsx("option",{value:B.id,children:B.name},B.id))]})}),v.jsxs("div",{className:"execution-display",children:[v.jsx("div",{className:`status-light ${l?"playing":""} ${d.current.isPaused?"paused":""}`}),v.jsx("div",{className:"move-info",children:k()})]}),v.jsxs("div",{className:"execution-controls",children:[D(),v.jsx("button",{onClick:y,disabled:!l&&!d.current.isPaused||b,children:"Stop"})]}),n&&v.jsxs("div",{className:"selected-route-details",children:[v.jsx("h3",{children:"Selected Route"}),v.jsxs("div",{className:"route-info",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Route:"})," ",s.find(B=>B.id===n)?.name]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Total Moves:"})," ",s.find(B=>B.id===n)?.moves?.length||0]}),l&&a&&v.jsxs("p",{children:[v.jsx("strong",{children:"Current Move:"})," ",a.direction," (",a.duration,"s total)"]}),b&&v.jsxs("p",{children:[v.jsx("strong",{children:"Status:"})," Paused for dust cleaning - will resume automatically"]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{children:"Dust Detection System"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Real-time monitoring via YOLOv8"}),v.jsx("li",{children:"10-second automatic pause for cleaning"}),v.jsx("li",{children:"Resumes from exact stopped point"})]})]})]})},tN=({onEdit:s})=>{const[n,l]=ae.useState([]),[a,o]=ae.useState(null);ae.useEffect(()=>{const d=gt(_t,"routes1"),h=fo(d,g=>{const p=g.val(),y=p?Object.keys(p).map(b=>({id:b,...p[b]})).sort((b,E)=>new Date(E.createdAt)-new Date(b.createdAt)):[];l(y)});return()=>ho(d,"value",h)},[]);const c=d=>{if(window.confirm("Are you sure you want to delete this route?")){const h=gt(_t,`routes1/${d}`);HA(h).then(()=>{alert("Route deleted successfully!"),a?.id===d&&o(null)}).catch(g=>{alert("Failed to delete route."),console.error("Error deleting route: ",g)})}};return v.jsxs("div",{className:"route-list-panel",children:[v.jsx("h2",{children:"Saved Routes"}),v.jsx("div",{className:"route-list",children:n.length>0?n.map(d=>v.jsxs("div",{className:`route-item ${a?.id===d.id?"selected":""}`,children:[v.jsx("span",{className:"route-name",onClick:()=>o(d),children:d.name}),v.jsxs("div",{className:"route-actions",children:[v.jsx("button",{onClick:()=>s(d),className:"edit",children:"Edit"}),v.jsx("button",{onClick:()=>c(d.id),className:"delete",children:"Delete"})]})]},d.id)):v.jsx("p",{children:"No routes saved yet."})}),a&&v.jsxs("div",{className:"selected-route-details",children:[v.jsxs("h3",{children:['Details for "',a.name,'"']}),v.jsx("ul",{children:a.moves.map((d,h)=>v.jsxs("li",{children:[h+1,". Move ",d.direction," for ",d.duration," seconds."]},h))})]})]})},nN=()=>{const[s,n]=ae.useState(""),[l,a]=ae.useState(""),o=async d=>{try{await Dn(gt(_t,"24_Robot"),{direction:d,duration:0,timestamp:new Date().toISOString(),manual:!0}),n(d),a(new Date().toLocaleTimeString()),console.log(`Manual command sent: ${d}`)}catch(h){console.error("Error sending direction to Firebase:",h),alert("Failed to send command. Please check your connection.")}},c=async()=>{try{await Dn(gt(_t,"24_Robot"),{direction:"S",duration:0,timestamp:new Date().toISOString(),manual:!0}),n("IDLE"),a(new Date().toLocaleTimeString()),console.log("Robot set to idle")}catch(d){console.error("Error setting robot to idle:",d),alert("Failed to set robot to idle. Please check your connection.")}};return v.jsx("div",{className:"manual-control-panel",children:v.jsx("div",{className:"manual-control-container",children:v.jsxs("div",{className:"control-section",children:[v.jsx("h2",{children:"Manual Robot Control"}),v.jsx("p",{className:"control-description",children:"Use the directional buttons below to manually control the robot movement. Each button sends an immediate command to the robot."}),v.jsxs("div",{className:"manual-movement-controls",children:[v.jsx("div",{className:"control-row top-row",children:v.jsx("button",{className:"direction-btn btn-left",onClick:()=>o("L"),title:"Turn Left",children:"Left"})}),v.jsxs("div",{className:"control-row middle-row",children:[v.jsx("button",{className:"direction-btn btn-forward",onClick:()=>o("F"),title:"Move Forward",children:"Forward"}),v.jsx("button",{className:"direction-btn btn-idle",onClick:c,title:"Stop",children:"Stop"}),v.jsx("button",{className:"direction-btn btn-backward",onClick:()=>o("B"),title:"Move Backward",children:"Backward"})]}),v.jsx("div",{className:"control-row bottom-row",children:v.jsx("button",{className:"direction-btn btn-right",onClick:()=>o("R"),title:"Turn Right",children:"Right"})})]}),v.jsxs("div",{className:"control-info",children:[v.jsxs("div",{className:"info-card",children:[v.jsx("h4",{children:"📋 Control Instructions"}),v.jsxs("ul",{children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Forward:"}),' Sends "F" - Robot moves forward']}),v.jsxs("li",{children:[v.jsx("strong",{children:"Left:"}),' Sends "L" - Robot turns left']}),v.jsxs("li",{children:[v.jsx("strong",{children:"Right:"}),' Sends "R" - Robot turns right']}),v.jsxs("li",{children:[v.jsx("strong",{children:"Backward:"}),' Sends "B" - Robot moves backward']}),v.jsxs("li",{children:[v.jsx("strong",{children:"Stop:"})," Sets robot to idle state"]})]})]}),v.jsxs("div",{className:"info-card",children:[v.jsx("h4",{children:"⚠️ Safety Notes"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Commands are sent immediately when buttons are pressed"}),v.jsx("li",{children:"Use the Idle button to set robot to neutral state"}),v.jsx("li",{children:"Manual control overrides automatic route execution"}),v.jsx("li",{children:"Ensure clear path before sending movement commands"})]})]})]})]})})})};function iN(){const[s,n]=ae.useState("dashboard"),[l,a]=ae.useState(!1),[o,c]=ae.useState(null),[d,h]=ae.useState([]),[g,p]=ae.useState(""),[y,b]=ae.useState(!1),[E,M]=ae.useState(""),[D,k]=ae.useState(null),[B,J]=ae.useState(0),[Z,G]=ae.useState("Ready to Execute"),oe=ae.useRef(null),X=ae.useRef(null),ee=ae.useRef(0),P=ae.useRef({route:null,moveIndex:0,remainingDuration:0,isPaused:!1,pauseCondition:null}),Te=()=>{oe.current&&(clearTimeout(oe.current),oe.current=null),X.current&&(clearInterval(X.current),X.current=null)};ae.useEffect(()=>{const H=gt(_t,"routes1"),q=fo(H,Q=>{const $=Q.val(),K=$?Object.keys($).map(ke=>{const Ee=$[ke].moves?Object.values($[ke].moves):[];return{id:ke,name:$[ke].name,moves:Ee}}):[];h(K)});return()=>ho(H,"value",q)},[]),ae.useEffect(()=>{if(!y&&!P.current.isPaused)return;const H=gt(_t,"24_Robot"),q=fo(H,Q=>{const $=Q.val();let K=0;$?.detection&&(typeof $.detection=="number"?K=$.detection:$.detection.status!==void 0&&(K=$.detection.status)),console.log("Detection value:",K),K===1&&!P.current.isPaused?(console.log("Dust detected - pausing execution"),Ie()):K===0&&P.current.pauseCondition==="detection"&&(console.log("Dust cleared - resuming execution"),me())});return()=>ho(H,"value",q)},[y]);const Ie=()=>{console.log("PAUSING FOR DETECTION"),Te();const H=ee.current;console.log("Actual remaining time from ref:",H),Dn(gt(_t,"24_Robot"),{direction:"S"}),P.current.remainingDuration=H,P.current.isPaused=!0,P.current.pauseCondition="detection",b(!1),G(`DUST DETECTED - Paused (${H}s remaining)`),console.log("Paused with remaining:",H)},me=()=>{console.log("RESUMING FROM DETECTION"),console.log("Saved remaining duration:",P.current.remainingDuration),P.current.isPaused=!1,P.current.pauseCondition=null,b(!0),G("Resuming..."),Me()},Me=()=>{const{route:H,moveIndex:q,remainingDuration:Q}=P.current;if(!H||!H.moves||q>=H.moves.length){Et();return}const $=H.moves[q],K=Q;console.log("CONTINUING MOVE:",{move:$.direction,originalDuration:$.duration,remainingTime:Q,usingTime:K}),Te();const ke=Ee=>({forward:"F",backward:"B",left:"L",right:"R"})[Ee.toLowerCase()]||Ee.charAt(0).toUpperCase();k($),J(K),G(`Continuing: ${$.direction} (${K}s remaining)`),ee.current=K,Dn(gt(_t,"24_Robot"),{direction:ke($.direction),duration:$.duration,timestamp:new Date().toISOString()}),oe.current=setTimeout(()=>{P.current.isPaused||(console.log("Move completed, advancing to next"),P.current.moveIndex=(q+1)%H.moves.length,P.current.remainingDuration=0,Be())},K*1e3),X.current=setInterval(()=>{P.current.isPaused||(ee.current=Math.max(0,ee.current-1),J(ee.current),P.current.remainingDuration=ee.current)},1e3)},Be=()=>{const{route:H,moveIndex:q}=P.current;if(!H||!H.moves||q>=H.moves.length){Et();return}const Q=H.moves[q],$=Q.duration;console.log("STARTING NEW MOVE:",Q.direction,"for",$,"seconds"),Te();const K=ke=>({forward:"F",backward:"B",left:"L",right:"R"})[ke.toLowerCase()]||ke.charAt(0).toUpperCase();k(Q),J($),G(`Moving: ${Q.direction}`),ee.current=$,Dn(gt(_t,"24_Robot"),{direction:K(Q.direction),duration:Q.duration,timestamp:new Date().toISOString()}),oe.current=setTimeout(()=>{P.current.isPaused||(P.current.moveIndex=(q+1)%H.moves.length,P.current.remainingDuration=0,Be())},$*1e3),X.current=setInterval(()=>{P.current.isPaused||(ee.current=Math.max(0,ee.current-1),J(ee.current),P.current.remainingDuration=ee.current)},1e3)},St=(H=g)=>{const q=d.find(Q=>Q.id===H);if(!q||q.moves.length===0){alert("Please select a route with at least one move.");return}(!g||g!==H)&&(p(H),M(q.name)),P.current={route:q,moveIndex:0,remainingDuration:0,isPaused:!1,pauseCondition:null},b(!0),Be()},Et=()=>{console.log("Stopping execution..."),Te(),Dn(gt(_t,"24_Robot"),{direction:"S",duration:0,timestamp:new Date().toISOString()}),P.current={route:null,moveIndex:0,remainingDuration:0,isPaused:!1,pauseCondition:null},ee.current=0,b(!1),p(""),M(""),k(null),J(0),G("Stopped")},Ge=()=>{y&&P.current.pauseCondition!=="detection"&&(Te(),Dn(gt(_t,"24_Robot"),{direction:"S"}),P.current.remainingDuration=ee.current,P.current.isPaused=!0,P.current.pauseCondition="user",b(!1),G("Paused by user"))};ae.useEffect(()=>()=>{Te()},[]);const U=H=>{console.log("Switching to view:",H),n(H),H!=="route-creation"&&c(null)},V=()=>{a(!l)},te=H=>{c(H),n("route-creation")},Ce=()=>{c(null),n("route-management")},T=(H,q)=>{y||(p(H),q&&M(q))},I=()=>{try{switch(s){case"dashboard":return v.jsx("div",{className:"view-container dashboard-view",children:v.jsx(Fg,{})});case"route-creation":return v.jsxs("div",{className:"view-container",children:[v.jsxs("div",{className:"view-header",children:[v.jsx("h1",{children:"Route Creation"}),v.jsx("p",{children:"Create and map new robot routes"})]}),v.jsx($A,{routeToEdit:o,onFinishEditing:Ce})]});case"route-execution":return v.jsxs("div",{className:"view-container",children:[v.jsxs("div",{className:"view-header",children:[v.jsx("h1",{children:"Route Execution"}),v.jsx("p",{children:"Execute your saved robot routes"})]}),v.jsx(eN,{routes:d,selectedRouteId:g,isPlaying:y,currentMove:D,timeLeft:B,statusMessage:Z,executionStateRef:P,onRouteSelect:T,onPlay:St,onPause:Ge,onStop:Et})]});case"route-management":return v.jsxs("div",{className:"view-container",children:[v.jsxs("div",{className:"view-header",children:[v.jsx("h1",{children:"Route Management"}),v.jsx("p",{children:"Manage and organize your saved routes"})]}),v.jsx(tN,{onEdit:te})]});case"manual-control":return v.jsxs("div",{className:"view-container",children:[v.jsxs("div",{className:"view-header",children:[v.jsx("h1",{children:"Manual Robot Movement"}),v.jsx("p",{children:"Direct control of robot movement"})]}),v.jsx(nN,{})]});default:return v.jsx("div",{className:"view-container",children:v.jsx(Fg,{})})}}catch(H){return console.error("Error rendering content:",H),v.jsx("div",{className:"view-container",children:v.jsx("div",{className:"error-fallback",children:v.jsxs("div",{className:"error-container",children:[v.jsx("div",{className:"error-icon",children:"Warning"}),v.jsx("h2",{children:"View Error"}),v.jsx("p",{children:"There was an error loading this view. Please try refreshing the page."}),v.jsx("button",{onClick:()=>n("dashboard"),className:"retry-button",children:"Go to Dashboard"})]})})})}};return v.jsxs("div",{className:"app",children:[v.jsx(vS,{activeView:s,onViewChange:U,isCollapsed:l,onToggleCollapse:V,isRouteExecuting:y,executingRouteName:E,currentMove:D,timeLeft:B,statusMessage:Z,onStop:Et,onPause:Ge,onPlay:()=>St(),isPaused:P.current.isPaused}),v.jsx("main",{className:`main-content ${l?"sidebar-collapsed":"sidebar-expanded"}`,children:v.jsx("div",{className:"content-wrapper",children:I()})})]})}yS.createRoot(document.getElementById("root")).render(v.jsx(cS.StrictMode,{children:v.jsx(iN,{})}));
